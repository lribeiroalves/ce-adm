/*! v7165 e5ed2e9f */
var __dv_global_script_start_time__="undefined"!=typeof performance&&"function"==typeof performance.now?performance.now():void 0,__webpack_modules__={2328:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DATA_NODE_KEY=e.MONITORING_TAG_ON_TOP_LEVEL_KEY=e.TRACKING_RATE_KEY=e.TRACKING_EVENT_CATEGORY=e.TRACKING_BASE_URL=e.MAX_WINDOW_DEPTH=void 0,e.MAX_WINDOW_DEPTH=20,e.TRACKING_BASE_URL="https://vtrk.doubleverify.com",e.TRACKING_EVENT_CATEGORY="data-transparency",e.TRACKING_RATE_KEY="dv-data-transparency-tracking-rate",e.MONITORING_TAG_ON_TOP_LEVEL_KEY="dv-data-transparency-top-level-monitoring",e.DATA_NODE_KEY="dv-data-transparency-data-node"},9522:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Container=void 0;var i=function(){function t(){this.container={}}return Object.defineProperty(t.prototype,"size",{get:function(){return Object.keys(this.container).length},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.size},t.prototype.clear=function(){this.container={}},t.prototype.get=function(t){if(void 0===this.container[t])throw new Error("undefined container item: "+t);return this.container[t]},t.prototype.set=function(t,e){if(void 0===e)throw new Error("cannot store undefined in container: "+t);this.container[t]=e},t}();e.Container=i},443:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.coverageToBitFlag=void 0;e.coverageToBitFlag=function(t){return(t.sellerPageTag?1:0)|(t.sellerMonitoringTag?2:0)|(t.buyerMonitoringTag?4:0)}},1064:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getAncestorWindows=void 0;var n=i(2328),s=function(t,e,i,n){if(!(i>=n||t===t.top)){var r=t.parent;r!==t&&(e.unshift(r),s(r,e,i+1,n))}};e.getAncestorWindows=function(t,e){void 0===e&&(e=n.MAX_WINDOW_DEPTH);var i=[];try{s(t,i,0,e)}catch(t){}return i}},1665:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCorrespondentWindow=void 0;var n=i(1064);e.getCorrespondentWindow=function(t,e){var i=(0,n.getAncestorWindows)(t);return i.length===e?t:i.length>e?i[e]:null}},6172:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCurrentTimestamp=void 0;e.getCurrentTimestamp=function(){var t,e;try{return null!==(e=null===(t=null===Date||void 0===Date?void 0:Date.now)||void 0===t?void 0:t.call(Date))&&void 0!==e?e:0}catch(t){}return 0}},8839:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDescendantWindows=void 0;var n=i(2328),s=function(t,e,i,n){if(!(i>=n))for(var r=0;r<t.length;r++){var o=t[r];e.push(o),s(o,e,i+1,n)}};e.getDescendantWindows=function(t,e){void 0===e&&(e=n.MAX_WINDOW_DEPTH);var i=[];try{s(t,i,0,e)}catch(t){}return i}},135:function(t,e,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),s=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),e.validateWindow=e.getDescendantWindows=e.getCurrentTimestamp=e.getCorrespondentWindow=e.getAncestorWindows=e.coverageToBitFlag=e.Container=void 0,s(i(2328),e);var r=i(9522);Object.defineProperty(e,"Container",{enumerable:!0,get:function(){return r.Container}});var o=i(443);Object.defineProperty(e,"coverageToBitFlag",{enumerable:!0,get:function(){return o.coverageToBitFlag}});var a=i(1064);Object.defineProperty(e,"getAncestorWindows",{enumerable:!0,get:function(){return a.getAncestorWindows}});var u=i(1665);Object.defineProperty(e,"getCorrespondentWindow",{enumerable:!0,get:function(){return u.getCorrespondentWindow}});var c=i(6172);Object.defineProperty(e,"getCurrentTimestamp",{enumerable:!0,get:function(){return c.getCurrentTimestamp}});var d=i(8839);Object.defineProperty(e,"getDescendantWindows",{enumerable:!0,get:function(){return d.getDescendantWindows}});var l=i(7924);Object.defineProperty(e,"validateWindow",{enumerable:!0,get:function(){return l.validateWindow}})},7924:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateWindow=void 0;e.validateWindow=function(t){try{return null!=t&&null!=t.top&&null!=t.parent&&null!=t.length&&t.window===t&&"function"==typeof t.postMessage}catch(t){return!1}}},6777:function(t,e,i){"use strict";var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,s,r=i.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=r.next()).done;)o.push(n.value)}catch(t){s={error:t}}finally{try{n&&!n.done&&(i=r.return)&&i.call(r)}finally{if(s)throw s.error}}return o},r=this&&this.__spreadArray||function(t,e,i){if(i||2===arguments.length)for(var n,s=0,r=e.length;s<r;s++)!n&&s in e||(n||(n=Array.prototype.slice.call(e,0,s)),n[s]=e[s]);return t.concat(n||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.DataNode=void 0;var o=i(135),a=i(6240),u=i(2749),c=i(4419),d=function(){function t(t,e){void 0===e&&(e=!1),this.sharedState=(0,c.getEmptyState)(),this.correspondents=[],this.localTagSubscriptions=[],this.dispatchMessageListeners=[],this.hostWindow=t,this.hostWindowDepth=(0,o.getAncestorWindows)(this.hostWindow).length,this.hubWindow=this.hostWindow,this.hubWindowDepth=this.hostWindowDepth,this.broadcastingDisabled=e}return Object.defineProperty(t.prototype,"depth",{get:function(){return this.hostWindowDepth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onDispatchMessage",{set:function(t){this.dispatchMessageListeners.push(t)},enumerable:!1,configurable:!0}),t.prototype.isHub=function(){return this.hubWindow===this.hostWindow},t.prototype.isAllowedToCorrespond=function(){return this.localTagSubscriptions.length>0},t.prototype.mergeState=function(t){var e=(0,a.updateSharedState)(this.sharedState,t),i=e.newState,n=e.stateWasUpdated,s=e.inputWasIncomplete;return this.sharedState=i,{stateWasUpdated:n,inputWasIncomplete:s}},t.prototype.composeMessage=function(t){return void 0===t&&(t=!1),{sharedState:(0,u.copyState)(this.sharedState),source:{windowDepth:this.hostWindowDepth,canBecomeHub:!0,responseRequired:t}}},t.prototype.registerCorrespondent=function(t,e,i){t===this.hostWindow||this.correspondents.includes(t)||(this.correspondents.push(t),i&&(null==this.hubWindow||e<this.hubWindowDepth)&&(this.hubWindow=t,this.hubWindowDepth=e))},t.prototype.dispatchMessage=function(t,e){var i,s,r,a;if(0!==e.length){var u={command:"data-transparency-update",payload:t,timestamp:(0,o.getCurrentTimestamp)()};try{for(var c=n(e),d=c.next();!d.done;d=c.next()){var l=d.value;try{l.postMessage(u,"*")}catch(t){}}}catch(t){i={error:t}}finally{try{d&&!d.done&&(s=c.return)&&s.call(c)}finally{if(i)throw i.error}}try{for(var h=n(this.dispatchMessageListeners),v=h.next();!v.done;v=h.next()){(0,v.value)(u,e)}}catch(t){r={error:t}}finally{try{v&&!v.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}}},t.prototype.notifyLocalTags=function(){var t,e;try{for(var i=n(this.localTagSubscriptions),s=i.next();!s.done;s=i.next()){(0,s.value)(this.sharedState)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.notifyAllowedCorrespondents=function(t){if(this.isAllowedToCorrespond()){var e=[];this.isHub()?e.push.apply(e,r([],s(this.correspondents.filter((function(e){return e!==t}))),!1)):this.hubWindow!==t&&e.push(this.hubWindow),this.dispatchMessage(this.composeMessage(),e)}},t.prototype.notifyCorrespondent=function(t){this.isAllowedToCorrespond()&&this.dispatchMessage(this.composeMessage(),[t])},t.prototype.broadCastState=function(){var t=this;if(!this.broadcastingDisabled&&this.isAllowedToCorrespond())if(this.notifyAllowedCorrespondents(),this.isHub())this.dispatchMessage(this.composeMessage(!0),r(r([],s((0,o.getAncestorWindows)(this.hostWindow)),!1),s((0,o.getDescendantWindows)(this.hostWindow)),!1).filter((function(e){return!t.correspondents.includes(e)})));else{var e=(0,o.getAncestorWindows)(this.hubWindow);e.length>0&&this.dispatchMessage(this.composeMessage(!0),e)}},t.prototype.ingestMessageFromCorrespondent=function(t,e){var i=t.sharedState,n=t.source,s=(0,o.getCorrespondentWindow)(e,n.windowDepth);if(null!=s){this.registerCorrespondent(s,n.windowDepth,n.canBecomeHub);var r=this.mergeState(i),a=r.stateWasUpdated,u=r.inputWasIncomplete;a&&(this.notifyLocalTags(),this.isHub()&&this.notifyAllowedCorrespondents(s));var c=this.isHub()&&u,d=this.isHub()&&n.responseRequired,l=s===this.hubWindow&&n.responseRequired;(c||d||l)&&this.notifyCorrespondent(s)}},t.prototype.registerLocalTagAndSubscribe=function(t,e){void 0===e&&(e=function(){});var i=this.mergeState(t).stateWasUpdated,n=0===this.localTagSubscriptions.length;this.localTagSubscriptions.includes(e)||this.localTagSubscriptions.push(e),i?this.notifyLocalTags():e(this.sharedState),n?this.broadCastState():i&&this.notifyAllowedCorrespondents()},t}();e.DataNode=d},4614:function(t,e,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),s=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),s(i(6777),e),s(i(8119),e),s(i(6240),e),s(i(3665),e)},8119:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},457:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareLinkingPriority=void 0;e.compareLinkingPriority=function(t,e){return t.sharedId===e.sharedId?0:null==t.sharedId?2:null==e.sharedId?1:t.depth>e.depth?2:t.depth<e.depth?1:t.sharedId>e.sharedId?2:1}},5208:function(t,e){"use strict";var i=this&&this.__read||function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,s,r=i.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=r.next()).done;)o.push(n.value)}catch(t){s={error:t}}finally{try{n&&!n.done&&(i=r.return)&&i.call(r)}finally{if(s)throw s.error}}return o};Object.defineProperty(e,"__esModule",{value:!0}),e.compareRecordPriority=void 0;e.compareRecordPriority=function(t,e,n){return null!=t&&null!=e?function(t,e){return Object.entries(t).every((function(t){var n=i(t,2),s=n[0],r=n[1];return e[s]===r}))}(t,e)?0:n:null==t&&null==e?0:null==e?1:2}},6240:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.updateSharedState=void 0;var n=i(9276);Object.defineProperty(e,"updateSharedState",{enumerable:!0,get:function(){return n.updateSharedState}})},9276:function(t,e,i){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},n.apply(this,arguments)},s=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.updateSharedState=void 0;var r=i(2749),o=i(457),a=i(5208);e.updateSharedState=function(t,e){var i,u,c={newState:(0,r.copyState)(t),stateWasUpdated:!1,inputWasIncomplete:!1},d=(0,o.compareLinkingPriority)(t.linking,e.linking);2===d?(c.stateWasUpdated=!0,c.newState.linking=n({},e.linking)):1===d&&(c.inputWasIncomplete=!0);try{for(var l=s(Object.keys(t.coverage)),h=l.next();!h.done;h=l.next()){var v=h.value;e.coverage[v]?t.coverage[v]||(c.stateWasUpdated=!0,c.newState.coverage[v]=!0):t.coverage[v]&&(c.inputWasIncomplete=!0)}}catch(t){i={error:t}}finally{try{h&&!h.done&&(u=l.return)&&u.call(l)}finally{if(i)throw i.error}}var p=(0,a.compareRecordPriority)(t.visit,e.visit,d);2===p?(c.stateWasUpdated=!0,c.newState.visit=n({},e.visit)):1===p&&(c.inputWasIncomplete=!0);var f=(0,a.compareRecordPriority)(t.sellerDimensions,e.sellerDimensions,d);return 2===f?(c.stateWasUpdated=!0,c.newState.sellerDimensions=n({},e.sellerDimensions)):1===f&&(c.inputWasIncomplete=!0),c}},2749:function(t,e){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.copyState=void 0;e.copyState=function(t){var e={linking:i({},t.linking),coverage:i({},t.coverage)};return null!=t.visit&&(e.visit=i({},t.visit)),null!=t.sellerDimensions&&(e.sellerDimensions=i({},t.sellerDimensions)),e}},4419:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEmptyState=void 0;var n=i(135);e.getEmptyState=function(){return{linking:{sharedId:null,depth:0,timestamp:(0,n.getCurrentTimestamp)()},coverage:{sellerPageTag:!1,sellerMonitoringTag:!1,buyerMonitoringTag:!1}}}},3665:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateSharedState=e.validateMessageData=void 0;var n=i(5571);Object.defineProperty(e,"validateMessageData",{enumerable:!0,get:function(){return n.validateMessageData}});var s=i(1149);Object.defineProperty(e,"validateSharedState",{enumerable:!0,get:function(){return s.validateSharedState}})},5571:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateMessageData=void 0;var n=i(1149);e.validateMessageData=function(t){var e=t.command,i=t.payload,s=t.timestamp;if("data-transparency-update"!==e||null==i||"number"!=typeof s)return!1;var r=i.sharedState,o=i.source;return null!=r&&(0,n.validateSharedState)(r)&&(null==o||"number"==typeof o.windowDepth&&"boolean"==typeof o.responseRequired)}},1149:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateSharedState=void 0;e.validateSharedState=function(t){return null!=t.linking&&(null==t.linking.sharedId||"string"==typeof t.linking.sharedId)&&"number"==typeof t.linking.depth&&"number"==typeof t.linking.timestamp&&null!=t.coverage&&"boolean"==typeof t.coverage.sellerPageTag&&"boolean"==typeof t.coverage.sellerMonitoringTag&&"boolean"==typeof t.coverage.buyerMonitoringTag&&(null==t.visit||"string"==typeof t.visit.pageUrl&&"string"==typeof t.visit.userAgent)&&(null==t.sellerDimensions||Object.values(t.sellerDimensions).every((function(t){return"string"==typeof t})))}},659:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.subscribe=e.initialize=e.coverageToBitFlag=void 0;var n=i(135),s=i(4614),r=i(422),o=i(135);Object.defineProperty(e,"coverageToBitFlag",{enumerable:!0,get:function(){return o.coverageToBitFlag}});e.initialize=function(t){try{(0,r.maybeInitializeDataNode)(t)}catch(t){}};e.subscribe=function(t,e,i){var o;try{o=(0,r.maybeInitializeDataNode)(t)}catch(t){return}if(null!=o){var a={linking:{sharedId:i.impressionId,depth:o.depth,timestamp:(0,n.getCurrentTimestamp)()},coverage:{sellerPageTag:!1,sellerMonitoringTag:i.isSellerTag,buyerMonitoringTag:!i.isSellerTag},sellerDimensions:i.sellerDimensions};try{(0,s.validateSharedState)(a)&&o.registerLocalTagAndSubscribe(a,e)}catch(t){}}}},422:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.maybeInitializeDataNode=void 0;var n,s=i(135),r=i(4614),o=i(8266),a=(n=!1,function(t){if(!n){n=!0;try{var e=t[s.MONITORING_TAG_ON_TOP_LEVEL_KEY];null!=e&&e()}catch(t){}}});e.maybeInitializeDataNode=function(t){if(!(0,s.validateWindow)(t))return null;if(t===t.top)return a(t),null;var e=t[s.DATA_NODE_KEY];return null==e&&(e=new r.DataNode(t),(0,o.setMessageListener)(t,e),t[s.DATA_NODE_KEY]=e),e}},8266:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setMessageListener=void 0;var n=i(135),s=i(4614);e.setMessageListener=function(t,e){try{t.addEventListener("message",(function(t){(0,n.validateWindow)(t.source)&&(0,s.validateMessageData)(t.data)&&e.ingestMessageFromCorrespondent(t.data.payload,t.source)}))}catch(t){}}},3314:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.o=void 0;const n=i(7360),s=i(9450),r=i(425),o=i(749),a=i(712),u=i(6820);e.o=class{constructor(){this.timeoutReference=null,this.shouldRetry=!0,this.numberOfRetries=0,this.retryInterval=0}get shortName(){return`dal${this.bit}`}retry(t,e=0){this.timeoutReference=(0,u.scheduleTask)((()=>{t(e,this.reportCandidate.bind(this),this.reportError.bind(this)),e+=1,this.shouldRetry&&e<this.numberOfRetries?this.retry(t,e+1):this.shouldRetry=!1}),0===e?0:this.retryInterval)}reportCandidate(t){this.shouldRetry=!1,this.clearTimeoutReference(),n.u.dispatchEvent(n.DvEvent.adCandidateLocated,new s.AdCandidateEventData(t))}reportError(t,e=!0){this.shouldRetry=e,o.v.sendError(a.ClientErrorType.AdLocationError,t)}clearTimeoutReference(){null!=this.timeoutReference&&(r.p.clearTimeout(this.timeoutReference),this.timeoutReference=null)}}},5219:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.m=void 0;const n=i(425),s=i(712),r=i(7360),o=i(749),a=i(6820),u=i(3868),c=i(9450);e.m=class{constructor(t,e=500){this.maxNumberOfTries=t,this.interval=e,this.numberOfTries=0,this.isSupported()&&(this._="al"+this.getMethod(),r.u.addEventListener(r.DvEvent.adSelected,this.clearTimeoutReference.bind(this)))}getNumberOfTries(){return this.numberOfTries}getNumberOfAdSizeValidationFailures(){return 0}getScanDiagnosticData(){return new Map}reportAdNotLocated(){}start(){this.isSupported()&&(this.timeoutReference=(0,a.scheduleTask)((()=>this.tryGetAds())))}processAdCandidates(t){const e=this.getSupportedDeliveryType(),i=this.getMethod(),n=u.S.workingWindow();return null==t||t.forEach((t=>{t.supportedDeliveryType=e,t.locatorMethods=i,t.windowElement=u.S.getDefaultWindow(t.domElement)||n,t.priority=this.getPriority(t)})),t}tryGetAds(){(0,a.invokeWithPerformanceMeasures)({name:this._},(()=>{this.numberOfTries+=1;try{const t=this.getAds();r.u.dispatchEvent(r.DvEvent.adLocationTry,c.O.M(this)),(null==t?void 0:t.length)?(this.processAdCandidates(t).forEach((t=>r.u.dispatchEvent(r.DvEvent.adCandidateLocated,new c.AdCandidateEventData(t)))),this.clearTimeoutReference()):this.numberOfTries<this.maxNumberOfTries?this.timeoutReference=(0,a.scheduleTask)((()=>this.tryGetAds()),this.interval):this.reportAdNotLocated()}catch(t){o.v.sendError(s.ClientErrorType.AdLocationError,t)}}))}clearTimeoutReference(){this.timeoutReference&&(n.p.clearTimeout(this.timeoutReference),this.timeoutReference=void 0)}}},5954:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.validateMinimumAdSize=e.MIN_AD_HEIGHT=e.MIN_AD_WIDTH=void 0;const n=i(425);e.MIN_AD_WIDTH=20,e.MIN_AD_HEIGHT=20;e.validateMinimumAdSize=t=>{if(null==t)return!1;const i=n.p.getElementSize(t);return null!=i&&(i.height>e.MIN_AD_WIDTH&&i.width>e.MIN_AD_HEIGHT)}},6619:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSellerAdSize=e.ACCEPTED_AD_SIZE_MISTAKE=void 0;const n=i(425),s=i(7749);e.ACCEPTED_AD_SIZE_MISTAKE=15;e.validateSellerAdSize=t=>{if(null==t||!0!==s.T.isSellerTag())return!1;const i=s.T.getSellerAdSize();if(0===i.width||0===i.height)return!1;const r=n.p.getElementSize(t);return null!=r&&(r.width-i.width>=-e.ACCEPTED_AD_SIZE_MISTAKE&&r.height-i.height>=-e.ACCEPTED_AD_SIZE_MISTAKE)}},9296:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.A=void 0;const n=i(712),s=i(455),r=i(194),o=i(5219);class a extends o.m{constructor(){super(1,0)}getPriority(t){return 0}getMethod(){return n.LocatorMethods.ByReference}getSupportedDeliveryType(){return[1,2,0]}isSupported(){return!0}getAds(){const t=r.I.getTagScriptElem().dvAdElement;return null==t?[]:t.nodeType===Node.ELEMENT_NODE?[new s.AdCandidateData(t)]:[]}}e.A=a},5955:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.C=void 0;const n=i(5464),s=i(7146),r=i(7360),o=i(9450);class a extends s.j{constructor(){super(...arguments),this.selectionDelayed=!1}getAds(){let t=this.getScanner().scan(this.getValidator());t.some((t=>!t.isFullyLoaded))&&!this.selectionDelayed&&(this.selectionDelayed=!0,r.u.dispatchEvent(r.DvEvent.D,new o.V(this.getPriority()))),t=t.filter((t=>!!t.domElement));const e=this.filterByAdSizeValidators(t);return this.mapDomAdsDataToAdCandidates(e)}transformToAdElement(t){const e=super.transformToAdElement(t);return e.celtraTagSearchMethod=t.celtraTagSearchMethod,e}getValidator(){return new n.CeltraValidator}}e.C=a},7898:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.R=void 0;const n=i(7749),s=i(7146),r=i(712),o=i(3903),a=i(749);class u extends s.j{constructor(){super(),this.parameterAttributeFound=n.T.isCm360ParamExtractionEnabled(),this.containerAttribute=n.T.getValueOfTagAttribute("data-doubleverify-container"),this.containerAttributeFound=null!=this.containerAttribute&&""!=this.containerAttribute,this.parameterAttributeFound&&this.containerAttributeFound?a.v.sendMessage({dvp_atali:0}):this.containerAttributeFound||a.v.sendMessage({dvp_atali:1})}getScanner(){if(this.containerAttributeFound)return new o.GetElementByID(this.containerAttribute)}getValidator(){return null}isSupported(){return super.isSupported()&&this.parameterAttributeFound&&this.containerAttributeFound}getPriority(t){return 4e5}getMethod(){return r.LocatorMethods.DisplayCm360}reportAdNotLocated(){a.v.sendMessage({dvp_atali:2})}}e.R=u},4620:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.P=void 0;const n=i(7146),s=i(7581),r=i(7749),o=i(712),a=i(6352),u=i(3868),c=i(3285);class d extends n.j{getScanner(){return new a.GetElementsByTagName(u.S.workingWindow(),!0)}getValidator(){return new s.DfaValidator}isSupported(){return super.isSupported()&&r.T.getAdServerId()==c.DFA_AD_SERVER_ID}getPriority(t){return 250-(t.depth||0)}getMethod(){return o.LocatorMethods.DisplayDFA}}e.P=d},7146:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.j=void 0;const n=i(7749),s=i(870),r=i(455),o=i(5219),a=i(5954);class u extends o.m{constructor(){super(7,1e3),this.numberOfAdSizeValidationFailures=0,this.scanDiagnosticData=new Map,this.adSizeValidators=[a.validateMinimumAdSize]}isSupported(){return!s.omidAdapter.isSupported()&&0==n.T.getTagType()}getNumberOfAdSizeValidationFailures(){return this.numberOfAdSizeValidationFailures}getScanDiagnosticData(){return this.scanDiagnosticData}getSupportedDeliveryType(){return[1,2,0]}getAds(){this.clearScanDiagnosticData();const t=this.getScanner().scan(this.getValidator(),this.saveScanDiagnosticData.bind(this)),e=this.filterByAdSizeValidators(t);return e.length<t.length&&(this.numberOfAdSizeValidationFailures=t.length-e.length),this.mapDomAdsDataToAdCandidates(e)}filterByAdSizeValidators(t){return this.adSizeValidators.reduce(((t,e)=>t.filter((({domElement:t})=>e(t)))),t)}mapDomAdsDataToAdCandidates(t){return t.map((t=>{const e=this.transformToAdElement(t);return e.depth=t.depth||0,e}))}transformToAdElement(t){return new r.AdCandidateData(t.domElement)}clearScanDiagnosticData(){this.scanDiagnosticData=new Map}saveScanDiagnosticData(t,e){this.scanDiagnosticData.set(t,e)}}e.j=u},9969:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.k=void 0;const n=i(7749),s=i(7754),r=i(7146),o=i(712);class a extends r.j{getScanner(){return new s.GetElementsByClassName(n.T.getBtreg())}getValidator(){return null}isSupported(){return super.isSupported()&&!!n.T.getBtreg()&&n.T.getFindClass()}getPriority(t){return 1e3-(t.depth||0)}getMethod(){return o.LocatorMethods.DisplayFindClass}}e.k=a},8130:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.N=void 0;const n=i(3868),s=i(5219),r=i(455),o=i(712),a=i(7749),u=i(870);class c extends s.m{constructor(){super(1)}getAds(){let t=n.S.getFrameElement(n.S.workingWindow())||n.S.workingDocumentElement();if(t)return[new r.AdCandidateData(t)]}isSupported(){return!u.omidAdapter.isSupported()&&0==a.T.getTagType()&&n.S.workingWindow()!=n.S.windowTop()}getSupportedDeliveryType(){return[1,2,0]}getPriority(){return 1}getMethod(){return o.LocatorMethods.DisplayIframeFallback}}e.N=c},172:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.L=void 0;const n=i(3868),s=i(5219),r=i(455),o=i(712),a=i(870);class u extends s.m{constructor(){super(1)}getAds(){let t=n.S.workingDocumentElement();if(t)return[new r.AdCandidateData(t)]}isSupported(){return!a.omidAdapter.isSupported()}getSupportedDeliveryType(){return[3]}getPriority(){return 11e3}getMethod(){return o.LocatorMethods.DefaultInApp}}e.L=u},8476:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.U=void 0;const n=i(7749),s=i(712),r=i(5955),o=i(4179),a=i(3285);class u extends r.C{getScanner(){return o.CeltraDeepScannerSingleton}isSupported(){return super.isSupported()&&n.T.getAdServerId()===a.CELTRA_AD_SERVER_ID}getPriority(t){return 9e3}getMethod(){return s.LocatorMethods.DisplayIntegratedCeltra}}e.U=u},1634:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.F=void 0;const n=i(7146),s=i(631),r=i(7749),o=i(6352),a=i(712);class u extends n.j{constructor(){super(...arguments),this.mediaplexAdServerId="8"}getScanner(){return o.GetElementsByTagName.getInstance()}getValidator(){return new s.MediaplexValidator(r.T.getBtreg(),r.T.getBtadsrv())}isSupported(){return super.isSupported()&&r.T.getAdServerId()==this.mediaplexAdServerId&&!!r.T.getBtreg()}getPriority(t){return 1e4-(t.depth||0)}getMethod(){return a.LocatorMethods.DisplayMediaPlex}}e.F=u},3820:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.B=void 0;const n=i(7146),s=i(483),r=i(540),o=i(712);class a extends n.j{getScanner(){return s.NearestAdScannerSingleton}getValidator(){return new r.ValidateByAdTypeAndSize}isSupported(){return super.isSupported()}getPriority(t){return 100-(t.depth||0)}getMethod(){return o.LocatorMethods.DisplayNearestAd}}e.B=a},7257:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.q=void 0;const n=i(7749),s=i(712),r=i(5955),o=i(4179),a=i(3285);class u extends r.C{getScanner(){return o.CeltraScannerSingleton}isSupported(){return super.isSupported()&&n.T.getAdServerId()!==a.CELTRA_AD_SERVER_ID}getPriority(t){return 120}getMethod(){return s.LocatorMethods.DisplayNonIntegratedCeltra}}e.q=u},6018:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.W=void 0;const n=i(7749),s=i(5223),r=i(7146),o=i(6352),a=i(3868),u=i(712),c=i(8457);class d extends r.j{getScanner(){const t=a.S.getWindowParent(a.S.workingWindow()),e=new o.GetElementsByTagName(t);return new c.GetElementByIdOrTagName(t,e,n.T.getBtreg(),this.getMethod())}getValidator(){return new s.BtregValidator(n.T.getBtreg(),n.T.getBtadsrv())}isSupported(){return super.isSupported()&&2==(2&a.S.getScenarioType())&&!!n.T.getBtreg()&&!!a.S.getWindowParent(a.S.workingWindow())}getPriority(t){return 900}getMethod(){return u.LocatorMethods.DisplayParentWindow}}e.W=d},1153:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.H=void 0;const n=i(7749),s=i(5223),r=i(7146),o=i(6352),a=i(712),u=i(3868),c=i(8457);class d extends r.j{getScanner(){return new c.GetElementByIdOrTagName(u.S.workingWindow(),o.GetElementsByTagName.getInstance(),n.T.getBtreg(),this.getMethod())}getValidator(){return new s.BtregValidator(n.T.getBtreg(),n.T.getBtadsrv())}isSupported(){return super.isSupported()&&!!n.T.getBtreg()}getPriority(t){return 1e3-(t.depth||0)}getMethod(){return a.LocatorMethods.DisplayRegex}}e.H=d},6707:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.$=void 0;const n=i(7749),s=i(712),r=i(7360),o=i(3868),a=i(9450),u=i(5223),c=i(8457),d=i(6352),l=i(5954),h=i(6619),v=i(7146);class p extends v.j{constructor(){super(...arguments),this.adSizeValidators=[l.validateMinimumAdSize,h.validateSellerAdSize]}getScanner(){return new c.GetElementByIdOrTagName(o.S.workingWindow(),d.GetElementsByTagName.getInstance(),n.T.getBtreg(),this.getMethod())}getValidator(){return new u.BtregValidator(n.T.getBtreg(),n.T.getBtadsrv())}isSupported(){let t=super.isSupported()&&n.T.isSellerTag()&&!!n.T.getBtreg();return t&&!this.delayEventSent&&(r.u.dispatchEvent(r.DvEvent.delayAdSelection,new a.DelayTimerData(3100)),this.delayEventSent=!0),t}getPriority(t){return 1e5}getMethod(){return s.LocatorMethods.DisplaySellerTag}}e.$=p},5223:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BtregValidator=void 0;const n=i(425),s=i(7749),r=i(8170);e.BtregValidator=class{constructor(t,e){this.innerHtmlValidationTypes=new Set(["img","iframe","a","object","embed"]),this.btadsrvValidationTypes=new Set(["img","iframe","a","object","embed"]),this.btreg=t,this.btregRegex=new RegExp(this.btreg),this.btadsrv=e,this.btadsrvRegex=new RegExp(this.btadsrv)}validate(t){let e=!1;if(this.btreg&&this.btreg.length>=5){const i=n.p.getElementType(t),r=[];r.push(n.p.getAttribute(t,"id")),r.push(n.p.getAttribute(t,"src")),r.push(n.p.getAttribute(t,"href")),r.push(n.p.getAttribute(t,"flashvars")),r.push(n.p.getAttribute(t,"name")),s.T.getCustomAttributes().forEach((e=>r.push(n.p.getAttribute(t,e)))),r.push(n.p.getAttribute(t,"class")),this.innerHtmlValidationTypes.has(i)&&r.push(n.p.getAttribute(t,"innerHTML")),r.some((t=>this.validateBtreg(t)))&&(e=!0,this.btadsrvValidationTypes.has(i)&&(e=r.some((t=>this.validateBtadsrv(t)))))}else r.DiagnosticParamsSingleton.reportOnce(r.DiagnosticParams.btregValueInvalid,1);return e}validateBtreg(t){return this.validateString(t,this.btreg,this.btregRegex)}validateBtadsrv(t){return this.validateString(t,this.btreg,this.btadsrvRegex)}validateString(t,e,i){let n=!1;if(t&&e)try{i.exec(t)&&(n=!0)}catch(i){r.DiagnosticParamsSingleton.reportOnce(r.DiagnosticParams.regexNotAvailable,1),n=-1!=t.indexOf(e)}return n}}},5464:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.CeltraValidator=void 0;e.CeltraValidator=class{constructor(){this.celtraClassString="celtra-ad-v"}validate(t){return 0==t.className.indexOf(this.celtraClassString)}}},7581:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DfaValidator=void 0;const n=i(425),s=i(3380),r=i(7749);e.DfaValidator=class{constructor(){this.dcmValidationTypes={div:!0,span:!0},this.maxDistance=10}validate(t){let e=!1;const i=n.p.getElementType(t),o=s.Utilities.getElementsDistance(t,r.T.getDVScript());return this.dcmValidationTypes[i]&&o>=0&&o<=this.maxDistance&&(e=n.p.hasAttributeValueInclude(t,"DfaVisibilityIdentifier")),e}}},631:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.MediaplexValidator=void 0;const n=i(5223);class s extends n.BtregValidator{constructor(t,e){super(t,e),this.multiplexRegexp=new RegExp("[0-9]+-[0-9]+-[0-9]+-[0-9]+"),this.hyphenFreeRegexp=new RegExp("-","g")}validateBtreg(t){return this.validateByMediaplex(t,this.btreg)||super.validateBtreg(t)}validateBtadsrv(t){return this.validateByMediaplex(t,this.btadsrv)||super.validateBtadsrv(t)}validateByMediaplex(t,e){let i=!1;if(t&&e){let n=this.multiplexRegexp.exec(t);if(n){i=n.toString().replace(this.hyphenFreeRegexp,"")==e}}return i}}e.MediaplexValidator=s},2261:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ValidateByAdSize=void 0;const n=i(425),s=i(3971);e.ValidateByAdSize=class{getAdSize(t){return n.p.getElementSize(t)}isStandardAdSize(t,e){return s.StandardSizes.isStandardAdSize(t,e,15)}}},540:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ValidateByAdTypeAndSize=void 0;const n=i(425),s=i(2261);class r extends s.ValidateByAdSize{constructor(){super(...arguments),this.standardAdTypes=["object","embed","img","iframe","svg","canvas"]}validate(t){return this.isStandardAdType(t)&&this.isStandardAdSize(this.getAdSize(t),0)}isStandardAdType(t){let e=!1;if(t){let i=n.p.getElementType(t);e=-1!=this.standardAdTypes.indexOf(i)}return e}}e.ValidateByAdTypeAndSize=r},5166:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.G=e.J=void 0;const n=i(712),s=i(455),r=i(7360),o=i(734),a=i(3314),u=i(9721),c=i(3868),d=i(425);class l extends u.K{constructor(t){super(),this.Z=t,this.attempts=[]}get tt(){return this.Z}serialize(){return Object.assign(this.et(),{a:this.attempts})}}e.J=l;class h extends a.o{constructor(){super(...arguments),this.numberOfRetries=7,this.retryInterval=500}get bit(){return n.it.Marked}findAdCandidate(){const t=new l(this);r.u.dispatchEvent(r.DvEvent.nt,new o.st(t)),this.retry(((e,i,n)=>{try{const n=new s.AdCandidateData(d.p.createElement("div"));n.windowElement=c.S.workingWindow(),t.attempts[e]={t:"div"},i(n)}catch(t){n(t)}}))}}e.G=h},677:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.rt=void 0;const n=i(712),s=i(455),r=i(5219),o=i(870);class a extends r.m{constructor(){super(1)}getAds(){return[this.initOmidAdCandidateData()]}getPriority(t){return 1e5}getMethod(){return n.LocatorMethods.DisplayOmid}isSupported(){return o.omidAdapter.isSupported()}getSupportedDeliveryType(){return[3,0,1,2,4]}initOmidAdCandidateData(){const t=new s.AdCandidateData(null);return t.omidMeasuredElementType=0,t}}e.rt=a},52:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ot=void 0;const n=i(5219),s=i(712),r=i(7078);class o extends n.m{constructor(t){super(1,0),this.ut=t}getPriority(){return 1/0}getMethod(){return s.LocatorMethods.ot}getSupportedDeliveryType(){return[]}isSupported(){return(0,r.isMarkedAdDetected)()}getAds(){return this.ut.findAdCandidate(),[]}static ct(t){return null==o.cache[t.name]&&(o.cache[t.name]=class extends o{constructor(){super(new t)}}),o.cache[t.name]}}e.ot=o,o.cache={}},4179:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.CeltraScannerSingleton=e.CeltraDeepScannerSingleton=e.CeltraScanner=void 0;const n=i(425),s=i(7749),r=i(749),o=i(5261),a=i(8170);class u{constructor(t){this.scanSiblingTwoLevelsDown=t}scan(t){this.reportDiagnosticParamPerScanMethodInitialization(),this.dvTag=this.dvTag||s.T.getDVScript();const e=this.dvTag&&this.dvTag.parentElement;a.DiagnosticParamsSingleton.reportOnce(a.DiagnosticParams.celtraScannerParentElementFound,e?1:0);const i=this.getCeltraElementByDomApiSearch(e);i&&i.length>0&&(this.celtraTagSearchMethod=1);const n=[],r=i&&i.length>0?i:this.getElementsToSearchCeltraAttribute();for(let e of r)if(t.validate(e)){let t=new o.CeltraDomAdData(this.celtraTagSearchMethod,null,0,!1);if(e.celtra&&e.celtra.viewabilityObservee){const i=e.celtra.viewabilityObservee;t.domElement=i,t.isFullyLoaded=!0}n.push(t)}return n}getElementsToSearchCeltraAttribute(){this.celtraTagSearchMethod=2;let t=[];const e=this.dvTag&&this.dvTag.parentElement;if(e&&this.shouldSearchOnTagParent()&&t.push(e),this.shouldSearchOnTagSiblings()){const e=n.p.getSiblingsNodes(this.dvTag);t=[...t,...e],this.shouldSearchTwoLevelUnderTagSiblings()&&e.forEach((e=>{const i=n.p.getElementChildren(e);t=[...t,...i],i.forEach((e=>{const i=n.p.getElementChildren(e);t=[...t,...i]}))}))}return t}shouldSearchOnTagParent(){return!0}shouldSearchOnTagSiblings(){return!0}shouldSearchTwoLevelUnderTagSiblings(){return this.scanSiblingTwoLevelsDown}getCeltraElementByDomApiSearch(t){if(t&&"function"==typeof t.querySelectorAll){const e=t.querySelectorAll("[class^=celtra-ad-v]");if(e)return e.length>1&&r.v.sendMessage({dvp_csmc:e.length}),Array.prototype.slice.call(e)}}reportDiagnosticParamPerScanMethodInitialization(){this.shouldSearchTwoLevelUnderTagSiblings()?a.DiagnosticParamsSingleton.reportOnce(a.DiagnosticParams.celtraDeepScannerCalled,1):a.DiagnosticParamsSingleton.reportOnce(a.DiagnosticParams.celtraScannerCalled,1)}}e.CeltraScanner=u,e.CeltraDeepScannerSingleton=new u(!0),e.CeltraScannerSingleton=new u(!1)},3924:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseScanElement=void 0;const n=i(3868),s=i(3380);e.BaseScanElement=class{constructor(t=n.S.workingWindow()){this.elementsList=[],this.scanValidityTime=1e3,this.searchWin=t}scan(){return(!this.lastScanTime||s.Utilities.getCurrentTime()-this.lastScanTime>this.scanValidityTime)&&(this.elementsList=this.tagScan(),this.lastScanTime=s.Utilities.getCurrentTime()),this.elementsList}extractAd(t){return t}extractBiggestNestedAdOrFallback(t){return this.extractAd(t)}}},4211:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScanCanvasElement=void 0;const n=i(3924),s=i(425);class r extends n.BaseScanElement{constructor(){super(...arguments),this.scanElementName="canvas"}getTargetTagName(){return this.scanElementName}tagScan(){return s.p.getElementsByTagNameFromDocument(this.scanElementName,this.searchWin.document)}}e.ScanCanvasElement=r},4933:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScanContainerElement=void 0;const n=i(3924),s=i(425),r=i(5954);class o extends n.BaseScanElement{extractAd(t){return(0,r.validateMinimumAdSize)(t)?t:this.getBiggestNestedElement(t)}extractBiggestNestedAdOrFallback(t){return this.getBiggestNestedElement(t)}getBiggestNestedElement(t){let e=t,i=["embed","iframe","object","img","span","div","svg","canvas"],n=[],r=s.p.getElementsByTagNameFromDomElement(t,"*");r.unshift(t);for(let t of r){let e=s.p.getElementType(t);if(-1!=i.indexOf(e)){let i=s.p.getElementSize(t);i&&n.push({area:i.width*i.height,width:i.width,height:i.height,type:e,elem:t})}}return n=n.sort(((t,e)=>e.area-t.area||i.indexOf(e.type)-i.indexOf(t.type))),n.length>0&&(e=n[0].elem),e}}e.ScanContainerElement=o},3158:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScanCustomElement=void 0;const n=i(4933),s=i(425);class r extends n.ScanContainerElement{constructor(t,e){super(t),this.elementName=e}getTargetTagName(){return this.elementName}tagScan(){return s.p.getElementsByTagNameFromDocument(this.elementName,this.searchWin.document)}}e.ScanCustomElement=r},9670:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScanDivElement=void 0;const n=i(4933),s=i(425);class r extends n.ScanContainerElement{constructor(){super(...arguments),this.scanElementName="div"}getTargetTagName(){return this.scanElementName}tagScan(){return s.p.getElementsByTagNameFromDocument(this.scanElementName,this.searchWin.document)}}e.ScanDivElement=r},163:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScanEmbedElement=void 0;const n=i(3924),s=i(425);class r extends n.BaseScanElement{constructor(){super(...arguments),this.scanElementName="embed"}getTargetTagName(){return this.scanElementName}tagScan(){return s.p.getElementsByTagNameFromDocument(this.scanElementName,this.searchWin.document)}}e.ScanEmbedElement=r},1346:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScanFrameElement=void 0;const n=i(3924),s=i(3868);class r extends n.BaseScanElement{getTargetTagName(){return"frame"}tagScan(){let t=[],e=s.S.getFrameElement(this.searchWin);return e&&t.push(e),t}}e.ScanFrameElement=r},8689:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScanIframeElement=void 0;const n=i(3924),s=i(425);class r extends n.BaseScanElement{constructor(){super(...arguments),this.scanElementName="iframe"}getTargetTagName(){return this.scanElementName}tagScan(){return s.p.getElementsByTagNameFromDocument(this.scanElementName,this.searchWin.document)}}e.ScanIframeElement=r},9038:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScanImageElement=void 0;const n=i(3924),s=i(425);class r extends n.BaseScanElement{constructor(){super(...arguments),this.scanElementName="img"}getTargetTagName(){return this.scanElementName}tagScan(){return s.p.getElementsByTagNameFromDocument(this.scanElementName,this.searchWin.document)}}e.ScanImageElement=r},2978:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScanLinkElement=void 0;const n=i(3924),s=i(425);class r extends n.BaseScanElement{constructor(){super(...arguments),this.scanElementName="a"}getTargetTagName(){return this.scanElementName}tagScan(){return s.p.getElementsByTagNameFromDocument(this.scanElementName,this.searchWin.document)}extractAd(t){let e,i=s.p.getElementsByTagNameFromDomElement(t,"img");return i.length>0&&(e=i[0]),e}}e.ScanLinkElement=r},6466:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScanObjectElement=void 0;const n=i(4933),s=i(425);class r extends n.ScanContainerElement{constructor(){super(...arguments),this.scanElementName="object"}getTargetTagName(){return this.scanElementName}tagScan(){return s.p.getElementsByTagNameFromDocument(this.scanElementName,this.searchWin.document)}}e.ScanObjectElement=r},6635:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScanSpanElement=void 0;const n=i(4933),s=i(425);class r extends n.ScanContainerElement{constructor(){super(...arguments),this.scanElementName="span",this.adunitAttribute="adunit"}getTargetTagName(){return this.scanElementName}tagScan(){return s.p.getElementsByTagNameFromDocument(this.scanElementName,this.searchWin.document)}extractAd(t){return 1==s.p.getAttribute(t,this.adunitAttribute)?t:super.extractAd(t)}extractBiggestNestedAdOrFallback(t){return 1==s.p.getAttribute(t,this.adunitAttribute)?t:super.extractBiggestNestedAdOrFallback(t)}}e.ScanSpanElement=r},1765:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScanSvgElement=void 0;const n=i(3924),s=i(425);class r extends n.BaseScanElement{constructor(){super(...arguments),this.scanElementName="svg"}getTargetTagName(){return this.scanElementName}tagScan(){return s.p.getElementsByTagNameFromDocument(this.scanElementName,this.searchWin.document)}}e.ScanSvgElement=r},3903:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.GetElementByID=void 0;const n=i(425),s=i(3380),r=i(7749),o=i(8564);e.GetElementByID=class{constructor(t){this.elementId=t}scan(){const t=[],e=n.p.getElementById(this.elementId);if(e){const i=new o.DomAdData(e,s.Utilities.getElementsDistance(e,r.T.getDVScript()));t.push(i)}return t}}},7754:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.GetElementsByClassName=void 0;const n=i(425),s=i(3380),r=i(7749),o=i(8564);e.GetElementsByClassName=class{constructor(t){this.btreg=t}scan(){const t=[],e=n.p.getElementsByClassName(this.btreg);for(const i of e){const e=new o.DomAdData(i,s.Utilities.getElementsDistance(i,r.T.getDVScript()));t.push(e)}return t}}},8457:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.GetElementByIdOrTagName=void 0;const n=i(425),s=i(7749),r=i(3380),o=i(8170),a=i(8564),u=i(4211),c=i(3158),d=i(9670),l=i(163),h=i(1346),v=i(8689),p=i(9038),f=i(2978),g=i(6466),m=i(6635),b=i(1765);e.GetElementByIdOrTagName=class{constructor(t,e,i,n){this.searchWin=t,this.fallbackScanner=e,this.elementId=i,this.locatorMethod=n,this.tagScanners={EMBED:l.ScanEmbedElement,OBJECT:g.ScanObjectElement,LINK:f.ScanLinkElement,IMG:p.ScanImageElement,SPAN:m.ScanSpanElement,IFRAME:v.ScanIframeElement,DIV:d.ScanDivElement,FRAME:h.ScanFrameElement,CANVAS:u.ScanCanvasElement,SVG:b.ScanSvgElement}}scan(t,e=(()=>{})){var i;const{domAdData:n,btregOptimizationSuccess:s}=this.scanElementsById(t);return e(o.DiagnosticParams.btregOptimizationSuccess,s.toString()),n.length>0?n:null!==(i=this.scanElementsByTagName(t,e))&&void 0!==i?i:[]}scanElementsById(t){const e=n.p.getElementById(this.elementId,this.searchWin.document);if(!e)return{domAdData:[],btregOptimizationSuccess:0};const i=this.getTagScanner(e);if(!i)return{domAdData:[],btregOptimizationSuccess:1};if(!t.validate(e))return{domAdData:[],btregOptimizationSuccess:2};const o=i.extractAd(e);return{domAdData:[new a.DomAdData(o,r.Utilities.getElementsDistance(o,s.T.getDVScript()))],btregOptimizationSuccess:3}}scanElementsByTagName(t,e=(()=>{})){var i,n;return null!==(n=null===(i=this.fallbackScanner)||void 0===i?void 0:i.scan(t,e))&&void 0!==n?n:[]}getTagScanner(t){const e=t.tagName,i=this.tagScanners[e];return null!=i?new i:-1!=s.T.getCustomTags().indexOf(e)?new c.ScanCustomElement(this.searchWin,e):null}}},6352:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.GetElementsByTagName=void 0;const n=i(163),s=i(6466),r=i(2978),o=i(9038),a=i(6635),u=i(8689),c=i(9670),d=i(1346),l=i(7749),h=i(3158),v=i(4211),p=i(1765),f=i(3868),g=i(3380),m=i(8564),b=i(8170);class w{constructor(t,e=!1){this.byTagScanners=[new n.ScanEmbedElement(t),new s.ScanObjectElement(t),new r.ScanLinkElement(t),new o.ScanImageElement(t),new a.ScanSpanElement(t),new u.ScanIframeElement(t),new c.ScanDivElement(t),new d.ScanFrameElement(t),new v.ScanCanvasElement(t),new p.ScanSvgElement(t)],this.searchForBiggestNested=e,l.T.getCustomTags().forEach((e=>this.byTagScanners.unshift(new h.ScanCustomElement(t,e))))}scan(t,e=(()=>{})){const i=[],n=[];for(let e of this.byTagScanners){let s=e.scan(),r=s.filter((e=>t.validate(e)));const o={tagName:e.getTargetTagName(),numberOfScannedElements:s.length,numberOfValidScannedElements:r.length};let a=0;for(let t of r){let i;this.searchForBiggestNested?(i=e.extractBiggestNestedAdOrFallback(t),i!==t&&a++):i=e.extractAd(t);const s=new m.DomAdData(i,g.Utilities.getElementsDistance(i,l.T.getDVScript()));n.push(s)}this.searchForBiggestNested&&(o.numberOfBiggestNestedElementFound=a),i.push(o)}return e(b.DiagnosticParams.byTagScanner,i.filter((({numberOfScannedElements:t})=>t>0)).map((({tagName:t,numberOfScannedElements:e,numberOfValidScannedElements:i,numberOfBiggestNestedElementFound:n})=>[t,e,i,n].map((t=>null!=t?t:"n")).join("-"))).join("/")),n}static getInstance(){return null==w.instance&&(w.instance=new w(f.S.workingWindow())),w.instance}}e.GetElementsByTagName=w},483:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.NearestAdScannerSingleton=e.NearestAdScanner=void 0;const n=i(3380),s=i(425),r=i(7749),o=i(8564);class a{constructor(){this.maxScanDepth=20,this.scanValidityTime=1e3,this.elementsList=[]}scan(t){this.dvTag=this.dvTag||r.T.getDVScript();let e=[],i=[];if(0==this.elementsList.length||n.Utilities.getCurrentTime()-this.lastScanTime>this.scanValidityTime){let t=this.getStartElement();t&&(this.getElements(t.domElement,t.depth),this.lastScanTime=n.Utilities.getCurrentTime())}for(let i of this.elementsList)if(t.validate(i)){let t=new o.DomAdData(i,n.Utilities.getElementsDistance(i,this.dvTag));e.push(t)}return e.length>0&&(i=e.sort((function(t,e){return t.depth-e.depth})).slice(0,5)),i}getStartElement(){let t,e=this.dvTag;for(t=0;t<this.maxScanDepth;t++){let t=n.Utilities.getElementParent(e);if(!t)break;e=t}return new o.DomAdData(e,t)}getElements(t,e){if(t&&Math.abs(e)<=this.maxScanDepth){this.elementsList.push(t);let i=s.p.getElementChildren(t);i&&i.length>0&&i.forEach((t=>this.getElements(t,e-1)))}}}e.NearestAdScanner=a,e.NearestAdScannerSingleton=new a},4846:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.lt=void 0;const n=i(5219),s=i(7749),r=i(425),o=i(455),a=i(712),u=i(870);class c extends n.m{constructor(){super(1)}getAds(){let t=r.p.getElementsByTagNameFromDocument("video")[0];if(t)return[new o.AdCandidateData(t)]}isSupported(){return!u.omidAdapter.isSupported()&&1==s.T.getTagType()}getSupportedDeliveryType(){return[3]}getPriority(){return 100}getMethod(){return a.LocatorMethods.VideoInAppHtml5}}e.lt=c},8066:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ht=void 0;const n=i(7749),s=i(5219),r=i(455),o=i(712),a=i(870),u=i(1063);class c extends s.m{constructor(){super(5,1e3)}isSupported(){return!a.omidAdapter.isSupported()&&1==n.T.getTagType()&&!!n.T.getAdID()}getAds(){let t=u.VpaidWrapper.getDvVpaid();if(t){let e=t.asset;if(e&&e.player){return[new r.AdCandidateData(e.player)]}}}getSupportedDeliveryType(){return[3]}getPriority(){return 200}getMethod(){return o.LocatorMethods.VideoInAppVpaid}}e.ht=c},9260:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.vt=void 0;const n=i(5219),s=i(870),r=i(7749),o=i(712),a=i(455),u=i(9450),c=i(7360),d=i(8426);class l extends n.m{constructor(){super(5,1e3),this.isSupported()&&(c.u.dispatchEvent(c.DvEvent.delayAdSelection,new u.DelayTimerData(3100)),d.InmobiWrapper.addEventListenerWithHistory(this.handleInmobiAdLoadedEvent.bind(this)))}isSupported(){return!s.omidAdapter.isSupported()&&1==r.T.getTagType()&&d.InmobiWrapper.isSupported()}getAds(){if(this.adElement){return[new a.AdCandidateData(this.adElement)]}}getSupportedDeliveryType(){return[3]}getPriority(){return 1e4}getMethod(){return o.LocatorMethods.VideoInAppInmobi}handleInmobiAdLoadedEvent(t){t&&"AdLoaded"==t.type&&t.detail&&t.detail.element&&(this.adElement=t.detail.element)}}e.vt=l},554:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ft=void 0;const n=i(7749),s=i(5219),r=i(455),o=i(712),a=i(870),u=i(1063);class c extends s.m{constructor(){super(5,1e3)}isSupported(){return!a.omidAdapter.isSupported()&&1==n.T.getTagType()&&!!n.T.getAdID()}getAds(){let t=u.VpaidWrapper.getDvVpaid();if(t){let e=t.asset;if(e&&e.player){return[new r.AdCandidateData(e.player)]}}}getSupportedDeliveryType(){return[1,2,0]}getPriority(){return 1}getMethod(){return o.LocatorMethods.VideoNonInAppVpaid}}e.ft=c},5765:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdDomElementObserverBL=void 0;const n=i(7360),s=i(6751),r=i(3322);class o extends s.BaseAdBL{isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[n.DvEvent.adSelected]:this.startObservingDomElement.bind(this)}}startObservingDomElement(t){var e,i;const n=null===(e=null==t?void 0:t.adCandidate)||void 0===e?void 0:e.domElement,s=null===(i=null==t?void 0:t.adCandidate)||void 0===i?void 0:i.windowElement;if(n&&s){r.ScriptDynamicFlags.getInstance().turnOn(4);const t=new MutationObserver(function(e){this.handleDomElementRemoval(t,n,s)}.bind(this)),e={subtree:!0,childList:!0};t.observe(s.document,e)}}handleDomElementRemoval(t,e,i){i.document.contains(e)||(r.ScriptDynamicFlags.getInstance().turnOn(8),t.disconnect())}init(){}}e.AdDomElementObserverBL=o},3502:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdElementInfoExtractorBL=void 0;const n=i(7360),s=i(6751),r=i(3380),o=i(540);class a extends s.BaseAdBL{isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[n.DvEvent.adSelected]:this.adSelected.bind(this)}}adSelected(t){let e=this.extractAdElementType(t);e=this.logAdDimensionDataPoints(t)||e,e&&n.u.dispatchEvent(n.DvEvent.reportData,t)}extractAdElementType(t){var e;return!!(null===(e=null==t?void 0:t.adCandidate)||void 0===e?void 0:e.domElement)&&(t.adCandidate.adElementType=r.Utilities.extractElementType(t.adCandidate.domElement),!0)}logAdDimensionDataPoints(t){var e;try{const i=null===(e=null==t?void 0:t.adCandidate)||void 0===e?void 0:e.domElement;if(!r.Utilities.isNullOrEmpty(i)){const{tagName:e}=i;if("IFRAME"===(null==e?void 0:e.toUpperCase())){const e=this.getIframeDocument(i);if(void 0!==e){const i=this.getBiggestChildElement(e);if(void 0!==i){const{scrollHeight:e,scrollWidth:n}=i;return t.adCandidate.largestChildElementHeight=e,t.adCandidate.largestChildElementWidth=n,!0}}}}return!1}catch(t){return!1}}getIframeDocument(t){try{return t.contentDocument||t.contentWindow.document}catch(t){return}}getBiggestChildElement(t){try{const e=this.getPotentialAdChildren(t);return this.findBiggestChild(e)}catch(t){}}findBiggestChild(t){const e=new o.ValidateByAdTypeAndSize;return t.filter((t=>e.validate(t))).reduce(((t,e)=>t.scrollHeight*t.scrollWidth>=e.scrollHeight*e.scrollWidth?t:e))}getPotentialAdChildren(t){const e=t.querySelectorAll(["object","embed","img","iframe","svg","canvas"].join(","));return Array.prototype.slice.call(e)}init(){}}e.AdElementInfoExtractorBL=a},9721:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdLocationDiagnosticsLogger=e.K=void 0;const n=i(6751),s=i(7360),r=i(749),o=i(8170);e.K=class{et(){return{b:this.tt.bit,r:this.tt.numberOfRetries,i:this.tt.retryInterval}}};class a extends n.BaseAdBL{constructor(){super(...arguments),this.didLogDiagnosticData=!1,this.gt=[]}getActionName(){return"AdLocationDiagnosticsLogger"}isSupported(){return!0}init(){}getEventsAndCallbacksToRegister(){return{[s.DvEvent.nt]:this.bt.bind(this),[s.DvEvent.adSelected]:this.logDiagnosticData.bind(this),[s.DvEvent.unloadData]:this.logDiagnosticData.bind(this)}}bt(t){this.gt.push(t.diagnosticData)}logDiagnosticData(){this.didLogDiagnosticData||(this.didLogDiagnosticData=!0,r.v.sendMessage({[o.DiagnosticParamsSingleton.getQueryParamName(o.DiagnosticParams.adLocatingDiagnostics)]:this.serializeDiagnosticData()}))}serializeDiagnosticData(){return JSON.stringify(this.gt.map((t=>t.serialize())))}}e.AdLocationDiagnosticsLogger=a},1899:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.wt=void 0;const n=i(7360),s=i(749),r=i(8170),o=i(6751),a=(t,e,i)=>{const n=[];return n.length=t,e.forEach((t=>{n[t._t-1]=i(t)})),n.every((t=>null==t))?null:n.join(";")},u=t=>(e,i)=>a(e,i,(e=>{var i;return null!==(i=e.scanDiagnosticData.get(t))&&void 0!==i?i:null})),c=new Map([[r.DiagnosticParams.adCandidatesLocatorMethodTries,(t,e)=>a(t,e,(t=>t.numberOfAdSizeValidationFailures.toString()))],[r.DiagnosticParams.btregOptimizationSuccess,u(r.DiagnosticParams.btregOptimizationSuccess)],[r.DiagnosticParams.byTagScanner,u(r.DiagnosticParams.byTagScanner)]]);class d extends o.BaseAdBL{constructor(){super(...arguments),this.St=new Map}getEventsAndCallbacksToRegister(){return{[n.DvEvent.adLocationTry]:this.onAdLocationTry.bind(this),[n.DvEvent.adSelected]:this.onAdSelected.bind(this)}}getActionName(){return"AdLocatorLogger"}init(){}isSupported(){return!0}onAdLocationTry(t){this.St.has(t.yt)||this.St.set(t.yt,[]),this.St.get(t.yt).push(t)}onAdSelected(t){const e=new Set([r.DiagnosticParams.adCandidatesLocatorMethodTries]);Array.from(this.St.values()).forEach((t=>{t.forEach((({scanDiagnosticData:t})=>{t.forEach(((t,i)=>{e.add(i)}))}))})),e.forEach((t=>{s.v.sendMessage({[r.DiagnosticParamsSingleton.getQueryParamName(t)]:this.Mt(t)})}))}Mt(t){return Array.from(this.St.keys()).sort(((t,e)=>t-e)).map((e=>this.Ot(e,t))).filter((t=>null!=t)).join(",")}Ot(t,e){const i=this.St.get(t),n=Math.max(...i.map((t=>t._t))),s=c.get(e),r=null==s?void 0:s(n,i);return null==r?null:[t,n,`(${r})`].join(":")}}e.wt=d},4021:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdSelector=e.DEFAULT_CONSOLIDATION_TIMEOUT=void 0;const n=i(7360),s=i(194),r=i(712),o=i(6751),a=i(9450),u=i(425),c=i(749),d=i(7749);e.DEFAULT_CONSOLIDATION_TIMEOUT=2100;class l extends o.BaseAdBL{getActionName(){return"AdSelector"}init(){this.adCandidates=[],this.wasImpressionServed=!1,this.wasAdSelected=!1,this.timeoutOccurred=!1,this.adSelectedDelayTime=-1}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[n.DvEvent.adCandidateLocated]:this.adCandidateLocated.bind(this),[n.DvEvent.impressionServed]:this.impressionServed.bind(this),[n.DvEvent.unloadData]:this.unloadData.bind(this),[n.DvEvent.delayAdSelection]:this.delayAdSelectionCalled.bind(this),[n.DvEvent.D]:this.D.bind(this)}}adCandidateLocated(t){const e=t.adCandidate;this.wasAdSelected||null==e.locatorMethods||e.locatorMethods===r.LocatorMethods.None||(this.fillAdCandidates(e),this.trySelectAd(),this.timeoutOccurred&&this.reportSelectedAd())}impressionServed(){this.wasImpressionServed=!0,this.adSelectedDefaultDelayTime=e.DEFAULT_CONSOLIDATION_TIMEOUT,this.detectedDeliveryType=s.I.getDetectedDeliveryType(),1!=d.T.getTagType()&&3!=this.detectedDeliveryType||(this.adSelectedDefaultDelayTime=0),this.trySelectAd(),this.registerAdSelectionTimeout(this.adSelectedDefaultDelayTime)}fillAdCandidates(t){let e=this.adCandidates.filter((e=>e.domElement==t.domElement))[0];e&&this.isSameDetectedDeliveryType(e,t)?(e.priority+=t.priority,e.locatorMethods=e.locatorMethods|t.locatorMethods,e.state=4==e.state?t.state:e.state):(this.adCandidates.push(t),n.u.dispatchEvent(n.DvEvent.adCandidateApproved,new a.AdCandidateEventData(t)))}isSameDetectedDeliveryType(t,e){return t.supportedDeliveryType.every((t=>e.supportedDeliveryType.indexOf(t)>-1))}trySelectAd(){if(!this.wasImpressionServed||!this.adCandidates.length)return;let t=this.adCandidates.filter((t=>{var e;return(null!==(e=t.supportedDeliveryType)&&void 0!==e?e:[]).some((t=>t==this.detectedDeliveryType))&&1==t.state}));if(this.adPriorityToReserve&&(t=t.filter((t=>t.priority>=this.adPriorityToReserve))),t.length){const e=t.reduce(((t,e)=>t.priority>=e.priority?t:e));this.currentSelectedAd!==e&&(this.currentSelectedAd=e,n.u.dispatchEvent(n.DvEvent.bestAdCandidateChanged,new a.AdCandidateEventData(e)))}}reportSelectedAd(){if(this.timeoutOccurred=!0,this.currentSelectedAd&&!this.wasAdSelected)if(this.adPriorityToReserve&&this.currentSelectedAd.priority<this.adPriorityToReserve)this.currentSelectedAd=null;else{this.wasAdSelected=!0,this.currentSelectedAd.state=2;let t=new a.AdCandidateEventData(this.currentSelectedAd);n.u.dispatchEvent(n.DvEvent.adSelected,t),this.setDestroySelectedAdTimeout(t)}this.destroyAds()}setDestroySelectedAdTimeout(t){u.p.setTimeout((()=>{n.u.dispatchEvent(n.DvEvent.adDestroy,t)}),12e5)}unloadData(t){if(!this.wasImpressionServed)return;const e=t.relevantData;this.reportSelectedAd(),this.wasAdSelected||this.reportNotMeasured||(this.reportNotMeasured=!0,c.v.sendMessage({isnmms:e.updateTime}))}destroyAds(){this.adCandidates.filter((t=>1==t.state)).forEach((t=>{n.u.dispatchEvent(n.DvEvent.adDestroy,new a.AdCandidateEventData(t)),t.state=3}))}D(t){this.adPriorityToReserve=t.adPriority}delayAdSelectionCalled(t){const e=t.delayTimeMS;this.registerAdSelectionTimeout(e)}registerAdSelectionTimeout(t){!this.wasAdSelected&&t>this.adSelectedDelayTime&&(this.adSelectedDelayTime=t,this.adSelectionTimeoutId&&u.p.clearTimeout(this.adSelectionTimeoutId),this.adSelectionTimeoutId=u.p.setTimeout(this.reportSelectedAd.bind(this),this.adSelectedDelayTime))}}e.AdSelector=l},1847:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdSelectorLogger=void 0;const n=i(7360),s=i(712),r=i(6751),o=i(749),a=i(8170),u=i(3380);class c extends r.BaseAdBL{init(){this.adCandidatesLocatorMethods=0,this.numberOfAdCandidates=0,this.wasAdSelected=!1}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[n.DvEvent.adCandidateLocated]:this.adCandidateLocated.bind(this),[n.DvEvent.adCandidateApproved]:this.adCandidateApproved.bind(this),[n.DvEvent.adSelected]:this.adSelected.bind(this)}}adCandidateLocated(t){this.wasAdSelected||(this.adCandidatesLocatorMethods=this.adCandidatesLocatorMethods|t.adCandidate.locatorMethods)}adCandidateApproved(){this.numberOfAdCandidates++}adSelected(t){this.wasAdSelected=!0,o.v.sendMessage({msrcanlm:this.adCandidatesLocatorMethods,msrcannum:this.numberOfAdCandidates,[a.DiagnosticParamsSingleton.getQueryParamName(a.DiagnosticParams.timeTillAdSelected)]:u.Utilities.getTimeDiff()}),t.adCandidate.locatorMethods&(s.LocatorMethods.DisplayIntegratedCeltra|s.LocatorMethods.DisplayNonIntegratedCeltra)&&(a.DiagnosticParamsSingleton.reportOnce(a.DiagnosticParams.Et,t.adCandidate.celtraTagSearchMethod),o.v.sendMessage({dvp_csm:t.adCandidate.celtraTagSearchMethod}))}}e.AdSelectorLogger=c},8720:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdSizeBL=void 0;const n=i(6751),s=i(7360),r=i(9450),o=i(7749),a=i(8170);class u extends n.BaseAdBL{init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[s.DvEvent.exposureData]:this.handleAdSizeData.bind(this),[s.DvEvent.adSelected]:this.handleSelectedAd.bind(this)}}handleAdSizeData(t){const e=2==t.adCandidate.state,i=t.adCandidate,n=t.relevantData;if(1==o.T.getTagType()&&!n.adIsPlaying||i.adWidth&&i.adHeight||!n.adSize)return;const a=i.adWidth,u=i.adHeight;if(i.adWidth=n.adSize.width?n.adSize.width:i.adWidth,i.adHeight=n.adSize.height?n.adSize.height:i.adHeight,a!=i.adWidth||u!=i.adHeight){const t=new r.AdCandidateEventData(i);s.u.dispatchEvent(s.DvEvent.adSizeChangedData,t),s.u.dispatchEvent(s.DvEvent.reportData,t),e&&this.reportAdSizeDiagnostics(i.adWidth,i.adHeight)}}handleSelectedAd(t){const e=null==t?void 0:t.adCandidate,i=null==e?void 0:e.adWidth,n=null==e?void 0:e.adHeight;this.reportAdSizeDiagnostics(i,n)}reportAdSizeDiagnostics(t,e){a.DiagnosticParamsSingleton.report(a.DiagnosticParams.selectedAdWidth,t),a.DiagnosticParamsSingleton.report(a.DiagnosticParams.selectedAdHeight,e)}}e.AdSizeBL=u},3738:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdWrapperSizeBL=void 0;const n=i(6751),s=i(7360),r=i(712),o=i(3380),a=i(3868),u=i(749);class c extends n.BaseAdBL{init(){}isSupported(){return!(1&a.S.getScenarioType()||4&a.S.getScenarioType())}getEventsAndCallbacksToRegister(){return{[s.DvEvent.exposureData]:this.handleWrapperAdSizeData.bind(this)}}handleWrapperAdSizeData(t){var e,i;try{const n=t.relevantData,r=null===(e=null==t?void 0:t.adCandidate)||void 0===e?void 0:e.adWrapperHeight,a=null===(i=null==t?void 0:t.adCandidate)||void 0===i?void 0:i.adWrapperWidth,{wrapperSize:{height:u,width:c}={}}=n;if(!o.Utilities.isNullOrEmpty(u)&&!o.Utilities.isNullOrEmpty(c)){const e=Math.round(u),i=Math.round(c);t.adCandidate.adWrapperHeight=e,t.adCandidate.adWrapperWidth=i,e===r&&i===a||s.u.dispatchEvent(s.DvEvent.reportData,t)}}catch(t){u.v.sendError(r.ClientErrorType.MeasurementError,t,"couldn't extract wrapper Size")}}}e.AdWrapperSizeBL=c},6751:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseAdBL=void 0;const n=i(7360);e.BaseAdBL=class{constructor(){this.isSupported()&&(this.init(),n.u.addEventsListener(this.getEventsAndCallbacksToRegister(),this.getActionName()))}getActionName(){return"BaseAdBL"}}},7127:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseAdDataLoggerBL=void 0;const n=i(7360),s=i(194),r=i(9450),o=i(3380);e.BaseAdDataLoggerBL=class{constructor(){this.isSupported()&&o.Utilities.isPercentageCriteriaPassed(this.getTrafficPercentage())&&this.init()}init(){n.u.addEventListener(n.DvEvent.impressionServed,(()=>{this.isSupportedDetectedDeliveryType()&&n.u.addEventsListener(this.getEventsAndCallbacksToRegister(),this.getActionName())}))}report(t){n.u.dispatchEvent(n.DvEvent.reportData,new r.AdCandidateEventData(t))}isSupportedDetectedDeliveryType(){return this.getSupportedDetectedDeliveryType().some((t=>t==s.I.getDetectedDeliveryType()))}}},6128:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Cm360Logger=void 0;const n=i(6751),s=i(7749),r=i(7360),o=i(749);class a extends n.BaseAdBL{constructor(t){super(),this.adContainerInspector=t.createAdContainerInspector()}getEventsAndCallbacksToRegister(){return{[r.DvEvent.impressionServed]:this.reportAdContainerData.bind(this)}}reportAdContainerData(){var t,e,i,n,s,r;let a={};a.dvp_ime=null===(t=this.adContainerInspector)||void 0===t?void 0:t.getDescendants(["img"]).length,a.dvp_dcime=null===(e=this.adContainerInspector)||void 0===e?void 0:e.getDirectChildren(["img"]).length,a.dvp_dcife=null===(i=this.adContainerInspector)||void 0===i?void 0:i.getDirectChildren(["iframe"]).length,a.dvp_dcde=null===(n=this.adContainerInspector)||void 0===n?void 0:n.getDirectChildren(["div"]).length,a.dvp_dcoe=null===(s=this.adContainerInspector)||void 0===s?void 0:s.getDirectChildren([],["img","iframe","div"]).length;const u=null===(r=this.adContainerInspector)||void 0===r?void 0:r.getMostPopularDirectChildElement(["img","iframe","div"]);u&&(a.dvp_mpdce=u),o.v.sendMessage(a)}init(){}isSupported(){return s.T.getIsCm360CreativeWrapping()&&0==s.T.getTagType()}}e.Cm360Logger=a},6991:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.CreativeVsContainerBL=void 0;const n=i(7360),s=i(6751),r=i(9450),o=i(1914),a=i(9759),u=i(8170),c=i(3380);class d extends s.BaseAdBL{isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[n.DvEvent.adSelected]:this.processMeasuredElementData.bind(this)}}processMeasuredElementData(t){const e=t.adCandidate,i=this.extractMeasuredElementType(e);c.Utilities.isNullOrEmpty(i)||this.sendUpdatedMeasuredElementData(i)}extractMeasuredElementType(t){const e=[o.OmidMeasuredElementExtractor,a.DefaultMeasuredElementExtractor];for(const i of e){const e=new i(t);if(e.isSupported())return t.measuredElementExtractorId=e.getMeasuredElementExtractorId(),t.measuredElementType=e.extract(),t}return null}sendUpdatedMeasuredElementData(t){u.DiagnosticParamsSingleton.reportDiagnosticParam(u.DiagnosticParams.cvcMethodId,t.measuredElementExtractorId),n.u.dispatchEvent(n.DvEvent.reportData,new r.AdCandidateEventData(t))}init(){}}e.CreativeVsContainerBL=d},3723:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DataTransparencyBL=void 0;const n=i(659),s=i(194),r=i(7749),o=i(7360),a=i(749),u=i(3868),c=i(6751),d=["sadv","ord","litm","scrt","invs","splc","adu","spos"];class l extends c.BaseAdBL{constructor(){super(...arguments),this.timesMessageSent=0}getActionName(){return"DataTransparency"}init(){(0,n.initialize)(u.S.workingWindow())}isSupported(){return!u.S.isDomlessEnvironment()&&u.S.isPostMessageSupported()}getEventsAndCallbacksToRegister(){return{[o.DvEvent.impressionServed]:this.subscribe.bind(this)}}getSellerDimensionsFromTag(){const t=r.T.getLowerCaseParams(),e={};for(const i of d)null!=t[i]&&(e[i]=t[i]);return e}getSellerDimensionsFromState(t){return r.T.isSellerTag()||null==t.sellerDimensions?{}:t.sellerDimensions}onSharedStateUpdated(t){if(this.timesMessageSent>=5)return;this.timesMessageSent++;const e=(0,n.coverageToBitFlag)(t.coverage);if(t.coverage.buyerMonitoringTag&&(t.coverage.sellerMonitoringTag||t.coverage.sellerPageTag)){const i=t.linking.sharedId,n=this.getSellerDimensionsFromState(t);a.v.sendMessage(Object.assign({mascid:i,dvp_dtcov:e},n))}else a.v.sendMessage({dvp_dtcov:e})}subscribe(){const t=s.I.getImpressionId(u.S.currentWindow()),e=r.T.isSellerTag(),i={impressionId:t,isSellerTag:e};e&&(i.sellerDimensions=this.getSellerDimensionsFromTag()),(0,n.subscribe)(u.S.workingWindow(),this.onSharedStateUpdated.bind(this),i)}}e.DataTransparencyBL=l},9608:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdLocatedBL=void 0;const n=i(7360),s=i(6751),r=i(9450);class o extends s.BaseAdBL{init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[n.DvEvent.adCandidateApproved]:this.handleEvent.bind(this)}}handleEvent(t){const e=t.adCandidate;e.timeMsUntilAdLocated=t.updateTime,n.u.dispatchEvent(n.DvEvent.reportData,new r.AdCandidateEventData(e))}}e.AdLocatedBL=o},6163:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseInteractionBL=void 0;const n=i(7360),s=i(9450),r=i(6751);class o extends r.BaseAdBL{isSupported(){return!0}init(){}getEventsAndCallbacksToRegister(){return{[this.getInteractionEventName()]:this.handleEvent.bind(this)}}handleEvent(t){if(this.allowReport(t.adCandidate)){1==this.update(t.adCandidate,t.relevantData)&&n.u.dispatchEvent(n.DvEvent.reportData,new s.AdCandidateEventData(t.adCandidate))}}allowReport(t){return!t.wasAdStopped}}e.BaseInteractionBL=o},5648:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.EngagementReportRtsBL=void 0;const n=i(6751),s=i(7360),r=i(9450);class o extends n.BaseAdBL{init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[s.DvEvent.orientationchangeLandscapeData]:this.TrySendEngagementInteraction.bind(this),[s.DvEvent.orientationChangePortraitData]:this.TrySendEngagementInteraction.bind(this),[s.DvEvent.mouseMoveData]:this.TrySendEngagementInteraction.bind(this),[s.DvEvent.keyPressData]:this.TrySendEngagementInteraction.bind(this),[s.DvEvent.firstTouchData]:this.TrySendEngagementInteraction.bind(this),[s.DvEvent.firstHoverData]:this.TrySendEngagementInteraction.bind(this),[s.DvEvent.focusData]:this.TrySendEngagementInteraction.bind(this),[s.DvEvent.firstClickOnAdElementData]:this.TrySendEngagementInteraction.bind(this),[s.DvEvent.firstFocusIntoAdElementData]:this.TrySendEngagementInteraction.bind(this),[s.DvEvent.omidClickData]:this.TrySendEngagementInteraction.bind(this),[s.DvEvent.abandonData]:this.TrySendEngagementInteraction.bind(this),[s.DvEvent.skipData]:this.TrySendEngagementInteraction.bind(this),[s.DvEvent.pauseData]:this.TrySendEngagementInteraction.bind(this),[s.DvEvent.adSizeData]:this.TrySendEngagementInteraction.bind(this),[s.DvEvent.resumeData]:this.TrySendEngagementInteraction.bind(this),[s.DvEvent.volumeData]:this.TrySendEngagementInteraction.bind(this),[s.DvEvent.unloadData]:this.TrySendEngagementUnload.bind(this)}}TrySendEngagementInteraction(t){let e=t.adCandidate,i=this.adEngagementReported(e),n=this.pageEngagementReported(e);i==e.adEngagement&&n==e.pageEngagement||(e.adEngagement=i,e.pageEngagement=n,s.u.dispatchEvent(s.DvEvent.reportData,new r.AdCandidateEventData(e)))}TrySendEngagementUnload(t){this.TrySendEngagementInteraction(t);let e=t.adCandidate;e.adEngagement||e.pageEngagement||(e.noEngagement=!0,s.u.dispatchEvent(s.DvEvent.reportData,new r.AdCandidateEventData(e)))}adEngagementReported(t){if(t.timeMsUntilAbandon||t.timeMsUntilSkip||t.timeMsUntilPause||t.timeMsUntilClick||t.timeMsUntilAdSizeIncrease||t.timeMsUntilResume||t.timeMsUntilTouch||t.timeMsUntilHover||t.timeMsUntilAdSizeDecrease||t.timeMsUntilVolumeIncrease||t.timeMsUntilVolumeDecrease||t.timeMsUntilVolumeUnMute||t.lastTimeMsVolumeMute)return!0}pageEngagementReported(t){if(t.timeMsUntilFocusOut||t.timeMsUntilFocusIn||t.timeMsUntilMouseMove||t.timeMsUntilKeyPress||t.timeMsUntilScroll||t.timeMsUntilOrientationChangeToLandscape||t.timeMsUntilOrientationChangeToPortrait)return!0}}e.EngagementReportRtsBL=o},4515:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.IframeEngagementInfoExtractorBL=void 0;const n=i(7360),s=i(6751),r=i(8170);class o extends s.BaseAdBL{isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[n.DvEvent.adSelected]:this.adSelected.bind(this),[n.DvEvent.experimentalDiagnosticClickEvent]:this.onAdClicked.bind(this),[n.DvEvent.experimentalDiagnosticTouchEvent]:this.onAdTouched.bind(this)}}adSelected({adCandidate:t}){r.DiagnosticParamsSingleton.reportOnce(r.DiagnosticParams.descendantIframeClickHandlerDepth,t.descendantIframeScanDepth),r.DiagnosticParamsSingleton.reportOnce(r.DiagnosticParams.descendantIframeClickHandlerCount,t.descendantIframeHandlerCount),r.DiagnosticParamsSingleton.reportOnce(r.DiagnosticParams.descendantIframeDryRunHandlerDepth,t.deepDescendantIframeScanDepth),r.DiagnosticParamsSingleton.reportOnce(r.DiagnosticParams.descendantIframeDryRunHandlerCount,t.deepDescendantIframeHandlerCount),t.deepDescendantIframeClicked&&this.reportClick(),t.deepDescendantIframeTouched&&this.reportTouch()}reportClick(){r.DiagnosticParamsSingleton.reportOnce(r.DiagnosticParams.descendantIframeDryRunHandlerClick,1)}reportTouch(){r.DiagnosticParamsSingleton.reportOnce(r.DiagnosticParams.descendantIframeDryRunHandlerTouch,1)}onAdClicked({adCandidate:t}){t.deepDescendantIframeClicked=!0,2===t.state&&this.reportClick()}onAdTouched({adCandidate:t}){t.deepDescendantIframeTouched=!0,2===t.state&&this.reportTouch()}init(){}}e.IframeEngagementInfoExtractorBL=o},5443:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionAdSizeBL=void 0;const n=i(7360),s=i(6163),r=i(8170);class o extends s.BaseInteractionBL{getInteractionEventName(){return n.DvEvent.adSizeData}getEventsAndCallbacksToRegister(){return{[n.DvEvent.adSizeData]:t=>this.handleAdSizeEvent(t,1),[n.DvEvent.omidAdSizeData]:t=>this.handleAdSizeEvent(t,2)}}handleAdSizeEvent(t,e){r.DiagnosticParamsSingleton.reportOnce(r.DiagnosticParams.adSizeMeasurementMethod,e),t.adCandidate.adSizeMeasurementMethod=e,super.handleEvent(t)}update(t,e){return this.updateAdSize(t,e)}updateAdSize(t,e){if(t.isPaused)return 2;const i=this.getAdSizeState(t.lastAdSize,e.adSize);return 2!==i||t.timeMsUntilAdSizeIncrease?1!==i||t.timeMsUntilAdSizeDecrease?(t.lastAdSize=e.adSize,2):(t.timeMsUntilAdSizeDecrease=e.updateTime,t.lastAdSize=e.adSize,1):(t.timeMsUntilAdSizeIncrease=e.updateTime,t.lastAdSize=e.adSize,1)}getAdSizeState(t,e){const i=this.getSurface(t),n=this.getSurface(e);return i&&n&&i!=n?n>i?2:1:3}getSurface(t){return t&&t.width&&t.height?t.width*t.height:0}}e.InteractionAdSizeBL=o},7999:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionClickBL=void 0;const n=i(7360),s=i(6163),r=i(3322),o=i(9450),a=i(7749),u=i(8170);class c extends s.BaseInteractionBL{init(){this.isFocusIntoAdElementLogicApplicable()&&r.ScriptDynamicFlags.getInstance().turnOn(67108864),this.reportedMeasuredClickInteraction=!1}getInteractionEventName(){return n.DvEvent.firstClickOnAdElementData}getEventsAndCallbacksToRegister(){return{[n.DvEvent.firstClickOnAdElementData]:t=>this.handleClickEvent(t,1),[n.DvEvent.omidClickData]:t=>this.handleClickEvent(t,2),[n.DvEvent.firstFocusIntoAdElementData]:t=>this.handleFocusIntoAdElementEvent(t,4),[n.DvEvent.clickMeasured]:t=>this.handleClickMeasured(t.adCandidate),[n.DvEvent.firstClickOnDescendantIframe]:t=>this.handleClickEvent(t,8),[n.DvEvent.omidInvitationAcceptData]:t=>this.handleOmidInvitationAccept(),[n.DvEvent.omidCustomInteractionData]:t=>this.handleOmidCustomInteraction(t)}}handleClickEvent(t,e){t.adCandidate.clickMeasurementMethod|=e,super.allowReport(t.adCandidate)&&this.update(t.adCandidate,t.relevantData),n.u.dispatchEvent(n.DvEvent.reportData,new o.AdCandidateEventData(t.adCandidate))}handleFocusIntoAdElementEvent(t,e){this.isFocusIntoAdElementLogicApplicable()&&this.handleClickEvent(t,e)}reportClickIsMeasured(t){t.isClickMeasured=1,this.reportedMeasuredClickInteraction||(n.u.dispatchEvent(n.DvEvent.reportData,new o.AdCandidateEventData(t)),this.reportedMeasuredClickInteraction=!0)}handleClickMeasured(t){t.isPaused&&!t.wasAdStopped?n.u.addEventListener(n.DvEvent.resumeData,this.reportClickIsMeasured.bind(this,t)):t.isPaused||t.wasAdStopped||this.reportClickIsMeasured(t)}isFocusIntoAdElementLogicApplicable(){return 0==a.T.getTagType()}update(t,e){let i=2;return t.isPaused||t.timeMsUntilClick||(t.timeMsUntilClick=e.updateTime,i=1),i}handleOmidInvitationAccept(){u.DiagnosticParamsSingleton.reportOnce(u.DiagnosticParams.omidInteractionInvitationAccept,1)}handleOmidCustomInteraction(t){var e;const i=null===(e=null==t?void 0:t.relevantData)||void 0===e?void 0:e.customInteraction,n=t.adCandidate.customInteractions;i&&!n.includes(i)&&(n.push(i),u.DiagnosticParamsSingleton.report(u.DiagnosticParams.omidCustomInteractions,n.join(",")))}}e.InteractionClickBL=c},8874:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionFocusBL=void 0;const n=i(7360),s=i(6163);class r extends s.BaseInteractionBL{getInteractionEventName(){return n.DvEvent.focusData}update(t,e){let i=2,n=e.updateTime;if(t.isPaused)return i;switch(this.getFocusState(t.lastFocus,e.focus)){case 3:break;case 1:if(t.timeMsUntilFocusIn)break;t.timeMsUntilFocusIn=n,i=1;break;case 2:if(t.timeMsUntilFocusOut)break;t.timeMsUntilFocusOut=n,i=1}return t.lastFocus=e.focus,i}getFocusState(t,e){let i;return null==t||null==e||t==e?i=3:0==t&&1==e?i=1:1==t&&0==e&&(i=2),i}}e.InteractionFocusBL=r},8463:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionHoverBL=void 0;const n=i(7360),s=i(6163);class r extends s.BaseInteractionBL{getInteractionEventName(){return n.DvEvent.firstHoverData}update(t,e){let i=2;return t.isPaused||t.timeMsUntilHover||(t.timeMsUntilHover=e.updateTime,i=1),i}}e.InteractionHoverBL=r},4183:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionTouchBL=void 0;const n=i(7360),s=i(6163);class r extends s.BaseInteractionBL{getInteractionEventName(){return n.DvEvent.firstTouchData}getEventsAndCallbacksToRegister(){return{[n.DvEvent.firstTouchData]:t=>this.handleEvent(t),[n.DvEvent.firstTouchOnDescendantIframe]:t=>this.handleEvent(t)}}update(t,e){let i=2;return t.isPaused||t.timeMsUntilTouch||(t.timeMsUntilTouch=e.updateTime,i=1),i}}e.InteractionTouchBL=r},2359:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionKeyPressBL=void 0;const n=i(6163),s=i(7360);class r extends n.BaseInteractionBL{getInteractionEventName(){return s.DvEvent.keyPressData}update(t,e){let i=2;return t.timeMsUntilKeyPress||(t.timeMsUntilKeyPress=e.updateTime,i=1),i}}e.PageInteractionKeyPressBL=r},8345:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionMouseMoveBL=void 0;const n=i(6163),s=i(7360);class r extends n.BaseInteractionBL{getInteractionEventName(){return s.DvEvent.mouseMoveData}update(t,e){let i=2;return t.timeMsUntilMouseMove||(t.timeMsUntilMouseMove=e.updateTime,i=1),i}}e.PageInteractionMouseMoveBL=r},6355:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionOrientationChangeLandscapeBL=void 0;const n=i(6163),s=i(7360);class r extends n.BaseInteractionBL{getInteractionEventName(){return s.DvEvent.orientationchangeLandscapeData}update(t,e){let i=2;return t.timeMsUntilOrientationChangeToLandscape||(t.timeMsUntilOrientationChangeToLandscape=e.updateTime,i=1),i}}e.PageInteractionOrientationChangeLandscapeBL=r},8409:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionOrientationChangePortraitBL=void 0;const n=i(6163),s=i(7360);class r extends n.BaseInteractionBL{getInteractionEventName(){return s.DvEvent.orientationChangePortraitData}update(t,e){let i=2;return t.timeMsUntilOrientationChangeToPortrait||(t.timeMsUntilOrientationChangeToPortrait=e.updateTime,i=1),i}}e.PageInteractionOrientationChangePortraitBL=r},8076:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionScrollBL=void 0;const n=i(6163),s=i(7360),r=i(9450);class o extends n.BaseInteractionBL{init(){this.reportedMeasuredScrollInteraction=!1,this.isAdCandidateApproved=!0}getInteractionEventName(){return""}getEventsAndCallbacksToRegister(){return{[s.DvEvent.viewabilityIntervalData]:this.handleViewabilityIntervalDataEvent.bind(this),[s.DvEvent.adCandidateApproved]:()=>this.isAdCandidateApproved=!0}}handleViewabilityIntervalDataEvent(t){const e=t.relevantData;if(t.adCandidate.domElement&&this.reportScrollIsMeasured(t.adCandidate),!e.adGeometric)return;const i=this.adGeometric;this.adGeometric=e.adGeometric,i&&this.isPositionChanged(i,this.adGeometric)&&this.isAdCandidateApproved&&this.handleScrollEvent(t)}isPositionChanged(t,e){return t.y!=e.y||t.x!=e.x}reportScrollIsMeasured(t){this.reportedMeasuredScrollInteraction||(t.isScrollMeasured=1,s.u.dispatchEvent(s.DvEvent.reportData,new r.AdCandidateEventData(t)),this.reportedMeasuredScrollInteraction=!0)}handleScrollEvent(t){if(this.allowReport(t.adCandidate)){1==this.update(t.adCandidate,t.relevantData)&&s.u.dispatchEvent(s.DvEvent.reportData,new r.AdCandidateEventData(t.adCandidate))}}update(t,e){let i=2;return t.timeMsUntilScroll||(t.timeMsUntilScroll=e.updateTime,i=1),i}}e.PageInteractionScrollBL=o},5465:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.UserPresenceBL=void 0;const n=i(6751),s=i(7360),r=i(749),o=i(7658),a=i(8170);class u extends n.BaseAdBL{init(){this.reportedMeasuredInteractions=[]}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[s.DvEvent.keyPressMeasured]:this.reportIsMeasured.bind(this,o.AdDataMappingToReport.isKeyPressMeasured),[s.DvEvent.mouseMoveMeasured]:this.reportIsMeasured.bind(this,o.AdDataMappingToReport.isMouseMoveMeasured),[s.DvEvent.orientationChangeMeasured]:this.reportIsMeasured.bind(this,o.AdDataMappingToReport.isOrientationChangeMeasured),[s.DvEvent.tempFirstKeyPressData]:this.reportInteractionDiagnostic.bind(this,a.DiagnosticParams.isKeyPressed),[s.DvEvent.tempFirstMouseMoveData]:this.reportInteractionDiagnostic.bind(this,a.DiagnosticParams.isMouseMoved),[s.DvEvent.tempOrientationChangePortraitData]:this.reportInteractionDiagnostic.bind(this,a.DiagnosticParams.isOrientationChangedToPortrait),[s.DvEvent.tempOrientationChangeLandscapeData]:this.reportInteractionDiagnostic.bind(this,a.DiagnosticParams.isOrientationChangedToLandscape)}}reportIsMeasured(t){this.reportedMeasuredInteractions.includes(t)||(r.v.sendMessage({[t]:1}),this.reportedMeasuredInteractions.push(t))}reportInteractionDiagnostic(t){a.DiagnosticParamsSingleton.reportOnce(t,1)}}e.UserPresenceBL=u},9289:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionAbandonBL=void 0;const n=i(7360),s=i(6163),r=i(7749);class o extends s.BaseInteractionBL{init(){}getInteractionEventName(){return n.DvEvent.abandonData}update(t,e){let i=2;return 1!=r.T.getTagType()||t.timeMsUntilSkip||t.timeMsUntilAbandon||(t.timeMsUntilAbandon=e.updateTime,i=1),i}}e.InteractionAbandonBL=o},1816:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionPauseBL=void 0;const n=i(7360),s=i(6163);class r extends s.BaseInteractionBL{getInteractionEventName(){return n.DvEvent.pauseData}update(t,e){let i=2;return t.isPaused||(t.timeMsUntilPause||(t.timeMsUntilPause=e.updateTime,i=1),t.isPaused=!0),i}}e.InteractionPauseBL=r},3363:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionResumeBL=void 0;const n=i(7360),s=i(6163);class r extends s.BaseInteractionBL{getInteractionEventName(){return n.DvEvent.resumeData}update(t,e){let i=2;return t.timeMsUntilResume||1!=t.isPaused||(t.isPaused=!1,t.timeMsUntilResume=e.updateTime,i=1),i}}e.InteractionResumeBL=r},1006:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionSkipBL=void 0;const n=i(7360),s=i(6163);class r extends s.BaseInteractionBL{getInteractionEventName(){return n.DvEvent.skipData}update(t,e){let i=2;return t.timeMsUntilSkip||(t.timeMsUntilSkip=t.adSkippedTime=e.updateTime,t.adSkippableMs||(t.adSkippableMs=e.updateTime),i=1),i}}e.InteractionSkipBL=r},6044:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionVolumeBL=void 0;const n=i(7360),s=i(6163),r=i(3567);class o extends s.BaseInteractionBL{getActionName(){return"InteractionVolumeBL"}getInteractionEventName(){return n.DvEvent.volumeData}update(t,e){let i=2,n=e.updateTime;switch(this.getVolumeState(t.lastVideoVolume,e.volume)){case 5:break;case 3:if(t.timeMsUntilVolumeMute)break;t.timeMsUntilVolumeMute=n,i=1;break;case 1:if(t.timeMsUntilVolumeDecrease)break;t.timeMsUntilVolumeDecrease=n,i=1;break;case 4:if(t.timeMsUntilVolumeUnMute)break;t.timeMsUntilVolumeUnMute=n,i=1;break;case 2:if(t.timeMsUntilVolumeIncrease)break;t.timeMsUntilVolumeIncrease=n,i=1}return t.lastVideoVolume=e.volume,i}getVolumeState(t,e){return r.default.isVolumeLevelSupported(t)&&r.default.isVolumeLevelSupported(e)&&t!==e?r.default.isVolumeLevelMuted(e)&&!r.default.isVolumeLevelMuted(t)?3:e<t?1:r.default.isVolumeLevelMuted(t)&&!r.default.isVolumeLevelMuted(e)?4:e>t?2:void 0:5}}e.InteractionVolumeBL=o},9611:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.QuartileBucketsVolumeBL=void 0;const n=i(7360),s=i(9450),r=i(7749),o=i(6751);class a extends o.BaseAdBL{init(){}isSupported(){return 1==r.T.getTagType()}getEventsAndCallbacksToRegister(){return{[n.DvEvent.exposureData]:this.handleVolumeData.bind(this),[n.DvEvent.adVideoFirstQuartileData]:this.handleQuartileData.bind(this,1),[n.DvEvent.adVideoMidpointData]:this.handleQuartileData.bind(this,2),[n.DvEvent.adVideoThirdQuartileData]:this.handleQuartileData.bind(this,3),[n.DvEvent.adVideoCompleteData]:this.handleQuartileData.bind(this,4)}}handleVolumeData(t){const e=t.adCandidate,i=t.relevantData;if(!i.adIsPlaying)return;if(null==i.volume||i.volume<0)return;const n=i.volume?i.intervalDuration:0,s="q"+e.volumeDurationQuartileId+"ad";e[s]=e[s]?e[s]+n:n,i.volume&&e.markAdQuartile(2,e.volumeDurationQuartileId)}handleQuartileData(t,e){const i=e.adCandidate;i.volumeDurationQuartileId=t+1,n.u.dispatchEvent(n.DvEvent.reportData,new s.AdCandidateEventData(i))}}e.QuartileBucketsVolumeBL=a},876:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoCompleteBL=void 0;const n=i(7360),s=i(6163);class r extends s.BaseInteractionBL{getInteractionEventName(){return n.DvEvent.adVideoCompleteData}update(t,e){return t.wasAdStopped=!0,2}}e.VideoCompleteBL=r},615:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoLengthBL=void 0;const n=i(7360),s=i(9450),r=i(7749),o=i(6751);class a extends o.BaseAdBL{init(){}isSupported(){return 1==r.T.getTagType()}getEventsAndCallbacksToRegister(){return{[n.DvEvent.adVideoFirstQuartileData]:this.calculateVideoLengthDueToFirstQuartile.bind(this),[n.DvEvent.adVideoMidpointData]:this.calculateVideoLengthDueToSecondQuartile.bind(this),[n.DvEvent.adVideoCompleteData]:this.calculateVideoLengthDueToAdComplete.bind(this)}}calculateVideoLengthDueToFirstQuartile(t){const e=t.adCandidate;e.adVideoTimeLine&&(this.setAdDuration(e,4),e.adDurationCalculationType=2)}calculateVideoLengthDueToSecondQuartile(t){const e=t.adCandidate;e.adVideoTimeLine&&(e.videoLength=2*e.adVideoTimeLine,this.setAdDuration(e,2),e.adDurationCalculationType=3)}calculateVideoLengthDueToAdComplete(t){const e=t.adCandidate;e.adVideoTimeLine&&(this.setAdDuration(e),e.adDurationCalculationType=4,n.u.dispatchEvent(n.DvEvent.reportData,new s.AdCandidateEventData(e)))}setAdDuration(t,e=1){t.adDuration=Math.round(t.adVideoTimeLine*e)}}e.VideoLengthBL=a},1886:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoMarkImpressionAsRenderedBL=void 0;const n=i(6751),s=i(7749),r=i(7360),o=i(9450),a=i(870);class u extends n.BaseAdBL{getActionName(){return"VideoMarkImpressionAsRenderedBL"}init(){}isSupported(){return 1==s.T.getTagType()}getEventsAndCallbacksToRegister(){return{[r.DvEvent.impressionServed]:this.impressionServed.bind(this)}}impressionServed(){this.getEventsImplyingPlayStarted().forEach((t=>{r.u.addEventListener(t,this.videoRenderedCallback.bind(this))}))}getEventsImplyingPlayStarted(){return a.omidAdapter.isSupported()?[r.DvEvent.adVideoStartData,r.DvEvent.resumeData]:[r.DvEvent.adImpressionData,r.DvEvent.adVideoStartData,r.DvEvent.resumeData]}videoRenderedCallback(t){const e=t.adCandidate;null==e.isVideoPreRendered&&(e.isVideoPreRendered=0,e.videoStartTime=t.updateTime,e.timeMsUntilVideoPlayed=t.updateTime,r.u.dispatchEvent(r.DvEvent.videoStartPlaying,new o.AdCandidateEventData(e)),r.u.dispatchEvent(r.DvEvent.reportData,new o.AdCandidateEventData(e)),r.u.dispatchEvent(r.DvEvent.beginToPlay,new o.AdCandidateEventData(e)))}}e.VideoMarkImpressionAsRenderedBL=u},6901:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoSkippableBL=void 0;const n=i(7360),s=i(7749),r=i(6751);class o extends r.BaseAdBL{init(){}isSupported(){return 1==s.T.getTagType()}getEventsAndCallbacksToRegister(){return{[n.DvEvent.skippableData]:this.handleSkippableData.bind(this)}}handleSkippableData(t){const e=t.adCandidate,i=t.relevantData;i.adSkippable&&(e.adSkippableMs=i.updateTime)}}e.VideoSkippableBL=o},5784:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoStoppedBL=void 0;const n=i(7360),s=i(6163);class r extends s.BaseInteractionBL{getInteractionEventName(){return n.DvEvent.stopData}update(t,e){return t.wasAdStopped=!0,2}}e.VideoStoppedBL=r},223:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VolumeBL=void 0;const n=i(7360),s=i(7749),r=i(6751),o=i(3567);class a extends r.BaseAdBL{init(){}isSupported(){return 1==s.T.getTagType()}getEventsAndCallbacksToRegister(){return{[n.DvEvent.exposureData]:this.handleVolumeData.bind(this)}}handleVolumeData(t){const e=t.adCandidate,i=t.relevantData;i.adIsPlaying&&this.trySetVolumeValues(e,i)}trySetVolumeValues(t,e){let i=e.volume;o.default.isVolumeLevelSupported(i)&&(t.timeMsUntilVolumeMeasured||(t.timeMsUntilVolumeMeasured=e.updateTime),i=Math.max(Math.min(Math.ceil(100*i),100),0),o.default.isVolumeLevelMuted(i)&&null==t.lastTimeMsVolumeMute&&(t.lastTimeMsVolumeMute=e.updateTime),t.minVideoVolume=null==t.minVideoVolume||t.minVideoVolume>i?i:t.minVideoVolume,t.maxVideoVolume=null==t.maxVideoVolume||t.maxVideoVolume<i?i:t.maxVideoVolume)}}e.VolumeBL=a},7196:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ExposureBL=void 0;const n=i(7360),s=i(9450),r=i(6751),o=i(3380);class a extends r.BaseAdBL{init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[n.DvEvent.focusData]:this.collectFocusData.bind(this),[n.DvEvent.strictFocusData]:this.collectStrictFocusData.bind(this),[n.DvEvent.viewabilityIntervalData]:this.collectViewabilityData.bind(this),[n.DvEvent.boundariesViewabilityIntervalData]:this.collectBoundariesViewabilityData.bind(this),[n.DvEvent.adImpressionData]:this.collectAdIsPlayingData.bind(this,!0),[n.DvEvent.adVideoStartData]:this.collectAdIsPlayingData.bind(this,!0),[n.DvEvent.pauseData]:this.collectAdIsPlayingData.bind(this,!1),[n.DvEvent.resumeData]:this.collectAdIsPlayingData.bind(this,!0),[n.DvEvent.abandonData]:this.collectAdIsPlayingData.bind(this,!1),[n.DvEvent.skipData]:this.collectAdIsPlayingData.bind(this,!1),[n.DvEvent.unloadData]:this.collectAdIsPlayingData.bind(this,!1),[n.DvEvent.adVideoCompleteData]:this.collectAdIsPlayingData.bind(this,!1),[n.DvEvent.volumeData]:this.collectAdVolumeData.bind(this),[n.DvEvent.videoLoadedData]:this.collectAdVolumeData.bind(this)}}collectViewabilityData(t){const e=t.adCandidate,i=t.relevantData;e.lastExposureTimeEvent=e.lastExposureTimeEvent||i.updateTime;const r=Math.max(i.updateTime-e.lastExposureTimeEvent,100);e.viewabilityAdIsPlaying&&(e.adVideoTimeLine=e.adVideoTimeLine?e.adVideoTimeLine+r:r),n.u.dispatchEvent(n.DvEvent.exposureData,new s.AdCandidateEventData(e,{adSize:i.adGeometric,viewportSize:i.viewportSize,wrapperSize:i.wrapperSize,screenSize:i.screenSize,percentage:o.Utilities.isNumber(i.percentage)?Math.round(i.percentage):void 0,offScreenPercentage:i.offScreenPercentage,viewabilityCalculationType:i.viewabilityCalculationType,focus:e.viewabilityFocus,strictFocus:e.viewabilityStrictFocus&&e.viewabilityFocus,adIsPlaying:e.viewabilityAdIsPlaying,intervalDuration:r,adVideoTimeLine:e.adVideoTimeLine,volume:e.currentVideoVolume,boundariesViewability:e.boundariesViewability})),e.lastExposureTimeEvent=i.updateTime}collectBoundariesViewabilityData(t){const e=t.adCandidate,i=t.relevantData;e.boundariesViewability=i.boundariesViewability}collectFocusData(t){const e=t.adCandidate,i=t.relevantData;e.viewabilityFocus=i.focus}collectStrictFocusData(t){const e=t.adCandidate,i=t.relevantData;e.viewabilityStrictFocus=i.focus}collectAdIsPlayingData(t,e){e.adCandidate.viewabilityAdIsPlaying=t,this.collectAdVolumeData(e)}collectAdVolumeData(t){const e=t.adCandidate,i=t.relevantData;o.Utilities.isNullOrEmpty(i.volume)||(e.currentVideoVolume=i.volume)}}e.ExposureBL=a},6265:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ExposureCompatibilityIndicator=void 0;const n=i(870),s=i(6681),r=i(6751),o=i(7749),a=i(194),u=i(7360),c=i(1063),d=i(749);class l extends r.BaseAdBL{getActionName(){return"ExposureCompatibilityIndicator"}init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[u.DvEvent.impressionServed]:this.start.bind(this)}}start(){const t=a.I.getDetectedDeliveryType(),e=this.determineViewabilityIntegrationType(t)||0;this.report({vit:e})}report(t){d.v.sendMessage(t)}determineViewabilityIntegrationType(t){if(null==t||!o.T.isTagTypeValid())return null;if(a.I.isMobileApp()||a.I.isCTV())return n.omidAdapter.isSupported()?6:s.MraidWrapper.isSupported()?5:null;if(1==o.T.getTagType()){const t=c.VpaidWrapper.getDvVpaid();return(null==t?void 0:t.viewabilityIntegrationType)||null}return 2}}e.ExposureCompatibilityIndicator=l},9604:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractMeasuredElementExtractor=void 0;e.AbstractMeasuredElementExtractor=class{constructor(t){this.measuredElementData=t}}},9759:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultMeasuredElementExtractor=void 0;const n=i(9604),s=i(3380);class r extends n.AbstractMeasuredElementExtractor{isSupported(){var t;return!!(null===(t=this.measuredElementData)||void 0===t?void 0:t.domElement)}extract(){var t;return 1===s.Utilities.extractElementType(null===(t=this.measuredElementData)||void 0===t?void 0:t.domElement)?2:1}getMeasuredElementExtractorId(){return 1}}e.DefaultMeasuredElementExtractor=r},1914:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.OmidMeasuredElementExtractor=void 0;const n=i(9604),s=i(3380);class r extends n.AbstractMeasuredElementExtractor{isSupported(){var t;return!s.Utilities.isNullOrEmpty(null===(t=this.measuredElementData)||void 0===t?void 0:t.omidMeasuredElementType)}extract(){var t;return null===(t=this.measuredElementData)||void 0===t?void 0:t.omidMeasuredElementType}getMeasuredElementExtractorId(){return 2}}e.OmidMeasuredElementExtractor=r},5500:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.MobileOrientationBL=void 0;const n=i(6751),s=i(7360),r=i(194);class o extends n.BaseAdBL{getActionName(){return"MobileOrientationBL"}init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[s.DvEvent.impressionServed]:this.impressionServed.bind(this)}}impressionServed(){r.I.isMobile()&&s.u.addEventListener(s.DvEvent.exposureData,this.handleViewabilityData.bind(this))}handleViewabilityData(t){const e=t.adCandidate,i=t.relevantData;i.viewportSize&&i.viewportSize.height&&i.viewportSize.width?this.setOrientationData(e,i):e.initialOrientationType=e.initialOrientationType||0}setOrientationData(t,e){let i=0;e.viewportSize.width>e.viewportSize.height?(i=2,t.accumulativeTimeOrientationLandscape=t.accumulativeTimeOrientationLandscape?t.accumulativeTimeOrientationLandscape+e.intervalDuration:e.intervalDuration):(i=1,t.accumulativeTimeOrientationPortrait=t.accumulativeTimeOrientationPortrait?t.accumulativeTimeOrientationPortrait+e.intervalDuration:e.intervalDuration),t.initialOrientationType||(t.initialOrientationType=i)}}e.MobileOrientationBL=o},9616:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.MrcImpressionBL=void 0;const n=i(6751),s=i(7360),r=i(9450),o=i(7749),a=i(455),u=i(8170);class c extends n.BaseAdBL{init(){this.beginToRender=!1,this.beginToPlay=!1,this.isImpressionServed=!1,this.isMrcImpressionSent=!1,this.adCandidateData=new a.AdCandidateData(null)}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[s.DvEvent.beginToRender]:this.handleBeginToRender.bind(this),[s.DvEvent.beginToPlay]:this.handleBeginToPlay.bind(this),[s.DvEvent.impressionServed]:this.handleImpressionServed.bind(this)}}handleImpressionServed(){this.isImpressionServed=!0,this.trySendMrcImpression()}handleBeginToRender(){this.beginToRender=!0,this.trySendMrcImpression()}handleBeginToPlay(t){this.beginToPlay=!0,this.trySendMrcImpression(t.adCandidate)}trySendMrcImpression(t=this.adCandidateData){!this.isMrcImpressionSent&&this.isImpressionServed&&this.beginToRender&&(0===o.T.getTagType()||this.beginToPlay)&&(t.isMrcImpression=!0,s.u.dispatchEvent(s.DvEvent.reportData,new r.AdCandidateEventData(t,{reportType:2,forceRTS:!0})),u.DiagnosticParamsSingleton.report(u.DiagnosticParams.isMrcImpression,1),this.isMrcImpressionSent=!0)}}e.MrcImpressionBL=c},1074:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.NormalizedAdSizeBL=void 0;const n=i(6751),s=i(7360),r=i(9450),o=i(7749),a=i(3971);class u extends n.BaseAdBL{init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[s.DvEvent.adSizeChangedData]:this.handleAdSizeChangedData.bind(this)}}handleAdSizeChangedData(t){const e=t.adCandidate;if(!e.adWidth||!e.adHeight)return;let i={width:e.adWidth,height:e.adHeight},n=a.StandardSizes.getNearestAdSize(i,o.T.getTagType(),1==o.T.getTagType()?20:5);n&&(e.normalizedAdWidth=n.width,e.normalizedAdHeight=n.height,s.u.dispatchEvent(s.DvEvent.reportData,new r.AdCandidateEventData(e)))}}e.NormalizedAdSizeBL=u},334:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.OmidImpressionEventInfoBL=void 0;const n=i(870),s=i(6751),r=i(7360),o=i(8379);class a extends s.BaseAdBL{isSupported(){return n.omidAdapter.isSupported()}getEventsAndCallbacksToRegister(){return{[r.DvEvent.adCandidateApproved]:t=>this.adCandidateApproved(t)}}init(){}adCandidateApproved(t){n.omidAdapter.addEventListener("impression",(e=>this.handleImpressionEvent(e,t)))}handleImpressionEvent(t,e){var i,n;(null===(i=null==t?void 0:t.data)||void 0===i?void 0:i.impressionType)&&(o.omidImpressionTypeMapping[t.data.impressionType]?e.adCandidate.omidImpressionType=o.omidImpressionTypeMapping[t.data.impressionType]:(e.adCandidate.omidImpressionType=o.omidImpressionTypeMapping.unknown,e.adCandidate.omidUnknownImpressionType=t.data.impressionType)),(null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.creativeType)&&(o.omidCreativeTypeMapping[t.data.creativeType]?e.adCandidate.omidCreativeType=o.omidCreativeTypeMapping[t.data.creativeType]:(e.adCandidate.omidCreativeType=o.omidCreativeTypeMapping.unknown,e.adCandidate.omidUnknownCreativeType=t.data.creativeType))}}e.OmidImpressionEventInfoBL=a},4342:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PageEventsLoggerBL=void 0;const n=i(7360),s=i(6751),r=i(425),o=i(3322),a=i(3868),u=i(3380),c=i(749),d=i(7658);class l extends s.BaseAdBL{constructor(){super(),this.isPageHideNonPersistedFired=!1}isSupported(){return!a.S.isDomlessEnvironment()}getEventsAndCallbacksToRegister(){return{[n.DvEvent.pageHideEventPersisted]:this.turnOnScriptDynamicFlag(16).bind(this),[n.DvEvent.pageHideEventNonPersisted]:this.logPageHideEventNonPersisted.bind(this)}}turnOnScriptDynamicFlag(t){return()=>o.ScriptDynamicFlags.getInstance().turnOn(t)}logPageHideEventNonPersisted(){this.isPageHideNonPersistedFired||(this.isPageHideNonPersistedFired=!0,c.v.sendMessage({[d.AdDataMappingToReport.timeUntilPageHideEventNonPersistedMs]:u.Utilities.getTimeDiff()})),this.turnOnScriptDynamicFlag(32)();const t=this.turnOnScriptDynamicFlag(64).bind(this);r.p.setTimeout(t,20)}init(){}}e.PageEventsLoggerBL=l},2530:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PerformanceApiBL=void 0;const n=i(6751),s=i(9450),r=i(7360),o=i(3868);class a extends n.BaseAdBL{getEventsAndCallbacksToRegister(){return{[r.DvEvent.performanceData]:this.aggregatePerformanceApiData.bind(this)}}aggregatePerformanceApiData({performanceData:t,adData:e}){isNaN(null==t?void 0:t.visitResponseSize)||(e.visitResponseSize=null==t?void 0:t.visitResponseSize,r.u.dispatchEvent(r.DvEvent.reportData,new s.AdCandidateEventData(e)))}init(){}isSupported(){return!o.S.isDomlessEnvironment()}}e.PerformanceApiBL=a},7135:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PerformanceJanusBL=void 0;const n=i(6751),s=i(7360),r=i(8170),o=i(4668);class a extends n.BaseAdBL{constructor(){super(...arguments),this.totalLongTaskDuration=0,this.totalLongTaskCount=0}getEventsAndCallbacksToRegister(){return this.reportJanusActive(),{[s.DvEvent.performanceJanusData]:this.handleJanusData.bind(this)}}reportJanusActive(){r.DiagnosticParamsSingleton.report(r.DiagnosticParams.performanceJanusLongTaskMeasuring,1)}handleJanusData(t){const{longTasks:e=[]}=t;e.length&&(this.totalLongTaskCount+=e.length,this.totalLongTaskDuration+=e.reduce(((t,{duration:e})=>t+e),0),r.DiagnosticParamsSingleton.report(r.DiagnosticParams.performanceJanusLongTaskCount,this.totalLongTaskCount),r.DiagnosticParamsSingleton.report(r.DiagnosticParams.performanceJanusLongTaskDuration,Math.floor(this.totalLongTaskDuration)))}init(){}isSupported(){return o.PerformanceJanusDataCollector.isSupported()}}e.PerformanceJanusBL=a},4372:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PerformanceLongTasksBL=void 0;const n=i(6751),s=i(7360),r=i(6593),o=i(749);class a extends n.BaseAdBL{constructor(){super(...arguments),this.totalLongTaskDuration=0,this.totalLongTaskAmount=0}getEventsAndCallbacksToRegister(){return this.reportLongTaskMeasured(),{[s.DvEvent.performanceLongTasks]:this.handleLongTasks.bind(this)}}reportLongTaskMeasured(){o.v.sendMessage({pltm:1})}handleLongTasks(t){const{longTasks:e=[]}=t;e.length&&(this.totalLongTaskAmount+=e.length,this.totalLongTaskDuration+=e.reduce(((t,{duration:e})=>t+e),0),o.v.sendMessage({pltn:this.totalLongTaskAmount,pltd:Math.floor(this.totalLongTaskDuration)}))}init(){}isSupported(){return r.PerformanceLongTasksDataCollector.isPerformanceLongTasksSupported()}}e.PerformanceLongTasksBL=a},2727:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PerformanceTaskTimingBL=void 0;const n=i(7360),s=i(6820),r=i(8170),o=i(6751);class a extends o.BaseAdBL{init(){this.timings=[],this.scheduledTaskRef=null}getEventsAndCallbacksToRegister(){return{[n.DvEvent.adSelected]:this.reportTaskTiming.bind(this),[n.DvEvent.globalUnloadData]:this.reportTaskTiming.bind(this),[n.DvEvent.performanceTaskTiming]:this.handleTaskTiming.bind(this)}}isSupported(){return(0,s.isPerformanceApiSupported)()}handleTaskTiming(t){const{taskTimings:e=[]}=t;e.length&&(this.timings.push(...e.map((({name:t,startTime:e,duration:i})=>({duration:Math.round(i),name:t,startTime:Math.round(e)})))),this.scheduleTrackingIfNecessary())}scheduleTrackingIfNecessary(){null===this.scheduledTaskRef&&(this.scheduledTaskRef=(0,s.scheduleTask)((()=>{this.reportTaskTiming()})))}reportTaskTiming(){null!=this.scheduledTaskRef&&(this.scheduledTaskRef=null,r.DiagnosticParamsSingleton.reportDiagnosticParam(r.DiagnosticParams.taskTiming,this.getSerializedTaskTiming()))}getSerializedTaskTiming(){return this.timings.map((({name:t,startTime:e,duration:i})=>`${t},${e},${i}`)).join(";")}}e.PerformanceTaskTimingBL=a},2968:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PerformanceMetricsBL=void 0;const n=i(6751),s=i(7360),r=i(3380),o=i(3868),a=i(749),u=i(194),c={tag:{loading:1,interactive:2,complete:4},measurement:{loading:8,interactive:16,complete:32},visit:{loading:64,interactive:128,complete:256}};class d extends n.BaseAdBL{getScriptExecIndicator(t,e){if(!e){e=o.S.currentDocument().readyState}return(c[t]||{})[e]||{}||0}init(){this.measurementScriptExecIndicator=this.getScriptExecIndicator("measurement")}isSupported(){return!o.S.isDomlessEnvironment()}getEventsAndCallbacksToRegister(){return{[s.DvEvent.impressionServed]:this.onImpressionServed.bind(this)}}getScriptDuration(t,e){return o.S.monitorScriptsPerformance(e,{[t]:["duration"]})[`${t}_duration`]||0}reportTagLoadTimeMs(){return{tltms:this.getScriptDuration("dvtp_src",o.S.workingWindow())}}reportTagExecTimeMs(){return{tetms:u.I.getTagExecTimeMs()}}getActionName(){return"PerformanceMetricsBL"}reportMeasurementScriptLoadTimeMs(){return{msltms:this.getScriptDuration("dv-measurements",o.S.currentWindow())}}reportVisitLoadTimeMs(){return{vltms:this.getScriptDuration("visit",o.S.currentWindow())}}reportVisitExecTimeMs(){const t=this.getScriptDuration("visit",o.S.currentWindow());return{vetms:r.Utilities.getCurrentTime()-u.I.getVisitInjectedMS()-t}}reportScriptExecIndicator(){const t=this.getScriptExecIndicator("visit",u.I.getVisitReadyState());return{sei:this.getScriptExecIndicator("tag",u.I.getTagReadyState())|this.measurementScriptExecIndicator|t}}reportTimeUntilVisitInjectedMs(){return{tuviims:u.I.getVisitInjectedMS()-u.I.getTagLoadedMS()}}reportTimeUntilVisitExecutedMs(){return{tuviems:r.Utilities.getCurrentTime()-u.I.getTagLoadedMS()}}onImpressionServed(){let t=this.reportTagLoadTimeMs();r.Utilities.extend(this.reportTagExecTimeMs(),t),r.Utilities.extend(this.reportMeasurementScriptLoadTimeMs(),t),r.Utilities.extend(this.reportVisitLoadTimeMs(),t),r.Utilities.extend(this.reportScriptExecIndicator(),t),r.Utilities.extend(this.reportVisitExecTimeMs(),t),r.Utilities.extend(this.reportTimeUntilVisitInjectedMs(),t),r.Utilities.extend(this.reportTimeUntilVisitExecutedMs(),t),a.v.sendMessage(t)}}e.PerformanceMetricsBL=d},2020:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.RenderingMethodLogger=void 0;const n=i(6751),s=i(7360),r=i(749),o=i(7026);class a extends n.BaseAdBL{getEventsAndCallbacksToRegister(){return{[s.DvEvent.impressionServed]:this.reportRenderingMethodIndicator.bind(this)}}reportRenderingMethodIndicator(){r.v.sendMessage({rmi:o.RenderLogicFactory.getRenderLogic().getRenderingMethodIndicator()})}init(){}isSupported(){return!0}}e.RenderingMethodLogger=a},9401:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ReportAdManagerRTS=void 0;const n=i(7360),s=i(194),r=i(6751),o=i(9450),a=i(3380),u=i(2874);class c extends r.BaseAdBL{init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[n.DvEvent.reportData]:this.report.bind(this),[n.DvEvent.adSelected]:this.report.bind(this)}}report(t){const e=t.adCandidate,{reportType:i=2,forceRTS:n=!1}=t.relevantData;if(!(0===i||2===i)||2!=e.state&&!n)return;const s=a.Utilities.mapData(e,u.RTSDataMapping,!0),r=Object.keys(s);r.length&&this.sendRtsEvents(r,e)}sendRtsEvents(t,e){for(let i of t)s.I.publishPubSubEvent(i),n.u.dispatchEvent(n.DvEvent.rtsEventData,new o.AdCandidateEventData(e,{eventName:i}))}}e.ReportAdManagerRTS=c},3831:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ReportAdManagerTPS=void 0;const n=i(7360),s=i(7658),r=i(6751),o=i(3380),a=i(749);class u extends r.BaseAdBL{constructor(){super(...arguments),this.cachedAdDataToReport={}}init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[n.DvEvent.reportData]:this.report.bind(this),[n.DvEvent.adSelected]:this.report.bind(this)}}report(t){const e=t.adCandidate,i=t.relevantData,n=null==i.reportType||0==i.reportType||1==i.reportType;if(2!=e.state||!n)return;const r=o.Utilities.mapData(e,s.AdDataMappingToReport,!1);o.Utilities.removeDuplicateValues(r,this.cachedAdDataToReport),o.Utilities.extend(r,this.cachedAdDataToReport);const{isImportantMessage:u,noConsolidation:c}=t.relevantData;if(!o.Utilities.isEmpty(r)){let t={isImportantMessage:u,noConsolidation:c};a.v.sendMessage(r,t)}}}e.ReportAdManagerTPS=u},1328:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptInjectionModeBL=void 0;const n=i(6751),s=i(3868),r=i(749),o=i(7360);class a extends n.BaseAdBL{getEventsAndCallbacksToRegister(){return{[o.DvEvent.impressionServed]:this.onImpressionServed.bind(this)}}init(){}onImpressionServed(){r.v.sendMessage({sim:s.S.getScriptInjectionMode()})}isSupported(){return!0}getActionName(){return"ScriptInjectionModeBL"}}e.ScriptInjectionModeBL=a},3500:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ShareOfScreenResearchBL=void 0;const n=i(7360),s=i(425),r=i(7127),o=i(3868),a=i(194);class u extends r.BaseAdDataLoggerBL{getEventsAndCallbacksToRegister(){return{[n.DvEvent.exposureData]:this.handleViewabilityData.bind(this)}}isSupported(){return!0}handleViewabilityData(t){const e=t.adCandidate,i=t.relevantData,n=o.S.workingDocument(o.S.windowTop()||null);let r=!1;const u=i.screenSize,c=e.ShareOfScreenLastScreenSize||u;let d=e.screenSizeChanged;const l=i.adSize,h=e.shareOfScreenLastAdSize||l;let v=e.adSizeChanged;const p=s.p.getDevicePixelRatio(),f=e.devicePixelRatioReported,g=e.shareOfScreenLastDevicePixelRatio||p;let m=e.devicePixelRatioChanged;if(2===a.I.getDetectedDeliveryType()&&(2==(2&o.S.getScenarioType())||1==(1&o.S.getScenarioType()))){const t=i.viewportSize;if(t&&t.width>0&&t.height>0){const{minVpHeight:i,minVpWidth:n,maxVpHeight:s,maxVpWidth:o}=this.getMinAndMaxViewport(e,t);this.isViewportChanged(e,i,n,s,o)&&(r=!0,e.minViewportHeight=i,e.minViewportWidth=n,e.maxViewportHeight=s,e.maxViewportWidth=o)}}if(!d&&this.validateScreenSize(u)&&(e.screenSizeChanged=c.height!==u.height||c.width!==u.width?1:void 0,e.ShareOfScreenLastScreenSize=u,e.screenSizeChanged&&(r=!0)),!v&&this.validateAdSize(l)&&(e.adSizeChanged=h.height!=l.height||h.width!=l.width?1:void 0,e.shareOfScreenLastAdSize=l,e.adSizeChanged&&(r=!0)),!m&&p&&(e.devicePixelRatioChanged=g!==p?1:void 0,e.shareOfScreenLastDevicePixelRatio=p,e.devicePixelRatioChanged&&(r=!0)),f||(r=!0,e.devicePixelRatioReported=!0),n&&!this.isMetaReported(e)){const t=s.p.getMetaTagAttributes(n,"viewport");for(let i of Object.keys(t)){const n=t[i];switch(i.trim()){case"width":e.viewPortMetaTagWidth=n;break;case"height":e.viewPortMetaTagHeight=n;break;case"initial-scale":e.viewPortMetaTagInitialScale=n;break;case"user-scalable":e.viewPortMetaTagScalable="yes"===n?1:0}}r=this.isMetaReported(e)}r&&this.report(e)}isViewportChanged(t,e,i,n,s){return t.minViewportHeight!=e||t.minViewportWidth!=i||t.maxViewportHeight!=n||t.maxViewportWidth!=s}getMinAndMaxViewport(t,e){return{minVpHeight:Math.min(t.minViewportHeight||e.height,e.height),minVpWidth:Math.min(t.minViewportWidth||e.width,e.width),maxVpHeight:Math.max(t.maxViewportHeight||e.height,e.height),maxVpWidth:Math.max(t.maxViewportWidth||e.width,e.width)}}isMetaReported(t){return!!(t.viewPortMetaTagWidth||t.viewPortMetaTagHeight||t.viewPortMetaTagInitialScale||t.viewPortMetaTagScalable)}validateScreenSize(t){return!!(t&&t.width&&t.height)}validateAdSize(t){return!!(t&&t.width&&t.height)}getTrafficPercentage(){return 100}getSupportedDetectedDeliveryType(){return[3,2,1]}getActionName(){return"ShareOfScreen"}}e.ShareOfScreenResearchBL=u},3719:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseViewabilityBL=void 0;const n=i(7360),s=i(6751);class r extends s.BaseAdBL{getActionName(){return"BaseViewabilityBL"}getEventsAndCallbacksToRegister(){return{[n.DvEvent.impressionServed]:this.impressionServed.bind(this)}}impressionServed(){this.shouldRegisterToExposureEvents()&&n.u.addEventListener(n.DvEvent.exposureData,this.handleViewabilityData.bind(this))}handleViewabilityData(t){const e=t.adCandidate,i=t.relevantData;if(this.needToCheckViewability(e,i)){this.reportViewabilityMeasured(e,i);const t=this.isViewabilityConditionPassed(i);this.shouldReportViewability(t,i.intervalDuration,e,i)&&this.reportViewabilityPassed(e,i.updateTime)}}}e.BaseViewabilityBL=r},4771:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BucketsDisplayViewabilityBL=void 0;const n=i(7749),s=i(7360),r=i(6751),o=i(3380);class a extends r.BaseAdBL{init(){}isSupported(){return 0==n.T.getTagType()}getEventsAndCallbacksToRegister(){return{[s.DvEvent.exposureData]:this.handleViewabilityData.bind(this)}}handleViewabilityData(t){const e=t.adCandidate,i=t.relevantData;let n=i.intervalDuration,s=this.getBucketNumber(i.percentage,i.focus),r="b"+s;null!=s?(e[r]=e[r]||0,e[r]+=n,e.viewabilityDisplayBucketsUnloadTime=i.updateTime):(e.napt=e.napt||0,e.napt+=n)}getBucketNumber(t,e){return o.Utilities.isNullOrEmpty(t)?null:0!=t&&e?Math.floor(t/10)+1:0}}e.BucketsDisplayViewabilityBL=a},8877:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BucketsVideoViewabilityBL=void 0;const n=i(7749),s=i(7360),r=i(9450),o=i(6751);class a extends o.BaseAdBL{init(){}isSupported(){return 1==n.T.getTagType()}getEventsAndCallbacksToRegister(){return{[s.DvEvent.exposureData]:this.handleViewabilityData.bind(this),[s.DvEvent.adVideoFirstQuartileData]:this.handleQuartileData.bind(this,1),[s.DvEvent.adVideoMidpointData]:this.handleQuartileData.bind(this,2),[s.DvEvent.adVideoThirdQuartileData]:this.handleQuartileData.bind(this,3),[s.DvEvent.adVideoCompleteData]:this.handleLastQuartileData.bind(this)}}handleLastQuartileData(t){const e=this.updateQuartileTimestamp(t);s.u.dispatchEvent(s.DvEvent.reportData,new r.AdCandidateEventData(e,{isImportantMessage:!1,noConsolidation:!0}))}handleQuartileData(t,e){const i=this.updateQuartileTimestamp(e);s.u.dispatchEvent(s.DvEvent.reportData,new r.AdCandidateEventData(i)),i.videoBucketsQuartileId=t+1}updateQuartileTimestamp(t){const e=t.relevantData,i=t.adCandidate;return i[`isq${i.videoBucketsQuartileId}ms`]=e.updateTime,i.markAdQuartile(4,i.videoBucketsQuartileId),i}handleViewabilityData(t){const e=t.adCandidate,i=t.relevantData;if(!i.adIsPlaying)return;let n=i.intervalDuration,s=this.getBucketNumber(i.percentage,i.focus);if(null!=s){const t="q"+e.videoBucketsQuartileId+"b"+s;e[t]=e[t]?e[t]+n:n,e.isVideoInViewBucketsMeasured=!0}else{const t="q"+e.videoBucketsQuartileId+"napt";e[t]=e[t]?e[t]+n:n}}getBucketNumber(t,e){return null==t?null:0!=t&&e?Math.floor(t/25)+1:0}}e.BucketsVideoViewabilityBL=a},7938:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.EndQuartileViewabilityBL=void 0;const n=i(7360),s=i(7749),r=i(9450),o=i(6751);class a extends o.BaseAdBL{init(){}isSupported(){return 1==s.T.getTagType()}getEventsAndCallbacksToRegister(){return{[n.DvEvent.exposureData]:this.handleViewabilityData.bind(this),[n.DvEvent.adVideoFirstQuartileData]:this.handleQuartileData.bind(this,1),[n.DvEvent.adVideoMidpointData]:this.handleQuartileData.bind(this,2),[n.DvEvent.adVideoThirdQuartileData]:this.handleQuartileData.bind(this,3),[n.DvEvent.adVideoCompleteData]:this.handleVideoCompleteData.bind(this)}}handleViewabilityData(t){const e=t.adCandidate,i=t.relevantData;i.adIsPlaying&&null!=i.percentage&&(e.endQuartileCurrentViewability=i.focus?i.percentage:0,e.endQuartileCurrentVolume=i.volume,i.adSize&&(e.adQuartileWidth=i.adSize.width))}handleQuartileData(t,e){const i=e.adCandidate;i["q"+t+"vpend"]=i.endQuartileCurrentViewability,i["q"+t+"ps"]=this.getPlayerSize(i.adQuartileWidth),n.u.dispatchEvent(n.DvEvent.reportData,new r.AdCandidateEventData(i))}getPlayerSize(t){let e=0;return t>0&&t<=300?e=1:t>300&&t<=399?e=2:t>399&&t<=639?e=3:t>639&&(e=4),e}handleVideoCompleteData(t){const e=t.relevantData,i=t.adCandidate;0!=i.endQuartileCurrentVolume&&(i.timeUntilAudibleOnCompleteMs=e.updateTime,i.endQuartileCurrentViewability>=50&&(i.timeMsUntilAdAudibleAndViewableOnCompletionMs=e.updateTime)),this.handleQuartileData(4,t)}}e.EndQuartileViewabilityBL=a},4892:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.FocusBucketsBL=void 0;const n=i(7360),s=i(7749),r=i(6751);class o extends r.BaseAdBL{init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[n.DvEvent.exposureData]:this.handleViewabilityData.bind(this)}}handleViewabilityData(t){const e=t.adCandidate,i=t.relevantData;(1!=s.T.getTagType()||i.adIsPlaying)&&(i.focus?e.looseFocusTrueBucket=e.looseFocusTrueBucket?e.looseFocusTrueBucket+i.intervalDuration:i.intervalDuration:null!=i.focus&&(e.looseFocusFalseBucket=e.looseFocusFalseBucket?e.looseFocusFalseBucket+i.intervalDuration:i.intervalDuration),i.strictFocus?e.strictFocusTrueBucket=e.strictFocusTrueBucket?e.strictFocusTrueBucket+i.intervalDuration:i.intervalDuration:null!=i.strictFocus&&(e.strictFocusFalseBucket=e.strictFocusFalseBucket?e.strictFocusFalseBucket+i.intervalDuration:i.intervalDuration))}}e.FocusBucketsBL=o},7912:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.GroupMDisplayViewabilityBL=void 0;const n=i(7749),s=i(7360),r=i(3719),o=i(9450),a=i(3380);class u extends r.BaseViewabilityBL{init(){}isSupported(){return 0==n.T.getTagType()}shouldRegisterToExposureEvents(){return!0}isViewabilityConditionPassed(t){return!(null==t.percentage||!t.focus)&&(!!a.Utilities.isLargeAd(t.adSize,242500)||t.percentage>=98)}needToCheckViewability(t,e){return null==t.groupMTimeMsUntilAdViewed&&null!=e.percentage}shouldReportViewability(t,e,i,n){return t}reportViewabilityMeasured(t,e){t.groupMTimeMsUntilAdMeasured||(t.groupMTimeMsUntilAdMeasured=e.updateTime,t.groupMTimeMsUntilAdMeasuredRTS=e.updateTime,s.u.dispatchEvent(s.DvEvent.reportData,new o.AdCandidateEventData(t)))}reportViewabilityPassed(t,e){t.groupMTimeMsUntilAdMeasured++,t.groupMTimeMsUntilAdMeasuredRTS++,t.groupMTimeMsUntilAdViewed=e,t.groupMTimeMsUntilAdViewedRTS=e,t.groupMV3TimeMsUntilAdViewedRTS=e,s.u.dispatchEvent(s.DvEvent.reportData,new o.AdCandidateEventData(t))}}e.GroupMDisplayViewabilityBL=u},4691:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.GroupMV4MobileDisplayViewabilityBL=void 0;const n=i(7749),s=i(7360),r=i(194),o=i(3719),a=i(9450);class u extends o.BaseViewabilityBL{init(){this.minimalAdAreaPercentage=0,this.minimalAdAreaPercentageWhenAdAreaLowerThanViewport=98,this.minimalDuration=1e3}isSupported(){return 0==n.T.getTagType()}shouldRegisterToExposureEvents(){return r.I.isMobileWeb()}isViewabilityConditionPassed(t){return t.percentage>this.minimalAdAreaPercentage}needToCheckViewability(t,e){return null==t.groupMV4DisplayTimeMsUntilAdViewed&&null!=e.percentage}shouldReportViewability(t,e,i,n){return i.groupMV4DisplayViewedTime=t?i.groupMV4DisplayViewedTime+n.intervalDuration:0,i.groupMV4TimeCriteriaPassed=i.groupMV4TimeCriteriaPassed||i.groupMV4DisplayViewedTime>=this.minimalDuration,i.isAllBoundariesPassed=i.isAllBoundariesPassed||this.isAllBoundariesPassed(i,n),i.groupMV4TimeCriteriaPassed&&i.isAllBoundariesPassed}reportViewabilityMeasured(t,e){t.groupMV4TimeMsUntilAdMeasured||this.isAdSizeLargerThanViewPortSize(e)&&!e.boundariesViewability||(t.groupMV4TimeMsUntilAdMeasured=e.updateTime,s.u.dispatchEvent(s.DvEvent.reportData,new a.AdCandidateEventData(t)))}reportViewabilityPassed(t,e){t.groupMV4TimeMsUntilAdMeasured++,t.groupMV4DisplayTimeMsUntilAdViewed=e,t.groupMV4DisplayTimeMsUntilAdViewedRTS=e,t.groupMV4TimeMsUntilAdViewedRTS=e,s.u.dispatchEvent(s.DvEvent.reportData,new a.AdCandidateEventData(t))}getArea(t){if(t&&t.width&&t.height)return t.width*t.height}isAdSizeLargerThanViewPortSize(t){const e=this.getArea(t.adSize),i=this.getArea(t.viewportSize);return e&&i&&e>i}isAllBoundariesPassed(t,e){if(this.isAdSizeLargerThanViewPortSize(e)){if(e.boundariesViewability){let i=t.boundariesViewed;return i.topLeft=i.topLeft||e.boundariesViewability.topLeft,i.topRight=i.topRight||e.boundariesViewability.topRight,i.bottomLeft=i.bottomLeft||e.boundariesViewability.bottomLeft,i.bottomRight=i.bottomRight||e.boundariesViewability.bottomRight,i.topLeft&&i.topRight&&i.bottomLeft&&i.bottomRight}return!1}return e.percentage>this.minimalAdAreaPercentageWhenAdAreaLowerThanViewport}}e.GroupMV4MobileDisplayViewabilityBL=u},6825:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.GroupMV4NonMobileDisplayViewabilityBL=void 0;const n=i(7749),s=i(7360),r=i(194),o=i(3719),a=i(9450),u=i(3380);class c extends o.BaseViewabilityBL{init(){}isSupported(){return 0==n.T.getTagType()}shouldRegisterToExposureEvents(){return!r.I.isMobileWeb()}isViewabilityConditionPassed(t){let e=u.Utilities.isLargeAd(t.adSize,242500);return!(null==t.percentage||!t.focus)&&(!!(e&&t.percentage>=50)||!e&&t.percentage>=98)}needToCheckViewability(t,e){return null==t.groupMV4DisplayTimeMsUntilAdViewed&&null!=e.percentage}shouldReportViewability(t,e,i,n){return i.groupMV4DisplayViewedTime=t?i.groupMV4DisplayViewedTime+n.intervalDuration:0,i.groupMV4DisplayViewedTime>=1e3}reportViewabilityMeasured(t,e){t.groupMV4TimeMsUntilAdMeasured||(t.groupMV4TimeMsUntilAdMeasured=e.updateTime,s.u.dispatchEvent(s.DvEvent.reportData,new a.AdCandidateEventData(t)))}reportViewabilityPassed(t,e){t.groupMV4TimeMsUntilAdMeasured++,t.groupMV4DisplayTimeMsUntilAdViewed=e,t.groupMV4DisplayTimeMsUntilAdViewedRTS=e,t.groupMV4TimeMsUntilAdViewedRTS=e,s.u.dispatchEvent(s.DvEvent.reportData,new a.AdCandidateEventData(t))}}e.GroupMV4NonMobileDisplayViewabilityBL=c},7827:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.GroupMV4VideoNativeViewabilityBL=void 0;const n=i(7360),s=i(7749),r=i(194),o=i(3719),a=i(9450),u=i(3380),c=i(6142);class d extends o.BaseViewabilityBL{init(){}isSupported(){return 1==s.T.getTagType()}shouldRegisterToExposureEvents(){return!0}isViewabilityConditionPassed(t){let e=!r.I.isMobileApp()&&!r.I.isMobileWeb()&&u.Utilities.isLargeAd(t.adSize,3e5);return!(!t.percentage||!t.focus)&&(!!(e&&t.percentage>=80)||!e&&t.percentage>=98)}needToCheckViewability(t,e){return null==t.groupMV4VideoNativeTimeMsUntilAdViewed&&null!=e.percentage&&e.adIsPlaying}shouldReportViewability(t,e,i,n){i.groupMV4VideoNativeViewedTime=t?i.groupMV4VideoNativeViewedTime+n.intervalDuration:i.groupMV4VideoNativeViewedTime;const s=i.videoLength?Math.min(15e3,.5*i.videoLength):15e3;return i.groupMV4VideoNativeViewedTime>=s}reportViewabilityMeasured(t,e){null==t.groupMV4TimeMsUntilAdMeasured&&(t.groupMV4TimeMsUntilAdMeasured=e.updateTime,n.u.dispatchEvent(n.DvEvent.reportData,new a.AdCandidateEventData(t)))}reportViewabilityPassed(t,e){t.groupMV4TimeMsUntilAdMeasured++,t.groupMV4VideoNativeTimeMsUntilAdViewed=e,t.groupMV4VideoNativeTimeMsUntilAdViewedRTS=e,c.ServerContext.isGroupMV4VideoNativeImpression()&&(t.groupMV4TimeMsUntilAdViewedRTS=e),n.u.dispatchEvent(n.DvEvent.reportData,new a.AdCandidateEventData(t))}}e.GroupMV4VideoNativeViewabilityBL=d},9045:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.GroupMV4VideoReachExtensionViewabilityBL=void 0;const n=i(7360),s=i(7749),r=i(194),o=i(3719),a=i(9450),u=i(3380),c=i(6142);class d extends o.BaseViewabilityBL{init(){}isSupported(){return 1==s.T.getTagType()}shouldRegisterToExposureEvents(){return!0}isViewabilityConditionPassed(t){let e=!r.I.isMobileApp()&&!r.I.isMobileWeb()&&u.Utilities.isLargeAd(t.adSize,3e5);return!(!t.percentage||!t.focus)&&(0!=t.volume&&(!!(e&&t.percentage>=80)||!e&&t.percentage>=98))}needToCheckViewability(t,e){return null==t.groupMV4VideoReachExtensionTimeMsUntilAdViewed&&null!=e.percentage&&e.adIsPlaying}shouldReportViewability(t,e,i,n){i.groupMV4VideoReachExtensionViewedTime=t?i.groupMV4VideoReachExtensionViewedTime+n.intervalDuration:i.groupMV4VideoReachExtensionViewedTime;const s=i.videoLength?Math.min(15e3,.5*i.videoLength):15e3;return i.groupMV4VideoReachExtensionViewedTime>=s}reportViewabilityMeasured(t,e){null==t.groupMV4TimeMsUntilAdMeasured&&(t.groupMV4TimeMsUntilAdMeasured=e.updateTime,n.u.dispatchEvent(n.DvEvent.reportData,new a.AdCandidateEventData(t)))}reportViewabilityPassed(t,e){t.groupMV4TimeMsUntilAdMeasured++,t.groupMV4VideoReachExtensionTimeMsUntilAdViewed=e,t.groupMV4VideoReachExtensionTimeMsUntilAdViewedRTS=e,c.ServerContext.isGroupMV4VideoNativeImpression()||(t.groupMV4TimeMsUntilAdViewedRTS=e),n.u.dispatchEvent(n.DvEvent.reportData,new a.AdCandidateEventData(t))}}e.GroupMV4VideoReachExtensionViewabilityBL=d},7175:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.GroupMVideoViewabilityBL=void 0;const n=i(7360),s=i(7749),r=i(3719),o=i(9450),a=i(3380);class u extends r.BaseViewabilityBL{init(){}isSupported(){return 1==s.T.getTagType()}shouldRegisterToExposureEvents(){return!0}isViewabilityConditionPassed(t){let e=a.Utilities.isLargeAd(t.adSize,3e5);return!(!t.percentage||!t.focus)&&(0!=t.volume&&(!!(e&&t.percentage>=80)||!e&&t.percentage>=98))}needToCheckViewability(t,e){return null==t.groupMTimeMsUntilAdViewed&&null!=e.percentage&&e.adIsPlaying}shouldReportViewability(t,e,i,n){i.groupMViewedTime=t?i.groupMViewedTime+n.intervalDuration:i.groupMViewedTime;const s=i.videoLength?Math.min(15e3,.5*i.videoLength):15e3;return i.groupMViewedTime>=s}reportViewabilityMeasured(t,e){t.groupMTimeMsUntilAdMeasured||(t.groupMTimeMsUntilAdMeasured=e.updateTime,t.groupMTimeMsUntilAdMeasuredRTS=e.updateTime,n.u.dispatchEvent(n.DvEvent.reportData,new o.AdCandidateEventData(t)))}reportViewabilityPassed(t,e){t.groupMTimeMsUntilAdMeasured++,t.groupMTimeMsUntilAdMeasuredRTS++,t.groupMTimeMsUntilAdViewed=e,t.groupMTimeMsUntilAdViewedRTS=e,t.groupMV3TimeMsUntilAdViewedRTS=e,n.u.dispatchEvent(n.DvEvent.reportData,new o.AdCandidateEventData(t))}}e.GroupMVideoViewabilityBL=u},8029:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.IabDisplayViewabilityBL=void 0;const n=i(7360),s=i(7749),r=i(3719),o=i(3380),a=i(425),u=i(9450),c=i(194);class d extends r.BaseViewabilityBL{init(){}shouldRegisterToExposureEvents(){return!0}isSupported(){return 0==s.T.getTagType()}needToCheckViewability(t,e){return null==t.timeMsUntilAdViewed&&null!=o.Utilities.getIabVisiblePercentage(e)}isViewabilityConditionPassed(t){const e=o.Utilities.isLargeAd(t.adSize,242500,c.I.isMobile()),i=o.Utilities.isIabPageInFocus(t),n=o.Utilities.getIabVisiblePercentage(t);return!(!n||!i)&&(!!(e&&n>=30)||!e&&n>=50)}shouldReportViewability(t,e,i){return i.iabViewedTime=t?i.iabViewedTime+e:0,i.iabViewedTime>=1e3}reportViewabilityMeasured(t,e){if(t.timeMsUntilAdMeasured)return;e.viewportSize&&(o.Utilities.isNumeric(e.viewportSize.height)&&(t.viewportHeight=Math.ceil(e.viewportSize.height)),o.Utilities.isNumeric(e.viewportSize.width)&&(t.viewportWidth=Math.ceil(e.viewportSize.width)));const i=a.p.getScreenSize();i&&i.width&&i.height&&(t.screenHeight=Math.ceil(i.height),t.screenWidth=Math.ceil(i.width)),t.timeMsUntilAdMeasured=e.updateTime,t.unadjustedTimeMsUntilAdMeasured=e.updateTime,n.u.dispatchEvent(n.DvEvent.reportData,new u.AdCandidateEventData(t))}reportViewabilityPassed(t,e){t.timeMsUntilAdViewed=e,t.unadjustedTimeMsUntilAdViewed=e,t.timeMsUntilAdMeasured++,n.u.dispatchEvent(n.DvEvent.reportData,new u.AdCandidateEventData(t))}}e.IabDisplayViewabilityBL=d},5157:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.IabDisplayViewabilityForXSecondsBL=void 0;const n=i(7360),s=i(7749),r=i(194),o=i(3719),a=i(9450),u=i(3380);class c extends o.BaseViewabilityBL{init(){}shouldRegisterToExposureEvents(){return!0}isSupported(){return 0==s.T.getTagType()}needToCheckViewability(t,e){return t.iabViewablitiyTimeToCheck.length>0&&null!=this.getPercentage(e)}isViewabilityConditionPassed(t){const e=u.Utilities.isLargeAd(t.adSize,242500,r.I.isMobile()),i=u.Utilities.isIabPageInFocus(t);return!(!this.getPercentage(t)||!i)&&(!!(e&&this.getPercentage(t)>=30)||!e&&this.getPercentage(t)>=50)}shouldReportViewability(t,e,i){return i.IABAdViewableForXSecondsViewedTime=t?i.IABAdViewableForXSecondsViewedTime+e:0,i.IABAdViewableForXSecondsViewedTime>=i.IABAdViewableForXSecondsdurationRequirement}reportViewabilityMeasured(t,e){}reportViewabilityPassed(t,e){const i=t.iabViewablitiyTimeToCheck.shift();t["iabv"+i]=e,n.u.dispatchEvent(n.DvEvent.reportData,new a.AdCandidateEventData(t,{reportType:0})),t.iabViewablitiyTimeToCheck.length>0&&(t.IABAdViewableForXSecondsdurationRequirement=1e3*t.iabViewablitiyTimeToCheck[0])}getPercentage(t){return u.Utilities.getIabVisiblePercentage(t)}}e.IabDisplayViewabilityForXSecondsBL=c},8123:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.IabNotViewReasonsViewabilityBL=void 0;const n=i(7360),s=i(6751),r=i(7749),o=i(3380),a=i(194);class u extends s.BaseAdBL{getActionName(){return"IabNotViewReasonsViewabilityBL"}init(){this.isVideoTag=1==r.T.getTagType(),this.viewTimeThreshold=this.isVideoTag?2e3:1e3}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[n.DvEvent.impressionServed]:this.start.bind(this)}}start(){n.u.addEventsListener({[n.DvEvent.exposureData]:this.handleViewabilityData.bind(this)})}handleViewabilityData(t){const e=t.adCandidate,i=t.relevantData,n=o.Utilities.getIabVisiblePercentage(i),s=o.Utilities.isIabPageInFocus(i);if(!e.notViewableReasonWasViewed&&null!=n){if(!this.isVideoTag||this.isVideoTag&&i.adIsPlaying)if(e.notViewableReasonVideoPlayed=!0,s)if(e.notViewableReasonWasInFocus=!0,n>0){e.notViewableReasonWasInViewPort=!0,n>=(!this.isVideoTag&&o.Utilities.isLargeAd(i.adSize,242500,a.I.isMobile())?30:50)?(e.notViewableReasonCumulativeViewTime+=i.intervalDuration,e.notViewableReasonConsecutiveViewTime+=i.intervalDuration,e.notViewableReasonConsecutiveViewTime>=this.viewTimeThreshold&&(e.notViewableReasonWasViewed=!0)):e.notViewableReasonConsecutiveViewTime=0}else e.notViewableReasonConsecutiveViewTime=0;else e.notViewableReasonConsecutiveViewTime=0;e.notViewableReason=this.getNotViewReason(e)||e.notViewableReason}}getNotViewReason(t){return this.isVideoTag&&!t.notViewableReasonVideoPlayed?7:t.notViewableReasonWasViewed?6:t.notViewableReasonWasInFocus?t.notViewableReasonWasInViewPort?0==t.notViewableReasonCumulativeViewTime?3:t.notViewableReasonCumulativeViewTime<this.viewTimeThreshold?4:t.notViewableReasonConsecutiveViewTime<this.viewTimeThreshold?5:void 0:2:1}}e.IabNotViewReasonsViewabilityBL=u},5993:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.IabVideoQuartileViewabilityBL=void 0;const n=i(7360),s=i(7749),r=i(9450),o=i(6751);class a extends o.BaseAdBL{init(){this.iabMinimalDuration=2e3,this.iabMinimalAdAreaPercentageForStandardSize=50}isSupported(){return 1==s.T.getTagType()}getEventsAndCallbacksToRegister(){return{[n.DvEvent.exposureData]:this.handleViewabilityData.bind(this),[n.DvEvent.adVideoFirstQuartileData]:this.handleQuartileData.bind(this,1),[n.DvEvent.adVideoMidpointData]:this.handleQuartileData.bind(this,2),[n.DvEvent.adVideoThirdQuartileData]:this.handleQuartileData.bind(this,3),[n.DvEvent.adVideoCompleteData]:this.handleQuartileData.bind(this,4)}}handleViewabilityData(t){const e=t.adCandidate,i=t.relevantData;i.adIsPlaying&&(e["q"+e.iabVideoQuartileId+"iabvms"]||this.tryReportViewed(e,i))}handleQuartileData(t,e){const i=e.adCandidate;i.iabVideoQuartileViewed=0,i.iabVideoQuartileId=t+1}tryReportViewed(t,e){this.IsIabCriteriaPassed(e)?(t.iabVideoQuartileViewed+=e.intervalDuration,t.iabVideoQuartileViewed>=this.iabMinimalDuration&&this.reportViewedImpression(t,e.updateTime)):t.iabVideoQuartileViewed=0}IsIabCriteriaPassed(t){return!(!t.percentage||!t.focus)&&t.percentage>=this.iabMinimalAdAreaPercentageForStandardSize}reportViewedImpression(t,e){t["q"+t.iabVideoQuartileId+"iabvms"]=e,t.markAdQuartile(1,t.iabVideoQuartileId),n.u.dispatchEvent(n.DvEvent.reportData,new r.AdCandidateEventData(t))}}e.IabVideoQuartileViewabilityBL=a},5152:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.IabVideoViewabilityBL=void 0;const n=i(7360),s=i(7749),r=i(3719),o=i(425),a=i(9450),u=i(3380);class c extends r.BaseViewabilityBL{init(){this.iabMinimalDuration=2e3,this.iabMinimalAdAreaPercentageForStandardSize=50}isSupported(){return 1==s.T.getTagType()}shouldRegisterToExposureEvents(){return!0}needToCheckViewability(t,e){return null==t.timeMsUntilAdViewed&&null!=this.getPercentage(e)&&e.adIsPlaying}isViewabilityConditionPassed(t){const e=u.Utilities.isIabPageInFocus(t);return!(!this.getPercentage(t)||!e)&&this.getPercentage(t)>=this.iabMinimalAdAreaPercentageForStandardSize}shouldReportViewability(t,e,i){return i.iabViewedTime=t?i.iabViewedTime+e:0,i.iabViewedTime>=this.iabMinimalDuration}reportViewabilityMeasured(t,e){if(t.timeMsUntilAdMeasured)return;e.viewportSize&&(u.Utilities.isNumeric(e.viewportSize.height)&&(t.viewportHeight=Math.ceil(e.viewportSize.height)),u.Utilities.isNumeric(e.viewportSize.width)&&(t.viewportWidth=Math.ceil(e.viewportSize.width)));const i=o.p.getScreenSize();i&&i.width&&i.height&&(t.screenHeight=Math.ceil(i.height),t.screenWidth=Math.ceil(i.width)),t.timeMsUntilAdMeasured=e.updateTime,t.unadjustedTimeMsUntilAdMeasured=e.updateTime,n.u.dispatchEvent(n.DvEvent.reportData,new a.AdCandidateEventData(t))}reportViewabilityPassed(t,e){t.timeMsUntilAdViewed=e,t.unadjustedTimeMsUntilAdViewed=e,t.timeMsUntilAdMeasured++,n.u.dispatchEvent(n.DvEvent.reportData,new a.AdCandidateEventData(t))}getPercentage(t){return u.Utilities.getIabVisiblePercentage(t)}}e.IabVideoViewabilityBL=c},1061:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.IabVideoViewabilityForXSecondsBL=void 0;const n=i(7360),s=i(7749),r=i(3719),o=i(9450),a=i(3380);class u extends r.BaseViewabilityBL{init(){this.iabMinimalDuration=2e3,this.iabMinimalAdAreaPercentageForStandardSize=50}shouldRegisterToExposureEvents(){return!0}isSupported(){return 1==s.T.getTagType()}needToCheckViewability(t,e){return t.iabViewablitiyTimeToCheck.length>0&&null!=this.getPercentage(e)&&e.adIsPlaying}isViewabilityConditionPassed(t){const e=a.Utilities.isIabPageInFocus(t);return!(!this.getPercentage(t)||!e)&&this.getPercentage(t)>=this.iabMinimalAdAreaPercentageForStandardSize}shouldReportViewability(t,e,i){return i.IABAdViewableForXSecondsViewedTime=t?i.IABAdViewableForXSecondsViewedTime+e:0,i.IABAdViewableForXSecondsViewedTime>=i.IABAdViewableForXSecondsdurationRequirement}reportViewabilityMeasured(t,e){}reportViewabilityPassed(t,e){const i=t.iabViewablitiyTimeToCheck.shift();t["iabv"+i]=e,n.u.dispatchEvent(n.DvEvent.reportData,new o.AdCandidateEventData(t,{reportType:0})),t.iabViewablitiyTimeToCheck.length>0&&(t.IABAdViewableForXSecondsdurationRequirement=1e3*t.iabViewablitiyTimeToCheck[0])}getPercentage(t){return a.Utilities.getIabVisiblePercentage(t)}}e.IabVideoViewabilityForXSecondsBL=u},2310:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.InViewShareOfScreenBL=void 0;const n=i(9450),s=i(6751),r=i(7360),o=i(3380),a=i(194),u=i(7749),c=i(3868),d=i(425);class l extends s.BaseAdBL{constructor(){super(...arguments),this.MIN_VAL=0,this.MAX_VAL=100,this.MAX_EVENTS=4,this.MIN_PERCENTAGE_CHANGE=10}init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[r.DvEvent.impressionServed]:this.handleImpressionServed.bind(this)}}handleImpressionServed(){r.u.addEventsListener({[r.DvEvent.exposureData]:this.handleInViewData.bind(this),[r.DvEvent.adVideoCompleteData]:this.handleVideoCompleteOrUnload.bind(this),[r.DvEvent.unloadData]:this.handleVideoCompleteOrUnload.bind(this)})}updateInViewShareOfScreenData(t,e,i){const n=void 0===t.avgInViewShareOfScreen&&e>0;t.avgInViewShareOfScreen=e,c.S.isIOS()&&this.isApplicableForInstantIosReport(t,i)?(t.inViewShareOfScreenLastIosReportedPercentage=i,this.report(t)):n&&this.report(t)}determineIsInViewMeasured(t,e){const i=(null==t?void 0:t.height)&&(null==t?void 0:t.width);if((null==e?void 0:e.height)&&(null==e?void 0:e.width)&&i)return 1}handleInViewData(t){const{inViewShareOfScreenData:e,screenSize:i,visiblePercentage:n,adSize:s,adIsPlaying:r,isInFocus:a}=this.prepareValues(t);if(void 0===e.inViewShareOfScreenMeasured&&(e.inViewShareOfScreenMeasured=this.determineIsInViewMeasured(i,s)),!this.isInViewConditionPassed(s,i,r,a,n))return;const u=s.height*s.width*n/(i.width*i.height);e.sumInViewShareOfScreen+=u,e.inViewIntervalCount=e.inViewIntervalCount+1;const c=o.Utilities.getValBetweenMinAndMax(Math.round(e.sumInViewShareOfScreen/e.inViewIntervalCount),this.MIN_VAL,this.MAX_VAL);this.updateInViewShareOfScreenData(e,c,n)}prepareValues(t){const e=t.relevantData,i=t.adCandidate;i.sumInViewShareOfScreen=i.sumInViewShareOfScreen||0,i.inViewIntervalCount=i.inViewIntervalCount||0;const{screenSize:n,visiblePercentage:s,adSize:r,adIsPlaying:o,isInFocus:a}=this.collectCurrentShareOfScreenData(e,i);return{inViewShareOfScreenData:i,screenSize:n,visiblePercentage:s,adSize:r,adIsPlaying:o,isInFocus:a}}report(t){r.u.dispatchEvent(r.DvEvent.reportData,new n.AdCandidateEventData(t))}calculateMaxEventsNumber(t){return void 0===t?this.MAX_EVENTS:t}isApplicableForInstantIosReport(t,e){t.inViewShareOfScreenEventsLeftToReport=this.calculateMaxEventsNumber(t.inViewShareOfScreenEventsLeftToReport);const i=!t.inViewShareOfScreenLastIosReportedPercentage||t.inViewShareOfScreenEventsLeftToReport>0&&t.inViewShareOfScreenLastIosReportedPercentage!=e&&t.inViewShareOfScreenLastIosReportedPercentage+this.MIN_PERCENTAGE_CHANGE<=100&&Math.abs(t.inViewShareOfScreenLastIosReportedPercentage-e)>=this.MIN_PERCENTAGE_CHANGE;return i&&(t.inViewShareOfScreenEventsLeftToReport=0===t.inViewShareOfScreenEventsLeftToReport?0:t.inViewShareOfScreenEventsLeftToReport-1),i}collectCurrentShareOfScreenData(t,e){const i=o.Utilities.isIabPageInFocus(t);return{screenSize:this.getComparableScreenSize(t,e),visiblePercentage:t.percentage,adSize:t.adSize,adIsPlaying:1!=u.T.getTagType()||t.adIsPlaying,isInFocus:i}}getComparableScreenSize(t,e){e.inViewShareOfScreenReadFromViewport=e.inViewShareOfScreenReadFromViewport||this.isApplicableForViewportMeasurement()&&this.reportReadFromViewport(e);let i=t.screenSize;if(e.inViewShareOfScreenReadFromViewport&&i&&i.width>0&&i.height){const e=d.p.getInnerViewport();e.width>0&&e.height>0&&(i={width:e.width,height:t.screenSize.height*(e.width/t.screenSize.width)})}return i}isApplicableForViewportMeasurement(){if(2===a.I.getDetectedDeliveryType()&&(2==(2&c.S.getScenarioType())||1==(1&c.S.getScenarioType()))){const t=d.p.getMetaTagAttributes(c.S.workingDocument(c.S.windowTop()),"viewport");return!this.isWebPageResponsive(t)}return!1}isWebPageResponsive(t){const e=t.width,i=t["initial-scale"];return!o.Utilities.isEmptyObject(t)&&(1===Number(i)||"device-width"===e)}reportReadFromViewport(t){return t.inViewShareOfScreenReadFromViewportReport=1,!0}handleVideoCompleteOrUnload(t){const e=t.adCandidate;this.report(e)}isInViewConditionPassed(t,e,i,n,s){return i&&n&&this.validateScreenAndAdSize(t,e)&&s>0}validateScreenAndAdSize(t,e){const i=t&&t.width&&t.height,n=e&&e.width&&e.height;return i&&n}getActionName(){return"InViewShareOfScreenBL"}}e.InViewShareOfScreenBL=l},8642:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PMXDisplayViewabilityBL=void 0;const n=i(7749),s=i(7360),r=i(3719),o=i(9450),a=i(3380);class u extends r.BaseViewabilityBL{init(){}isSupported(){return 0==n.T.getTagType()}shouldRegisterToExposureEvents(){return!0}isViewabilityConditionPassed(t){let e=a.Utilities.isLargeAd(t.adSize,242500);return!(!t.percentage||!t.focus)&&(!!(e&&t.percentage>=30)||!e&&t.percentage>=98)}needToCheckViewability(t,e){return null==t.pmxTimeMsUntilAdViewed&&null!=e.percentage}shouldReportViewability(t,e,i,n){return i.pmxViewedTime=t?i.pmxViewedTime+e:0,i.pmxViewedTime>=1e3}reportViewabilityMeasured(t,e){t.pmxTimeMsUntilAdMeasured||(t.pmxTimeMsUntilAdMeasured=e.updateTime)}reportViewabilityPassed(t,e){t.pmxTimeMsUntilAdViewed=e,s.u.dispatchEvent(s.DvEvent.reportData,new o.AdCandidateEventData(t))}}e.PMXDisplayViewabilityBL=u},2181:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PMXVideoViewabilityBL=void 0;const n=i(7360),s=i(7749),r=i(3719),o=i(9450),a=i(3380);class u extends r.BaseViewabilityBL{init(){}isSupported(){return 1==s.T.getTagType()}shouldRegisterToExposureEvents(){return!0}isViewabilityConditionPassed(t){let e=a.Utilities.isLargeAd(t.adSize,3e5);return!(!t.percentage||!t.focus)&&(!!(e&&t.percentage>=50)||!e&&t.percentage>=98)}needToCheckViewability(t,e){return null==t.pmxTimeMsUntilAdViewed&&null!=e.percentage&&e.adIsPlaying}shouldReportViewability(t,e,i,n){return i.pmxViewedTime=t?i.pmxViewedTime+e:0,i.pmxViewedTime>=2e3}reportViewabilityMeasured(t,e){t.pmxTimeMsUntilAdMeasured||(t.pmxTimeMsUntilAdMeasured=e.updateTime)}reportViewabilityPassed(t,e){t.pmxTimeMsUntilAdViewed=e,n.u.dispatchEvent(n.DvEvent.reportData,new o.AdCandidateEventData(t))}}e.PMXVideoViewabilityBL=u},458:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.RbViewabilityBL=void 0;const n=i(7360),s=i(9450),r=i(7749),o=i(194),a=i(6751);class u extends a.BaseAdBL{getActionName(){return"RbViewabilityBL"}init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[n.DvEvent.impressionServed]:this.impressionServed.bind(this)}}impressionServed(){o.I.getAllowRBViewability()&&n.u.addEventListener(n.DvEvent.exposureData,this.handleViewabilityData.bind(this))}handleViewabilityData(t){const e=t.adCandidate,i=t.relevantData;(1!=r.T.getTagType()||i.adIsPlaying)&&(e.rBV1PassedMs||this.tryReportViewed(e,i))}tryReportViewed(t,e){e.percentage&&e.focus&&e.percentage>=50&&this.reportViewedImpression(t,e.updateTime)}reportViewedImpression(t,e){t.rBV1PassedMs=e,n.u.dispatchEvent(n.DvEvent.reportData,new s.AdCandidateEventData(t))}}e.RbViewabilityBL=u},3454:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoFullQuartileAudibleBL=void 0;const n=i(7360),s=i(7749),r=i(9450),o=i(6751);class a extends o.BaseAdBL{init(){this.minimalAdAreaPercentageForStandardSize=98}isSupported(){return 1==s.T.getTagType()}getEventsAndCallbacksToRegister(){return{[n.DvEvent.exposureData]:this.handleAudibleData.bind(this),[n.DvEvent.adVideoFirstQuartileData]:this.handleQuartileData.bind(this,1),[n.DvEvent.adVideoMidpointData]:this.handleQuartileData.bind(this,2),[n.DvEvent.adVideoThirdQuartileData]:this.handleQuartileData.bind(this,3),[n.DvEvent.adVideoCompleteData]:this.handleQuartileData.bind(this,4)}}handleAudibleData(t){const e=t.adCandidate,i=t.relevantData;i.adIsPlaying&&(0!=e.isVideoFullQuartileAudible&&this.isCriteriaPassed(i.volume)?e.isVideoFullQuartileAudible=!0:e.isVideoFullQuartileAudible=!1)}handleQuartileData(t,e){const i=e.adCandidate;this.reportViewedImpression(i),i.videoFullQuartileAudibleId=t+1,i.isVideoFullQuartileAudible=null}isCriteriaPassed(t){return null!=t&&-1!=t&&0!=t}reportViewedImpression(t){t.isVideoFullQuartileAudible&&(t.markAdQuartile(8,t.videoFullQuartileAudibleId),n.u.dispatchEvent(n.DvEvent.reportData,new r.AdCandidateEventData(t)))}}e.VideoFullQuartileAudibleBL=a},9603:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoInViewAndAudibleBL=void 0;const n=i(7749),s=i(7360),r=i(6751),o=i(3380);class a extends r.BaseAdBL{init(){}isSupported(){return 1===n.T.getTagType()}getEventsAndCallbacksToRegister(){return{[s.DvEvent.exposureData]:this.handleInViewAndAudibleData.bind(this)}}handleInViewAndAudibleData(t){var e,i;const n=t.adCandidate,s=t.relevantData;if(!s.adIsPlaying)return;const r=s.intervalDuration,o=this.getBucketNumber(s.percentage,s.focus);if(null!=o&&this.isAudible(s.volume)){const t="ivab"+o;n[t]=r+(null!==(e=n[t])&&void 0!==e?e:0)}else n.ivanapt=r+(null!==(i=null==n?void 0:n.ivanapt)&&void 0!==i?i:0)}getBucketNumber(t,e){return o.Utilities.isNullOrEmpty(t)?null:0!=t&&e?Math.floor(t/10)+1:0}isAudible(t){return t>0}}e.VideoInViewAndAudibleBL=a},1354:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoQuartileFullOnScreenBL=void 0;const n=i(7360),s=i(7749),r=i(9450),o=i(6751);class a extends o.BaseAdBL{init(){this.minimalAdAreaPercentageForStandardSize=98}isSupported(){return 1==s.T.getTagType()}getEventsAndCallbacksToRegister(){return{[n.DvEvent.exposureData]:this.handleViewabilityData.bind(this),[n.DvEvent.adVideoFirstQuartileData]:this.handleQuartileData.bind(this,1),[n.DvEvent.adVideoMidpointData]:this.handleQuartileData.bind(this,2),[n.DvEvent.adVideoThirdQuartileData]:this.handleQuartileData.bind(this,3),[n.DvEvent.adVideoCompleteData]:this.handleQuartileData.bind(this,4)}}handleViewabilityData(t){const e=t.adCandidate,i=t.relevantData;i.adIsPlaying&&(0!=e.isVideoFullQuartileViewed&&this.isCriteriaPassed(i)?e.isVideoFullQuartileViewed=!0:e.isVideoFullQuartileViewed=!1)}handleQuartileData(t,e){const i=e.adCandidate;this.reportViewedImpression(i),i.videoFullQuartileViewabilityId=t+1,i.isVideoFullQuartileViewed=null}isCriteriaPassed(t){return!(!t.percentage||!t.focus)&&t.percentage>=this.minimalAdAreaPercentageForStandardSize}reportViewedImpression(t){t.isVideoFullQuartileViewed&&(t.markAdQuartile(16,t.videoFullQuartileViewabilityId),n.u.dispatchEvent(n.DvEvent.reportData,new r.AdCandidateEventData(t)))}}e.VideoQuartileFullOnScreenBL=a},7684:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ViewabilityMeasurementBL=void 0;const n=i(7360),s=i(9450),r=i(3380),o=i(7749),a=i(6751),u=i(4312);class c extends a.BaseAdBL{constructor(t=u.ViewabilityStandardRegistrySingleton){super(),this.registry=t}init(){}getActionName(){return"ViewabilityMeasurementBL"}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[n.DvEvent.impressionServed]:this.scheduleIntervalBasedMeasurement.bind(this)}}scheduleIntervalBasedMeasurement(){this.shouldRegisterToExposureEvents()&&n.u.addEventListener(n.DvEvent.exposureData,this.onViewabilityInterval.bind(this))}onViewabilityInterval(t){var e;const i=t.adCandidate,n=t.relevantData;null===(e=this.registry.getRegisteredStandards())||void 0===e||e.forEach((t=>{const e=this.getMeasurementByStandard(t.standardId,i,t.inEvaluation);if(this.needToCheckViewability(e,n)){this.reportViewabilityMeasured(e,i,n.updateTime,t.onMeasured);const s=null!=t.settings.minimalLargeAdArea&&r.Utilities.isLargeAd(n.adSize,t.settings.minimalLargeAdArea),o=this.getConditions(t.settings,s),a=this.isViewabilityConditionPassed(o,n);this.shouldReportViewability(o,a,e,i,n.intervalDuration)&&this.reportViewabilityPassed(e,i,n.updateTime,t.onPassed)}}))}getMeasurementByStandard(t,e,i=!1){return e.activeViewabilityMeasurements[t]=e.activeViewabilityMeasurements[t]||{standardId:t,inEvaluation:i,timeInView:0,timeUntilMeasured:null,timeUntilPassed:null}}needToCheckViewability(t,e){return!this.isViewabilityAlreadyDetermined(t)&&(!(1===o.T.getTagType()&&!e.adIsPlaying)&&null!=e.percentage)}isViewabilityAlreadyDetermined(t){return!!t.timeUntilPassed}reportViewabilityMeasured(t,e,i,n){t.timeUntilMeasured||(t.timeUntilMeasured=i,n(new s.AdCandidateEventData(e)))}isViewabilityConditionPassed(t,e){return!(t.onFocus&&!e.focus)&&(!(null!=t.adPercentage&&e.percentage<t.adPercentage)&&(1!==o.T.getTagType()||!t.isVolumeRequired||0!=e.volume))}getConditions(t,e){return e?t.largeAd:t.regularAd}shouldRegisterToExposureEvents(){return!0}shouldReportViewability(t,e,i,n,s){const{isConsecutive:r,durationCap:o,durationPercentage:a}=t;if(null==o&&null==a)return e;i.timeInView=e?i.timeInView+s:r?0:i.timeInView;const{videoLength:u}=n,c=o,d=null!=u&&null!=a?u*(a/100):null,l=null!=c&&i.timeInView>=c,h=null!=d&&i.timeInView>=d;return l||h}reportViewabilityPassed(t,e,i,n){t.timeUntilPassed=i,n(new s.AdCandidateEventData(e))}}e.ViewabilityMeasurementBL=c},4312:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ViewabilityStandardRegistrySingleton=e.ViewabilityStandardRegistry=void 0;class i{constructor(){this.registeredStandards={}}register(t){if(this.registeredStandards[t.standardId])throw new Error("Invalid viewability standardId: Already exists");this.registeredStandards[t.standardId]=t}getRegisteredStandards(){return Object.values(this.registeredStandards)}}e.ViewabilityStandardRegistry=i,e.ViewabilityStandardRegistrySingleton=new i},1726:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ViewabilityStartPercentageBL=void 0;const n=i(7360),s=i(9450),r=i(7749),o=i(6751);class a extends o.BaseAdBL{init(){this.visiblePercentage=50}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[n.DvEvent.exposureData]:this.handleViewabilityData.bind(this)}}handleViewabilityData(t){let e=t.adCandidate,i=t.relevantData;(1!=r.T.getTagType()||i.adIsPlaying)&&null==e.startPercentage&&null!=i.percentage&&(e.startPercentage=i.percentage,e.adVisibleOnload=i.percentage>=this.visiblePercentage,n.u.dispatchEvent(n.DvEvent.reportData,new s.AdCandidateEventData(e)))}}e.ViewabilityStartPercentageBL=a},6715:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ViewableShareOfScreenBL=void 0;const n=i(9450),s=i(6751),r=i(7360),o=i(3380),a=i(194),u=i(7749),c=i(3868),d=i(425);class l extends s.BaseAdBL{constructor(){super(...arguments),this.MIN_VAL=0,this.MAX_VAL=100,this.MAX_EVENTS=4,this.MIN_PERCENTAGE_CHANGE=10}init(){}isSupported(){return!0}getEventsAndCallbacksToRegister(){return{[r.DvEvent.impressionServed]:this.handleImpressionServed.bind(this)}}handleImpressionServed(){r.u.addEventsListener({[r.DvEvent.exposureData]:this.handleViewabilityData.bind(this),[r.DvEvent.adVideoCompleteData]:this.handleVideoCompleteOrUnload.bind(this),[r.DvEvent.unloadData]:this.handleVideoCompleteOrUnload.bind(this)})}handleViewabilityData(t){const{viewableShareOfScreenData:e,screenSize:i,viewablePercentage:n,adSize:s,adIsPlaying:r,isInFocus:a,isIabViewed:u}=this.prepareValues(t);if(this.isViewabilityConditionPassed(s,i,r,a,n)){const t=s.height*s.width*n/(i.width*i.height);if(e.sumViewableShareOfScreen+=t,e.viewableIntervalCount=e.viewableIntervalCount+1,u){const t=e.shareOfScreenNotMeasuredReason;e.shareOfScreenNotMeasuredReason=16;const i=o.Utilities.getValBetweenMinAndMax(Math.round(e.sumViewableShareOfScreen/e.viewableIntervalCount),this.MIN_VAL,this.MAX_VAL);e.avgViewableShareOfScreen=i,c.S.isIOS()&&this.isApplicableForInstantIosReport(e,n)?(e.shareOfScreenLastIosReportedPercentage=n,this.report(e)):this.shouldReportFirstTimeViewableShareOfScreenIsMeasured(t)&&this.report(e)}}e.shareOfScreenNotMeasuredReason=this.getValidationReasonBits(i,s,u,e)}shouldReportFirstTimeViewableShareOfScreenIsMeasured(t){return!!t&&16!==t}prepareValues(t){const e=t.relevantData,i=t.adCandidate;i.sumViewableShareOfScreen=i.sumViewableShareOfScreen||0,i.viewableIntervalCount=i.viewableIntervalCount||0;const{screenSize:n,viewablePercentage:s,adSize:r,adIsPlaying:o,isInFocus:a}=this.collectCurrentShareOfScreenData(e,i);return{viewableShareOfScreenData:i,screenSize:n,viewablePercentage:s,adSize:r,adIsPlaying:o,isInFocus:a,isIabViewed:!!i.timeMsUntilAdViewed}}report(t){r.u.dispatchEvent(r.DvEvent.reportData,new n.AdCandidateEventData(t))}calculateMaxEventsNumber(t){return void 0===t?this.MAX_EVENTS:t}isApplicableForInstantIosReport(t,e){t.shareOfScreenEventsLeftToReport=this.calculateMaxEventsNumber(t.shareOfScreenEventsLeftToReport);const i=!t.shareOfScreenLastIosReportedPercentage||t.shareOfScreenEventsLeftToReport>0&&t.shareOfScreenLastIosReportedPercentage!=e&&t.shareOfScreenLastIosReportedPercentage+this.MIN_PERCENTAGE_CHANGE<=100&&Math.abs(t.shareOfScreenLastIosReportedPercentage-e)>=this.MIN_PERCENTAGE_CHANGE;return i&&(t.shareOfScreenEventsLeftToReport=0===t.shareOfScreenEventsLeftToReport?0:t.shareOfScreenEventsLeftToReport-1),i}collectCurrentShareOfScreenData(t,e){const i=o.Utilities.isIabPageInFocus(t);return{screenSize:this.getComparableScreenSize(t,e),viewablePercentage:t.percentage,adSize:t.adSize,adIsPlaying:1!=u.T.getTagType()||t.adIsPlaying,isInFocus:i}}getComparableScreenSize(t,e){e.shareOfScreenReadFromViewport=e.shareOfScreenReadFromViewport||this.isApplicableForViewportMeasurement()&&this.reportReadFromViewport(e);let i=t.screenSize;if(e.shareOfScreenReadFromViewport&&i&&i.width>0&&i.height){const e=d.p.getInnerViewport();e.width>0&&e.height>0&&(i={width:e.width,height:t.screenSize.height*(e.width/t.screenSize.width)})}return i}isApplicableForViewportMeasurement(){if(2===a.I.getDetectedDeliveryType()&&(2==(2&c.S.getScenarioType())||1==(1&c.S.getScenarioType()))){const t=d.p.getMetaTagAttributes(c.S.workingDocument(c.S.windowTop()),"viewport");return!this.isWebPageResponsive(t)}return!1}isWebPageResponsive(t){const e=t.width,i=t["initial-scale"];return!o.Utilities.isEmptyObject(t)&&(1===Number(i)||"device-width"===e)}reportReadFromViewport(t){return t.shareOfScreenReadFromViewportReport=1,!0}handleVideoCompleteOrUnload(t){const e=t.adCandidate;this.report(e)}isViewabilityConditionPassed(t,e,i,n,s){return i&&n&&this.validateScreenAndAdSize(t,e)&&this.isAdPercentageCriteriaPassed(t,s)}validateScreenAndAdSize(t,e){const i=t&&t.width&&t.height,n=e&&e.width&&e.height;return i&&n}getValidationReasonBits(t,e,i,n){let s=16===n.shareOfScreenNotMeasuredReason?16:0;return s||(t&&t.height&&t.width||(s|=4),e&&e.height&&e.width||(s|=2),i||(s|=1)),s}isAdPercentageCriteriaPassed(t,e){return o.Utilities.isLargeAd(t,242500,a.I.isMobile())?e>=30:e>=50}getActionName(){return"ViewableShareOfScreenBL"}}e.ViewableShareOfScreenBL=l},3350:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AdAsset=void 0;e.AdAsset=class{constructor(t,e,i,n,s){this.id=t,this.player=e,this.adDuration=i,this.executeDVClientCallback=s,this.adSkippable=n}}},7349:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdContainerInspector=void 0;const n=i(3380);e.AdContainerInspector=class{constructor(t){this.container=t}getContainer(){var t;return null!==(t=this.container)&&void 0!==t?t:null}getContainerId(){var t;return null===(t=this.container)||void 0===t?void 0:t.id}getDescendants(t=[],e=[]){return n.Utilities.convertToArray(this.getDescendantsAsCollection(t)).filter((t=>!e.includes(t.tagName.toLowerCase())))}getDescendantsAsCollection(t){var e,i;if((null==t?void 0:t.length)>0&&this.getContainerId()){const i=t.join();return null===(e=this.container)||void 0===e?void 0:e.querySelectorAll(`#${this.getContainerId()} ${i}`)}return null===(i=this.container)||void 0===i?void 0:i.getElementsByTagName("*")}getDirectChildren(t=[],e=[]){return n.Utilities.convertToArray(this.getDirectChildrenAsCollection(t)).filter((t=>!e.includes(t.tagName.toLowerCase())))}getDirectChildrenAsCollection(t){var e;if((null==t?void 0:t.length)>0&&this.getContainerId()){const e=t.join();return this.container.querySelectorAll(`#${this.getContainerId()} > ${e}`)}return null===(e=this.container)||void 0===e?void 0:e.children}getMostPopularDirectChildElement(t=[]){const e=this.createDirectChildrenTable(t);return n.Utilities.getKeyWithHighestValue(e)}createDirectChildrenTable(t=[]){const e=this.getDirectChildren([],t).map((t=>t.tagName.toLowerCase()));return n.Utilities.countBy(e)}}},5670:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdContainerInspectorFactory=void 0;const n=i(7349),s=i(425);e.AdContainerInspectorFactory=class{constructor(t){this.containerId=t}createAdContainerInspector(){return new n.AdContainerInspector(this.getContainer())}getContainer(){return this.containerId?s.p.getElementById(this.containerId):null}}},2196:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DvBackwardCompatibilityClass=void 0;const n=i(749),s=i(425),r=i(3380),o=i(6681),a=i(7360),u=i(3868),c=i(3946);e.DvBackwardCompatibilityClass=class{constructor(){this.dvObjType="dv",this.messages={registerMsg(t,e){n.v.sendMessage(e)},startSendingEvents(t,e){}},this.domUtilities={outer:this,addImage(t,e,i,n){let o=r.Utilities.getParamValue(t,"impid");if(null!=o&&this.outer.tags&&this.outer.tags[o]&&"object"==typeof this.outer.tags[o].eventIdGenerator&&"function"==typeof this.outer.tags[o].eventIdGenerator.getNext){t+="&eoid="+this.outer.tags[o].eventIdGenerator.getNext()}s.p.sendBeacon(t,i)},addScriptResource(t,e){s.p.addScriptAsync(t,e)}},this.pubSub=a.Tt,this.CommonData={Scenario:u.S.getScenarioType(),BrowserId:c.BrowserDetector.getBrowserId(),BrowserIdFromUserAgent:c.BrowserDetector.getBrowserIdUserAgent(),BrowserVersion:c.BrowserDetector.getBrowserVersion()},this.tags={},this.sendBeacon=()=>{}}resolveMacros(t,e){return r.Utilities.resolveMacros(t,e)}registerEventCall(t,e,i,s){e.tagsrv=1,n.v.registerEventCall(t,e,s,i)}createEventCallUrl(t,e,i=!1){return n.v.createEventCallUrl(t,Object.assign(Object.assign({},e),{tagsrv:1}),i)}getWorkingWindow(){return u.S.workingWindow()}getMraid(){return o.MraidWrapper.getMraid()}}},5999:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BeaconsAdaptor=void 0;const n=i(3868),s=i(425);e.BeaconsAdaptor=new class{positionBeacons(t,e,i){const r=n.S.getDefaultWindow(t).document,o=n.S.workingBody(r),a=s.p.getScrollData(o).left,u=s.p.getScrollData(o).top,{width:c,height:d,left:l,top:h}=s.p.getBoundingClientRect(t),v=c/2.414213562373095,p=d/2.414213562373095,f=c/1.4142135623730951,g=d/1.4142135623730951;for(let t=0;t<e.length;t++){const n=Math.round(5*Math.random()),s=e[t];switch(s.left=l+a,s.top=h+u,t){case 0:s.left=-1e5,s.top=-1e5;break;case 1:s.left+=n,s.top+=n;break;case 2:s.left+=c-i-n,s.top+=n;break;case 3:s.left+=n,s.top+=d-i-n;break;case 4:s.left+=c-i-n,s.top+=d-i-n;break;case 5:s.left+=c/2+n,s.top+=d/2+n;break;case 6:s.left+=(c-f)/2+n,s.top+=(d-g)/2+n;break;case 7:s.left+=(c-f)/2+f,s.top+=(d-g)/2;break;case 8:s.left+=(c-f)/2,s.top+=(d-g)/2+g+n;break;case 9:s.left+=(c-f)/2+f-n,s.top+=(d-g)/2+g-n;break;case 10:s.left+=(c-v)/2+n,s.top+=(d-p)/2+n;break;case 11:s.left+=(c-v)/2+v-n,s.top+=(d-p)/2+n;break;case 12:s.left+=(c-v)/2+n,s.top+=(d-p)/2+p-n;break;case 13:s.left+=(c-v)/2+v-n,s.top+=(d-p)/2+p-n}t>=5&&(s.left-=i/2,s.top-=i/2),s.style.left=s.left+"px",s.style.top=s.top+"px"}}getElementVisiblePercentageWithBeacons(t,e){let i=0,n=0,s=0,r=0;for(let o=1;o<t.length;o++){if(e(t[o]))switch(o){case 5:r++;break;case 1:case 2:case 3:case 4:i++;break;case 6:case 7:case 8:case 9:n++;break;case 10:case 11:case 12:case 13:s++}}return r||2!=i||2!=s?r?4==i?100:i>=2||4==n||4==s&&i>=1?50:4==s&&n>=1?30:0:0:30}}},6875:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.getWorkingWindow=e.getCurrentWindow=e.getTagUniqueKey=void 0;const n=i(3380);dvWindow="undefined"!=typeof window&&window||dvWindow;let s="";function r(){return("undefined"!=typeof $dv&&$dv||{}).isDomlessEnvironment?{}:dvWindow}e.getTagUniqueKey=function(){if(""===s){const t="undefined"!=typeof $dv&&$dv||{};if(!t.hasOwnProperty("tagData"))throw new Error("dv object missing tagData property");if(!t.tagData||"object"!=typeof t.tagData)throw new Error("tagData is not an object");const e=Object.keys(t.tagData).filter((e=>t.tagData[e].hasOwnProperty("tagScriptElem")&&"0"==t.tagData[e].flvr&&!t.tagData[e].isVisited));if(!e.length)throw new Error("all tags data visited");const i=n.Utilities.getVersion(),r=e.filter((e=>t.tagData[e].dvtpScriptVersion===i&&"0"==t.tagData[e].flvr));s=r.length?r[0]:e[0],t.tagData[s].isVisited=!0}return s},e.getCurrentWindow=r,e.getWorkingWindow=function(){const t="undefined"!=typeof $dv&&$dv||{},e=r();let i=e;try{i=t.restrictedAccess?e:e.parent}catch(t){i=e}return i}},425:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.p=e.At=void 0;const n=i(6262),s=i(3946),r=i(2756),o=i(1532),a=i(712),u=i(870),c=i(6820),d=i(363),l=i(3380),h=i(2478),v=i(3868);class p{constructor(){this.visibilityPropertyPrefixes={hidden:"",webkitHidden:"webkit",mozHidden:"moz",msHidden:"ms"},this.isSameOriginIframe=t=>{var e;try{return null!=((null===(e=t.contentWindow)||void 0===e?void 0:e.document)||t.contentDocument)}catch(t){return!1}},this.updateVisibilityProperties(),this.createPrerenderedImages()}sendBeaconIsSupported(){return v.S.getNavigator()&&!!v.S.getNavigator().sendBeacon&&s.BrowserDetector.getBrowserId()!=a.Browser.Safari&&s.BrowserDetector.getBrowserId()!=a.Browser.SafariWebView}createPrerenderedImages(){this.prerenderedImages=[],this.sendBeaconSupported=this.sendBeaconIsSupported(),this.sendBeaconSupported||l.Utilities.times(20,(()=>this.prerenderedImages.push(new Image)))}getVisibilityProperty(){for(let t of Object.keys(this.visibilityPropertyPrefixes))if(null!=v.S.workingDocument()[t])return t}updateVisibilityProperties(){this.visibilityProperty=this.getVisibilityProperty(),this.visibilityPrefix=this.visibilityPropertyPrefixes[this.visibilityProperty]}getVisibilityPrefix(){return this.visibilityPrefix}isVisibilityChangeEventSupported(){return!!this.visibilityProperty}hasFocus(){return!(this.isVisibilityChangeEventSupported()&&!u.omidAdapter.isSupported())||!v.S.workingDocument()[this.visibilityProperty]}isStrictFocusSupported(){return v.S.documentTop()&&v.S.documentTop().hasFocus&&!u.omidAdapter.isSupported()}hasStrictFocus(){try{return!this.isStrictFocusSupported()||v.S.documentTop().hasFocus()}catch(t){return!0}}addEventListener(t,e,i,s=!1){return!(!t||!e)&&((null==i?void 0:i.addEventListener)?n.Janus.addEventListener(i,t,e,s):i["on"+t]=n.Janus.wrapFunction(e),!(null==i))}removeEventListener(t,e,i,s=!1){t&&e&&(null==i?void 0:i.removeEventListener)&&n.Janus.removeEventListener(i,t,e,s)}setTimeout(t,e){return n.Janus.setTimeout(v.S.currentWindow(),h.default.runSafelyWhenInvoked(t,a.ClientErrorType.AsynchronousTaskError),e)}clearTimeout(t){v.S.currentWindow().clearTimeout(t)}setInterval(t,e){return n.Janus.setInterval(v.S.currentWindow(),h.default.runSafelyWhenInvoked(t,a.ClientErrorType.AsynchronousTaskError),e)}clearInterval(t){v.S.currentWindow().clearInterval(t)}getPerformanceTimeNow(){return null==this.timeFunction&&((0,c.isPerformanceApiSupported)()?this.timeFunction=()=>v.S.currentWindow().performance.now():this.timeFunction=()=>Date.now()),this.timeFunction()}isBrowserSupported(){let t,e=[];return t="function"==typeof e.filter&&"function"==typeof e.forEach,t}getAttribute(t,e){let i;if(t&&e)try{i=t[e]||t.getAttribute(e)}catch(t){}return i}hasAttributeValueInclude(t,e){var i,n;const s=null!==(n=null===(i=null==t?void 0:t.attributes)||void 0===i?void 0:i.length)&&void 0!==n?n:0;for(let i=0;i<s;i++){if(t.attributes[i].value.includes(e))return!0}return!1}setElementStyle(t,e,i){try{t.style.setProperty(e,i)}catch(t){}}getElementsByTagNameFromDocument(t,e=v.S.workingDocument()){let i=[];if(e&&t&&e.getElementsByTagName){let n=e.getElementsByTagName(t);n&&(i=l.Utilities.arrayLikeToArray(n))}return i}getElementsByClassName(t,e=v.S.workingDocument()){let i=[];if(e&&t){let n;e.getElementsByClassName?n=e.getElementsByClassName(t):e.querySelectorAll&&(n=e.querySelectorAll("."+t)),n&&(i=l.Utilities.arrayLikeToArray(n))}return i}querySelector(t,e=v.S.workingDocument()){try{return e.querySelector(t)}catch(t){}}createImage(){return new Image}createElement(t,e=v.S.workingDocument()){if(t)return e.createElement(t)}insertBefore(t,e,i){return t&&t.insertBefore(e,i)}registerScriptEvent(t,e,i){this.addEventListener("error",e&&e.bind(null),t),this.addEventListener("load",i&&i.bind(null),t)}addScriptAsync(t,e,i,n,s){e=e||v.S.workingBody()||v.S.workingDocument().head||v.S.workingDocumentElement();const r=this.createElement("script",e.ownerDocument);r.type="text/javascript",r.src=t,this.registerScriptEvent(r,n,s),i&&(r.id=i),this.insertBefore(e,r,e.firstChild)}addScriptSync(t,e){e.write('<script type="text/javascript" src="'+t+'"><\/script>')}isFetchJSONAPISupported(){return"function"==typeof fetch}async fetchJSON(t){if(!this.isFetchJSONAPISupported())throw new Error("VisitJSON: window.fetch is not supported");const e=await fetch(t);if(200!==e.status)throw new Error(`VisitJSON: unexpected ${e.status} status code`);return e.json()}createIframe(t){const e=this.createElement("iframe");return e.name=e.id="iframe_"+d.RandomUtils.getRandom16(),e.width="0",e.height="0",e.style.display="none",e.src=t,e}addIframeAfterBodyTag(t,e=150){v.S.workingDocument()&&v.S.workingBody()?this.insertBefore(v.S.workingBody(),t,v.S.workingBody().firstChild):this.setTimeout((()=>this.addIframeAfterBodyTag(t,--e)),20)}getElementById(t,e=v.S.workingDocument()){if(t)return e.getElementById(t)}querySelectorAll(t,e){try{return t.querySelectorAll(e)}catch(t){}}getElementsByTagNameFromDomElement(t,e){if(t&&e&&t.getElementsByTagName){let i=t.getElementsByTagName(e);if(i)return l.Utilities.arrayLikeToArray(i)}return[]}getElementType(t){if(t)return t.nodeName.toLowerCase()}getBoundingClientRect(t){let e={left:0,right:0,top:0,bottom:0,width:0,height:0};return t&&t.getBoundingClientRect&&(e=t.getBoundingClientRect()),e}getObjectSize(t){let e={width:0,height:0};if("object"==this.getElementType(t)){let i=this.getAttribute(t,"height"),n=this.getAttribute(t,"width");l.Utilities.isNullOrEmpty(n)&&l.Utilities.isNullOrEmpty(i)||(n=t.clientWidth,i=t.clientHeight);try{e.height=Number(i),e.width=Number(n)}catch(t){}}return e}getSiblingsNodes(t){let e=[],i=null;for(t&&t.parentNode&&(i=t.parentNode.firstChild);i;)1===i.nodeType&&i!==t&&e.push(i),i=i.nextElementSibling||i.nextSibling;return e}getElementChildren(t){let e=[];if(t.hasChildNodes())for(let i=0;i<t.childNodes.length;i++)t.childNodes[i]&&t.childNodes[i].nodeType===Node.ELEMENT_NODE&&e.push(t.childNodes[i]);return e}getNestedDocuments(t,e){return this.getNestedSameOriginIframes(t,e).map((t=>{var e;return null===(e=null==t?void 0:t.contentDocument)||void 0===e?void 0:e.documentElement})).filter((t=>null!=t))}getNestedSameOriginIframes(t,e){const i=[],n=(s,r)=>{var a;if(r>=e)return;let u;u=(0,o.isHTMLIFrameElement)(t)?[t]:this.getElementsByTagNameFromDomElement(s,"iframe");for(let t=0;t<u.length;t++){const e=u[t];try{this.isSameOriginIframe(e)&&(i.push(e),n(null===(a=e.contentDocument)||void 0===a?void 0:a.documentElement,r+1))}catch(t){}}};return n(t,0),i}getAvailableScreenSize(t=!0){let e=t?0:null,i=t?0:null;const n=v.S.workingWindow()&&v.S.workingWindow().screen;return n&&(e=n.availHeight,i=n.availWidth),{height:e,width:i}}getScreenSize(){let t=0,e=0;try{const i=v.S.workingWindow()&&v.S.workingWindow().screen;i&&(t=i.height,e=i.width)}catch(t){}return{height:t,width:e}}getDevicePixelRatio(){let t;try{t=v.S.workingWindow().devicePixelRatio}catch(t){}return t}getInnerViewport(t=!0){let e=t?0:null,i=t?0:null;try{const t=v.S.windowTop(),n=v.S.workingWindow();t?(e=t.innerHeight,i=t.innerWidth):n&&(e=n.innerHeight,i=n.innerWidth)}catch(t){}return{height:e,width:i}}getOuterViewport(t=v.S.workingWindow(),e=!0){let i=e?0:null,n=e?0:null;try{t&&(i=t.outerHeight,n=t.outerWidth)}catch(t){}return{height:i,width:n}}getViewportAssetsRelativeToScreen(t){let e=0,i=0;try{t&&(e=t.screenY,i=t.screenX)}catch(t){}return{top:e,left:i}}getIframeAssetsRelativeToScreen(t=v.S.workingWindow()){let e=0,i=0;try{t&&(e=t.mozInnerScreenY||t.screenTop,i=t.mozInnerScreenX||t.screenLeft)}catch(t){}return{top:e,left:i}}getScrollData(t=v.S.workingBody()){let e=0,i=0;return t&&(e=t.scrollLeft,i=t.scrollTop),{left:i,top:e}}smartInstanceof(t,e,i){try{return t instanceof i[e]||i.parent!=i&&this.smartInstanceof(t,e,i.parent)}catch(t){return!1}}getNavigationStartTime(){let t=v.S.workingWindow();if(t.performance&&t.performance.timing)return v.S.workingWindow().performance.timing.navigationStart}getElementSize(t){let e={width:0,height:0};try{if("object"!=this.getElementType(t)){let i=this.getBoundingClientRect(t);e.height=i.height,e.width=i.width}else e=this.getObjectSize(t)}catch(t){}return e}getElementStaticSize(t){return{width:t.innerWidth||t.clientWidth,height:t.innerHeight||t.clientHeight}}sendBeacon(t,e=!1){if(u.omidAdapter.isSupported())u.omidAdapter.sendUrl(t);else if(!e&&this.sendBeaconSupported)v.S.getNavigator().sendBeacon(t);else if("object"==typeof window&&"function"==typeof(null===window||void 0===window?void 0:window.fetch))fetch(t,{method:"GET",keepalive:!0,mode:"no-cors"}).catch((t=>{0}));else{let e;e=this.prerenderedImages&&this.prerenderedImages.length?this.prerenderedImages.pop():this.createImage(),e.src=t}l.Utilities.logDvSignal(t)}isElementAttachedToDocument(t){try{return"IFRAME"==t.nodeName?!!v.S.getIframeWindow(t):v.S.workingDocument().contains(t)}catch(t){}}getParentNode(t){return t&&t.parentNode}convertOrientationType(t){switch(null==t?void 0:t.toString()){case"landscape-primary":case"landscape-secondary":return 2;case"portrait-primary":case"portrait-secondary":return 1;default:return 0}}getScreenOrientationType(){var t;const e=null===(t=this.getScreenOrientation())||void 0===t?void 0:t.type;return this.convertOrientationType(e)}getScreenOrientation(){var t,e;return null===(e=null===(t=v.S.currentWindow())||void 0===t?void 0:t.screen)||void 0===e?void 0:e.orientation}isAdElementHidden(t){let e=t.ownerDocument?t.ownerDocument.defaultView||t.ownerDocument.parentWindow:null;if(e)return this.getAdElementHiddenStatus(t,e)}getAdElementHiddenStatus(t,e){let i;try{if(!v.S.isTop(e)){if(!e.frameElement)return;t=e.frameElement,e=v.S.getWindowParent(e)}}catch(t){}let n=0;const s=l.Utilities.getCurrentTime();let r,o,a=l.Utilities.getElementOffsetFromScreen(t),u=a.left,c=a.top;try{r=getComputedStyle(t)}catch(e){r=t.style}if(t.getBoundingClientRect){let e=t.getBoundingClientRect();o=[u+e.width/2,c+e.height/2]}else o=[u+parseInt(r.width)/2,c+parseInt(r.height)/2];try{"none"===r.display&&(n|=4),i=e.document.body.querySelectorAll("*");let s=!1;for([].forEach.call(i,(function(e){if(s&&e!==t&&!e.contains(t)&&!t.contains(e))try{let t=e.getBoundingClientRect(),i=l.Utilities.getElementOffsetFromScreen(e);i.left+t.width>=o[0]&&i.left<=o[0]&&i.top<=o[1]&&i.top+t.height>=o[1]&&(n|=1)}catch(t){}e===t&&(s=!0)}));t;){try{r=getComputedStyle(t)}catch(e){r=t.style}r&&"none"===r.display&&(n|=4),r&&("hidden"===r.visibility||""!==r.opacity&&r.opacity<.8)&&(n|=2);try{if(t.getBoundingClientRect){let e=t.getBoundingClientRect();e.width*e.height<100&&(n|=8)}}catch(t){}t=t.document&&t==t.document.body?t.window.frameElement?t.window.frameElement:null:t.parentElement}}catch(t){n=-1}return n<0?n=-1e3*(l.Utilities.getCurrentTime()-s):n+=1e3*(l.Utilities.getCurrentTime()-s),n}getMetaTagAttributes(t,e){let i={};if(t)for(let n of l.Utilities.arrayLikeToArray(t.getElementsByTagName("meta")))if(n.getAttribute("name")===e&&n.getAttribute("content")){n.getAttribute("content").split(",").forEach((t=>{const e=t.split("=");e.length>1&&(i[e[0].trim()]=e[1].trim())}));break}return i}}e.At=p,e.p=v.S.isDomlessEnvironment()?new r.BrowserOmidAdaptorClass:new p},3946:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserDetector=e.BrowserDetectorClass=void 0;const n=i(712),s=i(3868),r=i(7749);class o{constructor(){this.browsersList=[{id:n.Browser.Selenium,browserDetectionRuleType:2,propertiesRuleFunc:()=>s.S.workingDocumentElement().hasAttribute("webdriver")||s.S.workingDocumentElement().hasAttribute("fxdriver")||s.S.workingDocumentElement().hasAttribute("__webdriver_unwrapped")||s.S.workingDocumentElement().hasAttribute("__webdriver_script_fn")||s.S.workingDocumentElement().hasAttribute("__webdriver_evaluate")||s.S.workingDocumentElement().hasAttribute("__fxdriver_evaluate")||s.S.workingDocumentElement().hasAttribute("__fxdriver_unwrapped")||s.S.workingDocumentElement().hasAttribute("__fxdriver_script_fn")||this.workingWindow.webdriver||this.workingWindow.domAutomation||this.workingWindow.domAutomationController||this.workingWindow._WEBDRIVER_ELEM_CACHE||this.hasSeleniumProps()},{id:n.Browser.PhantomJS,browserDetectionRuleType:2,propertiesRuleFunc:()=>this.workingWindow._phantom||this.workingWindow.callPhantom||this.workingWindow.phantom||this.workingWindow.__nightmare},{id:n.Browser.PuppeteerVanilla,browserDetectionRuleType:2,propertiesRuleFunc:()=>{var t;return null===(t=this.workingWindow.navigator)||void 0===t?void 0:t.webdriver}},{id:n.Browser.PuppeteerExtraStealth,browserDetectionRuleType:2,propertiesRuleFunc:()=>this.getIsExtraStealthBrowser()},{id:n.Browser.ChromeWebView,browserDetectionRuleType:1,userAgentRegex:"(?:wv(.*?))version/[0-9]+(?:.[0-9]+)* chrome/[0-9]+(?:.[0-9]+)* mobile|version/[0-9]+(?:.[0-9]+)* chrome/[0-9]+(?:.[0-9]+)* mobile|(?:wv(.*?))version\\/[0-9]+(?:.[0-9]+)* chrome\\/[0-9]+(?:.[0-9]+)*",versionRegex:"chrome/"},{id:n.Browser.SafariWebView,browserDetectionRuleType:3,userAgentRegex:"(?=.*(iphone|ipod|ipad))(?=^(?:(?!safari).)*$).*$",propertiesRuleFunc:()=>!this.workingWindow.navigator.standalone},{id:n.Browser.IE,browserDetectionRuleType:1,userAgentRegex:"msie|trident/7.*rv:11|rv:11.*trident/7|edge/|edg/",versionRegex:"(msie |rv:| edge/|edg/)"},{id:n.Browser.Firefox,browserDetectionRuleType:2,userAgentRegex:"firefox",versionRegex:"firefox/",propertiesRuleFunc:()=>"number"==typeof this.workingWindow.mozInnerScreenY&&"number"==typeof this.workingWindow.mozPaintCount&&this.workingWindow.InstallTrigger&&this.workingWindow.InstallTrigger.install},{id:n.Browser.Opera,browserDetectionRuleType:1,userAgentRegex:"opr|opera",versionRegex:"(opr/|version/)"},{id:n.Browser.Chrome,browserDetectionRuleType:2,userAgentRegex:"chrome",versionRegex:"chrome/",propertiesRuleFunc:()=>this.workingWindow.chrome&&"function"==typeof this.workingWindow.chrome.csi&&"function"==typeof this.workingWindow.chrome.loadTimes&&"boolean"==typeof this.workingDocument.webkitHidden},{id:n.Browser.Chrome,browserDetectionRuleType:1,userAgentRegex:"crios",versionRegex:"crios/"},{id:n.Browser.Safari,browserDetectionRuleType:2,userAgentRegex:"safari|(os |os x )[0-9].*applewebkit",versionRegex:"version/",propertiesRuleFunc:()=>{let t=s.S.workingDocument()&&s.S.workingDocument().createElement&&s.S.workingDocument().createElement("p");if(t)return t.innerText=".",t.setAttribute("style","color:red; border: 1px solid blue;"),(Object.prototype.toString.call(this.workingWindow.HTMLElement).indexOf("Constructor")>0||this.workingWindow.webkitAudioPannerNode&&this.workingWindow.webkitConvertPointFromNodeToPage)&&null!=this.workingWindow.innerWidth&&null!=this.workingWindow.innerHeight&&null!=t.style.textShadow}},{id:n.Browser.Unknown,browserDetectionRuleType:1,userAgentRegex:"mozilla.*android.*applewebkit(?!.*chrome.*)|linux.*android.*applewebkit.* version/.*chrome"},{id:n.Browser.Unknown,browserDetectionRuleType:1,userAgentRegex:"aol/.*aolbuild/|aolbuild/.*aol/|puffin|maxthon|valve|silk|playstation|playstation|nintendo|wosbrowser"}],s.S.isDomlessEnvironment()||(this.workingWindow=s.S.workingWindow(),this.workingDocument=s.S.workingDocument(),this.currentUserAgent=((null===r.T||void 0===r.T?void 0:r.T.getUserAgent())||s.S.getUserAgent()||"").toLowerCase(),this.browserData=this.determineBrowserType())}getBrowserId(){return this.browserData&&this.browserData.browserId}getBrowserVersion(){return this.browserData&&this.browserData.browserVersion}getBrowserIdUserAgent(){return this.browserData&&this.browserData.browserIdUserAgent}determineBrowserType(){let t,e,i;for(let i of this.browsersList){switch(i.browserDetectionRuleType){case 3:this.validateBrowserTypeByUserAgent(i)&&this.validateBrowserTypeByPropertiesRule(i)&&(t=e=i);break;case 1:this.validateBrowserTypeByUserAgent(i)&&(t=e=i);break;case 2:!t&&i.userAgentRegex&&this.validateBrowserTypeByUserAgent(i)&&(t=i),!e&&this.validateBrowserTypeByPropertiesRule(i)&&(e=i)}if(t&&e)break}return t==e&&t&&t.versionRegex&&(i=this.determineBrowserVersion(t.versionRegex)),{browserId:e&&e.id,browserVersion:i||"",browserIdUserAgent:t&&t.id}}validateBrowserTypeByUserAgent(t){return new RegExp(t.userAgentRegex).test(this.currentUserAgent)}validateBrowserTypeByPropertiesRule(t){return t.propertiesRuleFunc()}getIsExtraStealthBrowser(){let t=!1;try{const e=String.fromCharCode(26*Math.random()+97),i=e+Math.random().toString(36).slice(-7),n=this.workingDocument.createElement("iframe");n.srcdoc=i;const s=!!n.contentWindow,r="ontouchstart"in this.workingWindow;t=s&&!r}catch(t){}return t}hasSeleniumProps(){try{const t=["Array","Object","Promise","Proxy","Symbol","JSON"],e=["$wdc_","$cdc_","cdc_","wdc_"];for(const i in this.workingWindow){let n=!1;for(let t=0;t<e.length;t++)if(i.startsWith(e[t])){n=!0;break}if(n)for(let e=0;e<t.length;e++)if(i.endsWith(t[e]))return!0}}catch(t){}return!1}determineBrowserVersion(t){const e=new RegExp(t+"[0-9]+(?:.[0-9]+)*"),i=this.currentUserAgent.match(e);if(i)return i[0].replace(this.currentUserAgent.match(new RegExp(t))[0],"")}}e.BrowserDetectorClass=o,e.BrowserDetector=new o},2756:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserOmidAdaptorClass=void 0;const n=i(870),s=i(2478),r=i(712);e.BrowserOmidAdaptorClass=class{updateVisibilityProperties(){}getDevicePixelRatio(){}getVisibilityPrefix(){return""}isVisibilityChangeEventSupported(){return!1}hasFocus(){return!0}hasStrictFocus(){return!0}addEventListener(t,e,i,s=!1){return n.omidAdapter.addEventListener(t,e),!(!t||!e)}removeEventListener(t,e,i,n=!1){}setTimeout(t,e){return n.omidAdapter.setTimeout(s.default.runSafelyWhenInvoked(t,r.ClientErrorType.AsynchronousTaskError),e)}clearTimeout(t){n.omidAdapter.clearTimeout(t)}setInterval(t,e){return n.omidAdapter.setInterval(s.default.runSafelyWhenInvoked(t,r.ClientErrorType.AsynchronousTaskError),e)}clearInterval(t){n.omidAdapter.clearInterval(t)}getPerformanceTimeNow(){return Date.now()}isBrowserSupported(){let t,e=[];return t="function"==typeof e.filter&&"function"==typeof e.forEach,t}getAttribute(t,e){}hasAttributeValueInclude(t,e){return!1}setElementStyle(t,e,i){}getElementsByTagNameFromDocument(t,e){return[]}querySelectorAll(t,e){return[]}getElementsByClassName(t,e){return[]}querySelector(t,e){}createElement(t,e){throw new Error("createElement failed")}getElementById(t,e){}getElementsByTagNameFromDomElement(t,e){return[]}getElementType(t){}getBoundingClientRect(t){return{left:0,right:0,top:0,bottom:0,width:0,height:0}}getObjectSize(t){return{width:0,height:0}}getSiblingsNodes(t){return[]}getElementChildren(t){return[]}getAvailableScreenSize(t=!0){return{height:0,width:0}}getScreenSize(){return{height:0,width:0}}getInnerViewport(t=!0){return{height:0,width:0}}getOuterViewport(t,e=!0){return{height:0,width:0}}getViewportAssetsRelativeToScreen(t){return{top:0,left:0}}getIframeAssetsRelativeToScreen(t){return{top:0,left:0}}getScrollData(t){return{left:0,top:0}}smartInstanceof(t,e,i){return!1}getNavigationStartTime(){}getElementSize(t){return{width:0,height:0}}getElementStaticSize(t){return{width:0,height:0}}sendBeacon(t,e){n.omidAdapter.sendUrl(t)}insertBefore(t,e,i){}isStrictFocusSupported(){return!1}addScriptAsync(t,e,i,s,r){n.omidAdapter.injectJavaScriptResource(t,r&&r.bind(null),s&&s.bind(null))}addScriptSync(t,e){n.omidAdapter.injectJavaScriptResource(t)}isFetchJSONAPISupported(){return"object"==typeof omidNative&&"function"==typeof omidNative.downloadJavaScriptResource}async fetchJSON(t){return new Promise(((e,i)=>{if(!this.isFetchJSONAPISupported())return void i(new Error("VisitJSON: omidNative.downloadJavaScriptResource is not supported"));const n=t=>i(new Error(`VisitJSON: ${t}`));omidNative.downloadJavaScriptResource(t,(t=>{if("string"!=typeof t)n("Response content type is "+typeof t);else try{const i=JSON.parse(t);e(i)}catch(t){n("Failed to parse response")}}),(()=>{n("Failed to download")}))}))}createIframe(t){throw new Error("createIframe failed")}addIframeAfterBodyTag(t){throw new Error("addIframeAfterBodyTag failed")}isElementAttachedToDocument(t){return!0}getParentNode(t){}getScreenOrientation(){}getScreenOrientationType(){}isAdElementHidden(t){return 0}getMetaTagAttributes(t,e){return{}}getNestedSameOriginIframes(t,e){return[]}getNestedDocuments(t,e){return[]}}},7015:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Cm360AdContainerInspectorFactory=void 0;const n=i(7749),s=i(5670);class r extends s.AdContainerInspectorFactory{constructor(t){super(r.getContainerId(t))}static getContainerId(t){return t?n.T.getValueOfTagAttribute(t):null}}e.Cm360AdContainerInspectorFactory=r},8379:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.omidCreativeTypeMapping=e.omidImpressionTypeMapping=e.NOT_FOUND_OR_ERROR=e.OmidGeometryReasonLog=e.OmidEvents=e.dvIframeAttribute=e.CallbackPrefix=void 0;const n=i(630);e.CallbackPrefix="dvCallback_",e.dvIframeAttribute="data-dv-frm",e.OmidEvents={sessionStart:1,sessionError:2,sessionFinish:4,impression:8,geometryChange:16,loaded:32,start:64,firstQuartile:128,midpoint:256,thirdQuartile:512,complete:1024,pause:2048,resume:4096,bufferStart:8192,skipped:16384,volumeChange:32768,playerStateChange:65536,adUserInteraction:1<<17},e.OmidGeometryReasonLog={notFound:1,hidden:2,backgrounded:4,obstructed:8,clipped:16,noOutputDevice:32},e.NOT_FOUND_OR_ERROR=-1,e.omidImpressionTypeMapping={[n.OmidImpressionType.UNKNOWN]:0,[n.OmidImpressionType.UNSPECIFIED]:1,[n.OmidImpressionType.LOADED]:2,[n.OmidImpressionType.BEGIN_TO_RENDER]:3,[n.OmidImpressionType.ONE_PIXEL]:4,[n.OmidImpressionType.VIEWABLE]:5,[n.OmidImpressionType.AUDIBLE]:6,[n.OmidImpressionType.OTHER]:7},e.omidCreativeTypeMapping={[n.OmidCreativeType.UNKNOWN]:0,[n.OmidCreativeType.NATIVE_DISPLAY]:1,[n.OmidCreativeType.HTML_DISPLAY]:2,[n.OmidCreativeType.VIDEO]:3,[n.OmidCreativeType.AUDIO]:4}},1532:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.isHTMLIFrameElement=void 0;e.isHTMLIFrameElement=t=>"IFRAME"===(null==t?void 0:t.tagName)},8962:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.dvDefineProperty=e.getTagUniqueKeyFromVisitScriptElement=void 0;const n=i(194),s=i(3868),r=i(7749);function o(){let t="";if(!s.S.isDomlessEnvironment()){const e=s.S.getCurrentScript();e&&e.id&&e.src&&e.src.indexOf(r.T.getInitJsPath())>-1&&([,t]=e.id.split("_"))}return t}function a(t,e){t.dvDefinedProps||(t.dvDefinedProps={}),t.dvDefinedProps[e]||(t.dvDefinedProps[e]=!0,Object.defineProperty(t,e,{set(t){this.value=t},get(){let t=o();if(t){const i=n.I.It().tagData[t];return i&&i[e]}}}))}if(e.getTagUniqueKeyFromVisitScriptElement=o,e.dvDefineProperty=a,n.I.isRestrictedAccess()&&s.S.getCurrentScript()){const t=s.S.currentWindow();["$frmId","$uid"].forEach((e=>a(t,e)))}},194:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.I=e.Ct=void 0;const n=i(6875),s=i(6142),r=i(3380);class o{constructor(){this.tagExtensionActivated=!1}setDvGetOmidVerificationClient(t){this.dvGetOmidVerificationClient=t}getDvGetOmidVerificationClient(){return this.dvGetOmidVerificationClient}It(){if("undefined"!=typeof $dv)return $dv;const t=(0,n.getCurrentWindow)();if(t&&t.$dv)return t.$dv;const e=(0,n.getWorkingWindow)();return e&&e.$dv?e.$dv:{}}getTagUniqueKey(){return(0,n.getTagUniqueKey)()}getTagCounter(){return this.It().tagsCounter}getIsWhitelistedDomain(){return this.getTagData().authorizedDomain}getSharedUniqueKey(){return this.It().sharedUniqueKey}getTagScriptElem(){return this.getTagData().tagScriptElem}hasTagData(){return!!this.It().tagData}getTagData(){const t=this.It(),e=this.getTagUniqueKey(),i=t.tagData[e];if(!i)throw new Error(`tagData not found for tuk = ${e}`);return i}getTagParams(){return this.getTagData().tagParams}getDvtpScriptVersion(){return this.getTagData().dvtpScriptVersion}getIsBlockingEnabled(){var t;return"0"!==(null===(t=this.getTagParams())||void 0===t?void 0:t.blk)}getTagHasVendorKey(){var t;return!!(null===(t=this.getTagParams())||void 0===t?void 0:t.vendor_key)}isRestrictedAccess(){return!!this.It().restrictedAccess}getScriptInjectionMode(){var t;return this.hasTagData()&&null!==(t=this.getTagData().scriptInjectionMode)&&void 0!==t?t:"unknown"}isOmidForWeb(){return!!this.getTagData().isOmidForWeb}getOmidWebHopCounter(){return this.getTagData().omidWebHopCounter}isOmid3p(){return!!this.getTagData().isOmid3p}getOmid3pHopCounter(){return this.getTagData().omid3pHopCounter}getDvtpScriptUrl(){return this.getTagData().dvtpScriptUrl||""}getTagLoadedMS(){return this.getTagData().tagLoadedMS||0}getTagReadyState(){return this.getTagData().tagReadyState||"loading"}getVisitReadyState(){return this.getTagData().visitReadyState||"loading"}setVisitReadyState(t="loading"){this.getTagData().visitReadyState=t}getVisitInjectedMS(){return this.getTagData().visitInjectedMS||0}setVisitInjectedMS(t=0){this.getTagData().visitInjectedMS=t}getVerifyInjectedMS(){return this.getTagData().verifyInjectedMS||0}setVerifyInjectedMS(t=0){this.getTagData().verifyInjectedMS=t}getTagExecTimeMs(){return this.getTagData().tagExecTimeMs||0}setImpressionIdOnTagData(t){this.getTagData().$uid=t}setImpressionId(t){this.impressionId=t,this.setImpressionIdOnTagData(t)}getImpressionIdFromTagData(){return this.getTagData().$uid}getImpressionId(t){if(this.isRestrictedAccess()){const t=this.getImpressionIdFromTagData();if(t)return t}return t&&t.$uid?t.$uid:"undefined"!=typeof $uid?$uid:void 0}getFrameIdFromTagData(){return this.getTagData().$frmId}getFrameId(t){if(this.isRestrictedAccess()){const t=this.getFrameIdFromTagData();if(t)return t}return t&&t.$frmId?t.$frmId:"undefined"!=typeof $frmId?$frmId:void 0}getScriptUrl(){return this.getTagData().dvtpScriptUrl}getProtocol(){return 0===(this.getScriptUrl()||"").indexOf("http:")?"http:":"https:"}getJSVersion(){return this.getTagData().dvtpScriptVersion}publishPubSubEvent(t,e=this.impressionId,i={}){this.It()&&this.It().pubSub&&t&&e&&this.It().pubSub.publish(t,e,i)}getCustomAdvertiserViewabilitySettings(){const t=this.It();let e,i;if(!(t&&t.tags&&this.impressionId&&(e=$dv.tags[this.impressionId])&&(i=e.cavs)&&null!=i.standardType))return;const{regularAd:n,largeAd:s,standardType:r}=i;return{standardType:r,conditions:{regularAd:n,largeAd:s}}}isMobileWeb(){return 2==this.getDetectedDeliveryType()}isMobileApp(){return 3==this.getDetectedDeliveryType()}isCTV(){return 4==this.getDetectedDeliveryType()}isMobile(){return this.isMobileWeb()||this.isMobileApp()}getDetectedDeliveryType(){try{if(this.detectedDeliveryType||!this.impressionId)return this.detectedDeliveryType;const t=s.ServerContext.getDetectedDeliveryType();if(r.Utilities.isNumeric(t))return this.detectedDeliveryType=t,this.detectedDeliveryType}catch(t){}}getAllowRBViewability(){let t=!1;return this.It()&&this.It().tags&&this.impressionId&&(t=this.It().tags[this.impressionId].allowRB),t}getFireOnlyImportantEvents(){let t=!1;return this.It()&&this.It().tags&&this.impressionId&&(t=this.It().tags[this.impressionId].foie),t}getDoubleTagImpressionID(){let t=this.getAdTagData();if(t&&t.dup&&"null"!=t.dup)return t.dup}getAdTagData(){let t,e=this.impressionId;return this.It().tags&&this.It().tags[e]&&(t=this.It().tags[e]),t}setTagExtensionActivatedState(t){this.tagExtensionActivated=t}}e.Ct=o,e.I=new o},7749:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.T=e.jt=void 0;const n=i(3868),s=i(712),r=i(749),o=i(3380),a=i(870),u=i(425),c=i(194),d=i(7658),l=i(8170),{getQueryParamName:h}=l.DiagnosticParamsSingleton;class v{constructor(){this.Dt={},this.paramsCaseSensitive={},this.serverPrefix="https://tps.doubleverify.com/",this.defaultInitType="js",this.initJsPath="visit.js",this.initJsonPath="visit.json",this.errorPath="visit.jpg",this.eventPath="event.png",this.blockingServerPrefix=void 0,this.blockingInitPath=void 0,this.blockingErrorPath=void 0,this.blockingEventPath=void 0,this.DIAGNOSTIC_PARAM_CTX=h(l.DiagnosticParams.adIdentityClientCode),this.DIAGNOSTIC_PARAM_CMP=h(l.DiagnosticParams.adIdentityAdServerCampaignCode),this.DIAGNOSTIC_PARAM_ADSRV=h(l.DiagnosticParams.adIdentityAdServer),this.DIAGNOSTIC_PARAM_PLC=h(l.DiagnosticParams.adIdentityPlacementId),this.DIAGNOSTIC_PARAM_SID=h(l.DiagnosticParams.adIdentityAdServerSiteCode),this.DIAGNOSTIC_PARAM_DUP=h(l.DiagnosticParams.adIdentityDedupingId),this.CTX="ctx",this.CMP="cmp",this.ADSRV="adsrv",this.SID="sid",this.PLC="plc",this.DUP="dup",this.DIAGNOSTIC_REPORTED_PARAMS=[[l.DiagnosticParams.btregOptimizationValue,this.getBtreg.bind(this)],[l.DiagnosticParams.btadsrvValue,this.getBtadsrv.bind(this)],[l.DiagnosticParams.findClassValue,()=>this.Dt.findclass]]}start(){this.setDvScript(),this.setDvScriptUrl(),this.dvtpScriptUrl||r.v.sendError(s.ClientErrorType.DvTagArrangementError,new Error("url is missing")),this.setDVParam(),this.reportParams()}getScriptElementExtractionMethod(){return this.scriptElementExtractionMethod}getParamUrlExtractionMethod(){return this.paramUrlExtractionMethod}getDVScriptUrl(){return this.dvtpScriptUrl}getDVScript(){return this.scriptElement}getCaseSensitiveParams(){return this.paramsCaseSensitive}getLowerCaseParams(){return this.Dt}getParamValue(t){return this.Dt[t]?this.Dt[t]:null}getTagType(){return!this.Dt.tagtype||"video"!==this.Dt.tagtype.toLowerCase()&&"1"!==this.Dt.tagtype?0:1}getTagFormat(){return this.Dt.tagformat}isTagTypeValid(){return!this.Dt.tagtype||-1!==["display","0","video","1"].indexOf(this.Dt.tagtype.toLowerCase())}getClientCode(){return this.Dt[this.CTX]}getPlacementId(){return this.Dt[this.PLC]}getAdServerSiteCode(){return this.Dt[this.SID]}getDvApi(){return this.Dt.dvapi}getAdServerCampaignCode(){return this.Dt[this.CMP]}getBlockingPartnerCallbackName(){return this.Dt.dvp_dcb}getIsPaOnlyTag(){return"1"==this.Dt.paonlytag}getGDPR(){return this.Dt.gdpr}getGDPRConsent(){return this.Dt.gdpr_consent}getGDPRAndGDPRConsentQueryStringPart(){const t=this.getGDPR(),e=this.getGDPRConsent();return[[d.TPSDataMapping.gdpr,t],[d.TPSDataMapping.gdpr_consent,e]].map((([t,e])=>`${t}=${encodeURIComponent(e||"")}`)).join("&")+"&"}getClientData(){return{ctx:this.getClientCode()||818052,cmp:this.getAdServerCampaignCode()||1619415,sid:this.getAdServerSiteCode()||0,plc:this.getPlacementId()||0}}getAdID(){return this.Dt.dvp_gvacb||this.Dt.adid}getBtreg(){return this.Dt.btreg}getUserAgent(){return this.Dt.useragent}getFindClass(){return"1"===this.Dt.findclass}getIsVisitJsonFlowEnabled(){const t=this.Dt.vjf;return"1"===t||"0"!==t&&null}getIsBlockingEnabled(){return"0"!==this.Dt.blk}getIsMonitoringEnabled(){return"0"!==this.Dt.mon}getVideoBlockingCallbackUrl(){return this.Dt.blkntf}getCm360ContainerId(){return this.getValueOfTagAttribute("data-doubleverify-container")}getCm360BlockingCallbackFnName(){return this.getValueOfTagAttribute("data-doubleverify-callback")}getIsCm360CreativeWrapping(){return this.isCm360ParamExtractionEnabled()}getMeasurementApi(){return this.Dt.msrapi}getAdServerId(){return this.Dt[this.ADSRV]}getBtregOptimizationExperiment(){return this.Dt.btroe}getBtadsrv(){return this.Dt.btadsrv}getCustomTags(){return this.getArrayedParams("bttag","|")}getCustomAttributes(){return this.getArrayedParams("btattb","|")}isSellerTag(){return"1"===this.Dt.seltag}Vt(){return this.Dt.seltagmals}getSupplySource(){return this.Dt.sup}getVastUrl(){return this.Dt.wrapperurl}getSellerAdSize(){let t={width:0,height:0},e=this.Dt.unit;if(e){let i=e.toLowerCase().split("x");if(i[0]&&i[1])try{let e=parseInt(i[0]),n=parseInt(i[1]);isNaN(e)||isNaN(n)||(t.width=e,t.height=n)}catch(t){}}return t}isCm360ParamExtractionEnabled(){return null!=this.getValueOfTagAttribute("data-doubleverify-parameters")}extractParamString(){if(this.isCm360ParamExtractionEnabled()&&this.getValueOfTagAttribute("data-doubleverify-parameters"))return this.getValueOfTagAttribute("data-doubleverify-parameters");const t=this.getDVScriptUrl(),e=new RegExp("[\\?\\#&](.*)$","gi").exec(t);return e&&void 0!==e[1]?e[1]:""}saveExtractedParams(t){for(const e in t){const i=e.toLowerCase(),n=t[e];this.Dt[i]=o.Utilities.isNullOrEmpty(this.Dt[i])?n:this.Dt[i],this.paramsCaseSensitive[e]=o.Utilities.isNullOrEmpty(this.paramsCaseSensitive[e])?n:this.paramsCaseSensitive[e]}}setDVParam(){try{const t=this.extractParamString(),e=this.extractParamsToObjFromStr(t);this.saveExtractedParams(e)}catch(t){r.v.sendError(s.ClientErrorType.DvTagArrangementError,t)}}reportParams(){this.DIAGNOSTIC_REPORTED_PARAMS.map((([t,e])=>[t,e()])).filter((([t,e])=>null!=e)).forEach((([t,e])=>l.DiagnosticParamsSingleton.reportOnce(t,e)))}getArrayedParams(t,e){const i=this.Dt[t];return(null==i?void 0:i.length)?i.split(e):[]}getBlockingInitPath(){return this.blockingInitPath}getBlockingErrorPath(){return this.blockingErrorPath}getBlockingEventPath(){return this.blockingEventPath}getBlockingServerPrefix(){return this.blockingServerPrefix}getServerPrefix(){return this.serverPrefix}setBlockingServerPrefix(t){this.blockingServerPrefix=t}setServerPrefix(t){this.serverPrefix=t}getInitPath(){return"js"===this.defaultInitType?this.initJsPath:this.initJsonPath}getDefaultInitType(){return this.defaultInitType}getInitJsPath(){return this.initJsPath}getInitJsonPath(){return this.initJsonPath}getErrorPath(){return this.errorPath}getEventPath(){return this.eventPath}getValueOfTagAttribute(t){return u.p.getAttribute(this.scriptElement,t)}resolveEventUrlPrefix(t){var e;const i="blocking"===(null===(e=c.I.It().tags[t])||void 0===e?void 0:e.type);return`${i?this.getBlockingServerPrefix():this.getServerPrefix()}${i?this.getBlockingEventPath():this.getEventPath()}`}setDvScriptUrl(){var t;try{const e=n.S.currentWindow().dvSrc?"dvtp_src_omid":"dvtp_src";if(a.omidAdapter.isSupported()&&a.omidAdapter.getVerificationParameters())return this.setOmidScript(e),void(this.paramUrlExtractionMethod=1);const i=c.I.getDvtpScriptUrl();if(i)return this.dvtpScriptUrl=i,void(this.paramUrlExtractionMethod=2);(null===(t=this.scriptElement)||void 0===t?void 0:t.src)&&(this.dvtpScriptUrl=this.scriptElement.src,this.paramUrlExtractionMethod=3)}catch(t){this.paramUrlExtractionMethod=4}}setDvScript(){try{if(a.omidAdapter.isSupported()&&a.omidAdapter.getVerificationParameters())return this.scriptElementExtractionMethod=v.ScriptElementExtractionMethodState.Omid,void(this.scriptElement={});let t=c.I.getTagScriptElem();if(this.scriptElementExtractionMethod=v.ScriptElementExtractionMethodState.ExtractFromTagData,!t){const e=`https://cdn.doubleverify.com/${n.S.currentWindow().dvSrc?"dvtp_src_omid":"dvtp_src"}.js?`,i=u.p.getElementsByTagNameFromDocument("script").filter((t=>0===t.src.indexOf(e))).filter((t=>1!=t.dvvisit));if(!i.length){this.scriptElementExtractionMethod=v.ScriptElementExtractionMethodState.NotFound;const t=new Error("scriptElement did not find"),e="string"==typeof t.stack&&Math.random()<=.1,i=Object.assign({ee_dp_isom:a.omidAdapter.isSupported()?"1":"0",ee_dp_omvpdef:a.omidAdapter.getVerificationParameters()?"1":"0"},!1),n=e?{ee_dp_errstk:encodeURIComponent(t.stack)}:{};return void r.v.sendError(s.ClientErrorType.UnexpectedLostImpError,t,"",Object.assign(Object.assign({},i),n))}t=i[0],this.scriptElementExtractionMethod=v.ScriptElementExtractionMethodState.FoundInDom}this.scriptElement=t,this.scriptElement.dvvisit=1}catch(t){t.message=`missing element ${t.message}`,r.v.sendError(s.ClientErrorType.DvTagArrangementError,t)}}handleOmidForWebVerificationParams(){let t=a.omidAdapter.getVerificationParameters(),e=this.extractParamsToObjFromStr(t);return e=this.manipulateOmidForWebParams(e),t=o.Utilities.serializeObjectToQueryString(e,!0),t}extractParamsToObjFromStr(t){const e={},i=new RegExp("([^&#?]*)=([^&#?]*)","gi");let n=i.exec(t);for(;null!=n;){if(!o.Utilities.isNullOrEmpty(n[1])&&!o.Utilities.isNullOrEmpty(n[2])){const t=n[1].trim(),i=n[2].trim();t&&i&&(e[t]=i)}n=i.exec(t)}return e}manipulateOmidForWebParams(t){const e={};Object.keys(t).forEach((i=>{e[i.toLowerCase()]=t[i]}));const{ctx:i,cmp:n,plc:s,adsrv:r,sid:o}=e;return e[this.DIAGNOSTIC_PARAM_CTX]=i,e[this.DIAGNOSTIC_PARAM_CMP]=n,e[this.DIAGNOSTIC_PARAM_PLC]=s,e[this.DIAGNOSTIC_PARAM_ADSRV]=r,e[this.DIAGNOSTIC_PARAM_SID]=o,e[this.CTX]="818052",e[this.CMP]="DV517581",e[this.PLC]="20210517001",e[this.ADSRV]="0",e[this.SID]="OMIDWeb",e.hasOwnProperty(this.DUP)&&(e[this.DIAGNOSTIC_PARAM_DUP]=e[this.DUP],delete e[this.DUP]),e}isParamManipulationRequired(){const t="web"===a.omidAdapter.getOmidScenarioType(),e=c.I.isOmid3p();return t&&e}setOmidScript(t){const e=this.isParamManipulationRequired()?this.handleOmidForWebVerificationParams():a.omidAdapter.getVerificationParameters();this.dvtpScriptUrl=`https://cdn.doubleverify.com/${t}.js#${e}`,this.scriptElement.src=this.dvtpScriptUrl}}e.jt=v,v.ScriptElementExtractionMethodState={Omid:1,ExtractFromTagData:2,FoundInDom:3,NotFound:4},e.T=new v},5903:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Encoding=e.EncodingClass=void 0;class i{ROT47(t){let e;return e=this.ROTn(t,"!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"),e}sha1hash(t){if(!t)return"";const e=[1518500249,1859775393,2400959708,3395469782],i=(t+=String.fromCharCode(128)).length/4+2,n=Math.ceil(i/16),s=new Array(n),r=new Array(80);let o,a,u,c,d,l=1732584193,h=4023233417,v=2562383102,p=271733878,f=3285377520;for(let e=0;e<n;e++){s[e]=new Array(16);for(let i=0;i<16;i++)s[e][i]=t.charCodeAt(64*e+4*i)<<24|t.charCodeAt(64*e+4*i+1)<<16|t.charCodeAt(64*e+4*i+2)<<8|t.charCodeAt(64*e+4*i+3)}s[n-1][14]=8*(t.length-1)/Math.pow(2,32),s[n-1][14]=Math.floor(s[n-1][14]),s[n-1][15]=8*(t.length-1)&4294967295;for(let t=0;t<n;t++){for(let e=0;e<16;e++)r[e]=s[t][e];for(let t=16;t<80;t++)r[t]=this.ROTL(r[t-3]^r[t-8]^r[t-14]^r[t-16],1);o=l,a=h,u=v,c=p,d=f;for(let t=0;t<80;t++){const i=Math.floor(t/20),n=this.ROTL(o,5)+this.f(i,a,u,c)+d+e[i]+r[t]&4294967295;d=c,c=u,u=this.ROTL(a,30),a=o,o=n}l=l+o&4294967295,h=h+a&4294967295,v=v+u&4294967295,p=p+c&4294967295,f=f+d&4294967295}return this.toHexStr(l)+this.toHexStr(h)+this.toHexStr(v)+this.toHexStr(p)+this.toHexStr(f)}f(t,e,i,n){switch(t){case 0:return e&i^~e&n;case 1:case 3:return e^i^n;case 2:return e&i^e&n^i&n}}ROTn(t,e){let i,n,s,r=String(),o=e.length;for(i=0;i<t.length;i++)s=t.charAt(i),n=e.indexOf(s),n>=0&&(s=e.charAt((n+o/2)%o)),r+=s;return r}ROTL(t,e){return t<<e|t>>>32-e}toHexStr(t){let e,i="";for(let n=7;n>=0;n--)e=t>>>4*n&15,i+=e.toString(16);return i}}e.EncodingClass=i,e.Encoding=new i},712:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ClientErrorType=e.Browser=e.ViewabilityCalculationType=e.it=e.LocatorMethods=void 0;class i{}e.LocatorMethods=i,i.None=0,i.DisplayIntegratedCeltra=1,i.DisplayDFA=2,i.DisplayFindClass=4,i.DefaultInApp=8,i.DisplayMediaPlex=16,i.DisplayParentWindow=32,i.DisplayRegex=64,i.DisplayNearestAd=128,i.DisplayIframeFallback=256,i.ot=512,i.VideoInAppHtml5=1024,i.VideoNonInAppVpaid=2048,i.VideoInAppVpaid=4096,i.DisplaySellerTag=8192,i.DisplayOmid=16384,i.VideoInAppInmobi=32768,i.DisplayNonIntegratedCeltra=65536,i.CustomDisplayMediaPlex=1<<17,i.CustomDisplayRegex=1<<18,i.CustomDisplaySellerTag=1<<19,i.DisplayCm360=1<<20,i.ByReference=1<<21;class n{}e.it=n,n.Marked=16;class s{}var r;e.ViewabilityCalculationType=s,s.Geometric=1,s.ResourceBased=2,s.SafeFrameGeometric=8,s.SafeFramePercentage=16,s.AmpIntersectionObserver=32,s.ScreenGeometric=64,s.Mraid=128,s.IntersectionObserver=512,s.Omid=1024,s.AdColonyMraid=2048,s.Mraid3=4096,function(t){t[t.IE=1]="IE",t[t.Firefox=2]="Firefox",t[t.Chrome=3]="Chrome",t[t.Opera=4]="Opera",t[t.Safari=5]="Safari",t[t.ChromeWebView=6]="ChromeWebView",t[t.SafariWebView=7]="SafariWebView",t[t.PuppeteerExtraStealth=96]="PuppeteerExtraStealth",t[t.PuppeteerVanilla=97]="PuppeteerVanilla",t[t.Selenium=98]="Selenium",t[t.PhantomJS=99]="PhantomJS",t[t.Unknown=0]="Unknown"}(r||(e.Browser=r={}));class o{}e.ClientErrorType=o,o.InjectTagError={id:1,message:"InjectTagError",isLostImpression:!0},o.LoadTagError={id:2,message:"LoadTagError",isLostImpression:!0},o.UnexpectedLostImpError={id:4,message:"UnexpectedLostImpError",isLostImpression:!0},o.OmidSessionError={id:8,message:"OmidSessionError",isLostImpression:!0},o.OmidUnexpectedLostImpError={id:16,message:"OmidUnexpectedLostImpError",isLostImpression:!0},o.OmidLoadTagError={id:32,message:"OmidLoadTagError",isLostImpression:!0},o.OmidInjectTagError={id:64,message:"OmidInjectTagError",isLostImpression:!0},o.UnexpectedError={id:128,message:"UnexpectedError",isLostImpression:!1},o.OmidUnexpectedError={id:256,message:"OmidUnexpectedError",isLostImpression:!1},o.AsynchronousTaskError={id:512,message:"AsynchronousTaskError",isLostImpression:!1},o.VisitLogicError={id:1024,message:"VisitLogicError",isLostImpression:!0},o.VisitResponseError={id:2048,message:"VisitResponseError",isLostImpression:!0},o.VisitRequestError={id:4096,message:"VisitRequestError",isLostImpression:!0},o.DomlessEnvError={id:8192,message:"DomlessEnvError",isLostImpression:!0},o.GoogleBlockingCallbackError={id:16384,message:"GoogleBlockingCallbackError",isLostImpression:!1},o.InvalidVisitResponseError={id:32768,message:"InvalidVisitResponseError",isLostImpression:!0},o.TagExtensionExecutionError={id:65536,message:"TagExtensionError",isLostImpression:!1},o.FailedToSendEvent={id:1<<19,message:"FailedToSendEvent",isLostImpression:!1},o.DvTagArrangementError={id:1<<20,message:"DvTagArrangementError",isLostImpression:!1},o.AdLocationError={id:1<<21,message:"AdLocationError",isLostImpression:!1},o.MeasurementError={id:1<<22,message:"MeasurementError",isLostImpression:!1},o.TPSDataCollectorError={id:1<<23,message:"TPSDataCollectorError",isLostImpression:!1},o.PostMeasuredGlobalMainError={id:1<<24,message:"PostMeasuredGlobalMainError",isLostImpression:!1},o.TagCommunicationError={id:1<<25,message:"TagCommunicationError",isLostImpression:!1},o.PreMeasuredGlobalMainError={id:1<<26,message:"PreMeasuredGlobalMainError",isLostImpression:!0},o.OmidNoSessionStart={id:1<<27,message:"OmidNoSessionStart",isLostImpression:!0},o.FailObserverLongTasks={id:1<<28,message:"FailObserveLongTasks",isLostImpression:!1},o.OmidInvalidInjection={id:1<<29,message:"OmidInvalidInjection",isLostImpression:!0},o.TagServiceError={id:1<<30,message:"TagServiceError",isLostImpression:!1}},7360:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Tt=e.u=e.xt=e.DvEvent=void 0;const n=i(3868),s=i(749),r=i(194),o=i(712);class a{}e.DvEvent=a,a.impressionServed="ImpressionServed",a.adSelected="0",a.adDestroy="1",a.adCandidateApproved="2",a.bestAdCandidateChanged="3",a.nt="4",a.reportData="5",a.viewabilityIntervalData="6",a.boundariesViewabilityIntervalData="7",a.exposureData="8",a.adLocationTry="9",a.adCandidateLocated="10",a.omidClickData="11",a.focusData="12",a.strictFocusData="13",a.abandonData="14",a.unloadData="15",a.adSizeData="16",a.firstClickOnAdElementData="17",a.firstHoverData="18",a.pauseData="19",a.resumeData="20",a.skipData="21",a.firstTouchData="22",a.volumeData="23",a.stopData="24",a.firstFocusIntoAdElementData="25",a.adImpressionData="26",a.adVideoMidpointData="27",a.adVideoStartData="28",a.adVideoFirstQuartileData="29",a.adVideoThirdQuartileData="30",a.adVideoCompleteData="31",a.delayAdSelection="32",a.rtsEventData="33",a.omidAdSizeData="34",a.videoLoadedData="35",a.videoStartPlaying="36",a.mraidDefaultStateData="37",a.htmlRenderedData="38",a.adRenderedData="39",a.globalUnloadData="40",a.D="41",a.globalKeyPressData="42",a.globalMouseMoveData="43",a.globalOrientationChangeData="45",a.keyPressData="46",a.mouseMoveData="47",a.orientationChangePortraitData="49",a.orientationchangeLandscapeData="50",a.skippableData="51",a.adSizeChangedData="52",a.pageHideEventPersisted="53",a.pageHideEventNonPersisted="54",a.performanceData="55",a.performanceLongTasks="56",a.performanceTaskTiming="57",a.tempFirstKeyPressData="59",a.keyPressMeasured="60",a.tempFirstMouseMoveData="61",a.mouseMoveMeasured="62",a.tempOrientationChangePortraitData="63",a.tempOrientationChangeLandscapeData="64",a.orientationChangeMeasured="65",a.adSizeChangeMeasured="66",a.performanceJanusData="67",a.clickMeasured="68",a.scrollMeasured="69",a.beginToRender="70",a.beginToPlay="71",a.adSessionEnd="72",a.omidInvitationAcceptData="73",a.omidCustomInteractionData="74",a.firstClickOnDescendantIframe="75",a.firstTouchOnDescendantIframe="76",a.experimentalDiagnosticClickEvent="77",a.experimentalDiagnosticTouchEvent="78";class u{constructor(){this.renderedImpressions={},this.markRenderedImpressions={},this.frameIds={},this.subscribersCallbacks={},this.previousEvents={},this.preRenderEvents={},this.subscriptionId=1,this.dispatchedCount={},this.eventStatusTable={},Object.keys(a).forEach((t=>{const e=Object.getOwnPropertyDescriptor(a,t).value;this.eventStatusTable[e]=0})),this.frameId=r.I.getFrameId(n.S.currentWindow()),this.previousEventsCapacity=1e3,this.excludeFrameId(this.frameId)}excludeFrameId(t){this.frameIds[t]||(this.frameIds[t]=!0,this.addEventListener(a.adRenderedData,this.updateRenderedAd.bind(this),"excludeFrame",t))}addEventListener(t,e,i="",n=this.frameId){let s=this.addEventsListener({[t]:e},i,n);if(s&&s.length>0)return s[0]}addEventsListener(t,e="",i=this.frameId){let n=[];return this.mapToWrapperFunction(t),this.fireMultiplePreviousEvents(t,i),Object.keys(t).forEach((s=>{const r=t[s];let o=this.subscribe(s,i,e,r);n.push(o)})),n}removeEventListener(t,e=this.frameId){this.subscribersCallbacks[e]&&Object.keys(this.subscribersCallbacks[e]).forEach((i=>{this.subscribersCallbacks[e][i]=this.subscribersCallbacks[e][i].filter((e=>e.subscriptionId!=t))}))}removeEventsListener(t,e=this.frameId){t.forEach((t=>this.removeEventListener(t,e)))}dispatchEvent(t,e){0==this.eventStatusTable[t]&&(this.eventStatusTable[t]=1),2==this.eventStatusTable[t]&&(this.eventStatusTable[t]=3),this.dispatchedCount[t]=this.dispatchedCount[t]?this.dispatchedCount[t]+1:1,this.publishEvents(this.frameId,t,e)}subscribe(t,e,i,n){if("function"==typeof n&&void 0!==t&&""!=t)return 0==this.eventStatusTable[t]&&(this.eventStatusTable[t]=2),1==this.eventStatusTable[t]&&(this.eventStatusTable[t]=3),this.subscriptionId++,this.subscribersCallbacks[e]=this.subscribersCallbacks[e]||{},this.subscribersCallbacks[e][t]=this.subscribersCallbacks[e][t]||[],this.subscribersCallbacks[e][t].push({func:n,subscriptionId:this.subscriptionId,actionName:i}),this.subscriptionId}publish(t,e,i){t&&e&&(this.frameIds[e]||this.renderedImpressions[e]?(this.renderedImpressions[e]&&!this.markRenderedImpressions[e]&&(this.markRenderedImpressions[e]=!0),this.publishHistoryRtnEvent(e),this.publishEvents(e,t,i)):this.storeToPreRenderEvent(e,t,i))}publishHistoryRtnEvent(t){const e=this.preRenderEvents[t];e&&Object.keys(e).forEach((i=>e[i].forEach((e=>this.publishEvents(t,i,e))))),this.preRenderEvents[t]={}}getTopDispatchedEvents(t=Object.keys(this.dispatchedCount).length){return Object.entries(this.dispatchedCount).sort(((t,e)=>e[1]-t[1])).slice(0,t)}getDispatchedByStatus(t){return Object.entries(this.eventStatusTable).filter((([e,i])=>i==t)).map((([t,e])=>t))}updateRenderedAd(t){const e=t.uid;e&&(this.renderedImpressions[e]=!0,this.publishHistoryRtnEvent(e))}publishEvents(t,e,i){this.storeToPreviousEvents(t,e,i),this.subscribersCallbacks[t]&&this.subscribersCallbacks[t][e]&&this.subscribersCallbacks[t][e].forEach((n=>{this.runSafely(n.func,i,t,e,n.actionName)}))}mapToWrapperFunction(t){Object.keys(t).forEach((e=>{const i=t[e];e&&"function"==typeof i?t[e]=(t,e)=>{i(e)}:delete t[e]}))}storeToPreRenderEvent(t,e,i){this.preRenderEvents[t]=this.preRenderEvents[t]||{},this.preRenderEvents[t][e]=this.preRenderEvents[t][e]||[],this.preRenderEvents[t][e].push(i)}storeToPreviousEvents(t,e,i){this.previousEvents[t]=this.previousEvents[t]||{},this.previousEvents[t][e]=this.previousEvents[t][e]||[],this.previousEvents[t][e].length<this.previousEventsCapacity&&this.previousEvents[t][e].push(i)}fireMultiplePreviousEvents(t,e){if(!this.previousEvents[e])return;const i=Object.keys(t).reduce(((i,n)=>{const s=t[n];return(this.previousEvents[e][n]||[]).forEach((t=>i.push({callback:s,data:t}))),i}),[]).sort(((t,e)=>t.data.updateTime-e.data.updateTime));for(const t of i)this.runSafely(t.callback,t.data,e)}runSafely(t,e,i,n="",r=""){try{t(i,e)}catch(t){s.v.sendError(o.ClientErrorType.MeasurementError,t,`EBus ${n} ${r}`)}}}e.xt=u,e.u=new u,e.Tt=new u},102:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BooleanFeatureFlag=e.BooleanFeatureOptionId=void 0;const n=i(8170),s=i(2946);var r;!function(t){t.ENABLED="1",t.DISABLED="0"}(r||(e.BooleanFeatureOptionId=r={}));class o extends s.FeatureFlag{constructor(t,e,i,n=(()=>null)){super(t,e,i,n)}isEnabled(){return this.status===r.ENABLED}reportDiagnosticParam(){this.isEnabled()&&n.DiagnosticParamsSingleton.reportDiagnosticParam(this.diagnosticParamName,this.status)}parseOverride(t){return t===r.ENABLED?r.ENABLED:t===r.DISABLED?r.DISABLED:null}}e.BooleanFeatureFlag=o},5309:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.experiments=e.descendantIframeClickHandlersExperiment=e.markedAdLocationExperiment=void 0;const n=i(8170),s=i(7749),r=i(102);e.markedAdLocationExperiment=new r.BooleanFeatureFlag("MarkedAdLocation",[{percentage:.01,optionName:r.BooleanFeatureOptionId.ENABLED},{percentage:99.99,optionName:r.BooleanFeatureOptionId.DISABLED}],n.DiagnosticParams.markedAdLocatingMode),e.descendantIframeClickHandlersExperiment=new r.BooleanFeatureFlag("DescendantIframeClickHandlers",[{percentage:100,optionName:r.BooleanFeatureOptionId.DISABLED}],n.DiagnosticParams.descendantIframeClickHandlers,(()=>s.T.getParamValue(n.DiagnosticParams.descendantIframeClickHandlers))),e.experiments=[e.markedAdLocationExperiment,e.descendantIframeClickHandlersExperiment]},2946:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureFlag=void 0;const n=i(712),s=i(749),r=i(3832);e.FeatureFlag=class{constructor(t,e,i,n=(()=>null)){this.name=t,this.distribution=e,this.diagnosticParamName=i,this.statusOverride=n,this.isStatusAssigned=!1,this.status=null}init(){this.isStatusAssigned||((0,r.isValidDistribution)(this.distribution)?(this.decideStatus(),this.isStatusAssigned=!0,this.reportDiagnosticParam()):s.v.sendError(n.ClientErrorType.UnexpectedError,new Error(`Invalid distribution for the ${this.name} experiment`)))}decideStatus(){const t=this.statusOverride(),e=this.parseOverride(t);this.status=null!=e?e:(0,r.randomlySelectFromDistribution)(this.distribution)}getStatus(){return this.status}}},4713:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.initializeExperiments=void 0;const n=i(5309);let s=!1;e.initializeExperiments=(t=!1)=>{s&&!t||(s=!0,n.experiments.forEach((t=>t.init())))}},8426:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.InmobiWrapper=e.InmobiWrapperClass=void 0;const n=i(3868);class s{isSupported(){if(void 0!==n.S.workingWindow().inmobi&&void 0!==n.S.workingWindow().inmobi.InMobiVideoEventsBuffer)return this.inmobiApiObj=n.S.workingWindow().inmobi,!0}addEventListenerWithHistory(t){this.isSupported()&&this.inmobiApiObj.InMobiVideoEventsBuffer.addVideoEventListener(t)}}e.InmobiWrapperClass=s,e.InmobiWrapper=new s},749:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.v=e.Rt=e.DEFAULT_EVENT_CONSOLIDATION_TIMEOUT=void 0;const n=i(194),s=i(3868),r=i(425),o=i(7658),a=i(3380),u=i(7360),c=i(712),d=i(3946),l=i(870),h=i(7429),v=i(7749);e.DEFAULT_EVENT_CONSOLIDATION_TIMEOUT=3e3;class p{constructor(){this.waitingMessages={},this.reportedErrors={},this.messageDataObject={},this.eventListenersInitiated=!1,this.START_INTERVAL_INITIAL_VALUE=10,this.isFirstEventFired=!1,this.frequentlySentEventData={}}sendMessage(t,e={isImportantMessage:!1,noConsolidation:!1}){let i={isImportantMessage:"boolean"==typeof e?e:e.isImportantMessage,noConsolidation:"boolean"!=typeof e&&e.noConsolidation};this.initEventListeners(),this.impressionId=this.impressionId||n.I.getImpressionId(s.S.currentWindow()),a.Utilities.extend(t,this.waitingMessages),this.isImportantMessage=this.isImportantMessage||i.isImportantMessage,i.noConsolidation?this.sendWaitingMessages(!1):this.sendWaitingMessages()}appendTagUniqueKey(t){const e=n.I.getTagUniqueKey();e&&(t.dvp_tukv=e)}sendMeasurementError(t,e,i=null){const s={ishems:a.Utilities.getTimeDiff(),napr:e,cerrt:t.id,jsver:a.Utilities.getVersion(),tgjsver:n.I.getDvtpScriptVersion()};a.Utilities.extend(i,s),this.sendMessage(s)}appendIsOmid(t){l.omidAdapter.isSupported()&&(t.dvp_iomd=1)}sendErrorSignal(t,e,i=null){const u=v.T.getServerPrefix(),c=v.T.getErrorPath(),d={ctx:818052,cmp:1619415,jsver:a.Utilities.getVersion(),tgjsver:n.I.getDvtpScriptVersion(),napr:e,cerrt:t.id};t.isLostImpression&&(d.dvp_isLostImp=1);try{d[o.TPSDataMapping.trafficScenarioType]=s.S.getScenarioType()}catch(t){}d[o.TPSDataMapping.flavor]="0",this.appendIsOmid(d),this.appendTagUniqueKey(d),a.Utilities.extend(this.getClientDataString(),d),a.Utilities.extend(i,d);const l=`${u}${c}?${v.T.getGDPRAndGDPRConsentQueryStringPart()}${a.Utilities.serializeObjectToQueryString(d,!1)}`;r.p.sendBeacon(l.trim(),!0)}getClientDataString(){const t=v.T.getClientData();return{ee_dp_ctx:t.ctx,ee_dp_cmp:t.cmp,ee_dp_sid:t.sid,ee_dp_plc:t.plc}}sendError(t,e=null,i="",n={}){if(!this.reportedErrors.hasOwnProperty(t.id)){this.reportedErrors[t.id]=1;const s=t.isLostImpression||a.Utilities.isPercentageCriteriaPassed(10),r=this.getJsErrorString(t,e,i,s);t.isLostImpression||t==c.ClientErrorType.FailedToSendEvent?this.sendErrorSignal(t,r,n):this.sendMeasurementError(t,r,n)}}registerEventCall(t,e,i=!0,n){a.Utilities.getTimeDiff()>12e5||(this.initEventListeners(),n=this.getEventConsolidationTimeout(n),e.eoid=h.EventIdGeneratorAdaptor.getNext(),this.consolidateMessageData(t,e),this.afterUnload||!i||isNaN(n)?this.sendDataToServer(t):r.p.setTimeout((()=>{this.sendDataToServer(t)}),n))}getEventConsolidationTimeout(t){const i=t||e.DEFAULT_EVENT_CONSOLIDATION_TIMEOUT;return this.restrictTimeoutMax?Math.min(i,this.restrictTimeoutMax):i}sendWaitingMessages(t=!0,e){a.Utilities.isEmpty(this.waitingMessages)||(this.impressionId?(!this.isImportantMessage&&n.I.getFireOnlyImportantEvents()||this.registerEventCall(this.impressionId,this.waitingMessages,t,e),this.isImportantMessage=!1,this.waitingMessages={}):a.Utilities.getVisitTimeDiff()>4e3&&this.sendError(c.ClientErrorType.FailedToSendEvent,void 0,"ImpressionID is missing"))}firePreviousEvents(){this.impressionId=n.I.getImpressionId(s.S.currentWindow());const t=this.getIntervalAndSetMaxTimeout();this.sendWaitingMessages(!0,t)}getIntervalAndSetMaxTimeout(t=this.START_INTERVAL_INITIAL_VALUE){return!n.I.isMobile()||d.BrowserDetector.getBrowserId()!=c.Browser.Safari&&d.BrowserDetector.getBrowserId()!=c.Browser.SafariWebView||(this.restrictTimeoutMax=t=1e3),l.omidAdapter.isSupported()&&(this.restrictTimeoutMax=500),t}initEventListeners(){this.eventListenersInitiated||(u.u.addEventListener(u.DvEvent.impressionServed,(()=>{this.firePreviousEvents()}),"MessageHandler"),u.u.addEventListener(u.DvEvent.globalUnloadData,this.handleUnload.bind(this)),this.eventListenersInitiated=!0)}consolidateMessageData(t,e){this.messageDataObject[t]=this.messageDataObject[t]||{},a.Utilities.extend(e,this.messageDataObject[t])}createEventCallUrl(t,e,i=!1){void 0===this.doubleTagImp&&(this.doubleTagImp=n.I.getDoubleTagImpressionID()||"");const s=this.doubleTagImp?"dup="+this.doubleTagImp+"&":"";return v.T.resolveEventUrlPrefix(t)+`?impid=${t}&`+s+"flavor=0&"+v.T.getGDPRAndGDPRConsentQueryStringPart()+a.Utilities.serializeObjectToQueryString(e,i)}sendDataToServer(t){try{const e=this.messageDataObject[t];if(!a.Utilities.isEmpty(e)){let i=this.createEventCallUrl(t,this.messageDataObject[t],!0);this.isFirstEventFired||(i+=`&${o.TPSDataMapping.timeToFirstUpdateReportMs}=${a.Utilities.getCurrentTime()-a.Utilities.getScriptLoadedMS()}`,this.isFirstEventFired=!0),this.afterUnload&&(i+=`&${o.TPSDataMapping.totalMeasurementExecTime}=${a.Utilities.getCurrentTime()-a.Utilities.getScriptLoadedMS()}`);i.indexOf("event.png")>=0&&this.updateEventDataFrequencyCounter(e),r.p.sendBeacon(i),this.messageDataObject[t]=null}}catch(t){}}updateEventDataFrequencyCounter(t){var e,i;for(const n of Object.keys(t))null!==(e=(i=this.frequentlySentEventData)[n])&&void 0!==e||(i[n]=0),this.frequentlySentEventData[n]++}getJsErrorString(t,e=null,i="",n=!1){let s,r=t.message+"__";i&&i.length>0&&(r+=i+"__"),e&&(r+=": "+(e.message||""),n&&e.stack&&(r+=e.stack.split("\n").map((t=>t.replace(/\(.*\)/,""))).join(""))),r=r.replace(/\n/g,"").replace(/\r/g,"").replace(/\t/g,"").replace(/\|/g,"");try{r=r.slice(0,400),s=encodeURIComponent(r)}catch(t){}return s}handleUnload(){this.afterUnload=!0,Object.keys(this.messageDataObject).forEach(((t,e)=>{this.sendDataToServer(t)}))}}e.Rt=p,e.v=new p},6681:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.MraidWrapper=e.MraidWrapperClass=void 0;const n=i(3868),s=i(749),r=i(7360),o=i(9450),a=i(363),u=i(3380);class c{constructor(){this.isMraidReady=!1,this.readyState=!1,this.maxIterations=20,this.errorReported=!1;const t=n.S.workingWindow();this.setMraid(t),this.mraidObject&&this.readyCheck()}getReadyState(){return this.readyState}isOperaMedia(){return"AdMarvel"==this.runMraidFunctionSafely("getVendor")}isAdColony(){const t=this.runMraidFunctionSafely("getVendor");return t&&"string"==typeof t&&"adcolony"==t.toLowerCase()}getIsMraidReady(){return this.isMraidReady||this.updateIsMraidReady()}isSupported(){return!!this.mraidObject}getIntegrationType(){return 2}runMraidFunctionSafely(t){try{return this.mraidObject[t]()}catch(t){}}runMraidRegisterSafely(t,e){try{e.toString=()=>"func"+a.RandomUtils.getRandom16(),this.mraidObject.addEventListener(t,e)}catch(t){}}setMraid(t){this.mraidObject=n.S.objectLookup(t,"mraid",this.maxIterations)}reportMraidLookup(t){n.S.isDomlessEnvironment()||(s.v.sendMessage({dvp_mrdms:u.Utilities.getCurrentTime()}),this.mraidObject||null==n.S.workingDocument().readyState||"complete"==n.S.workingDocument().readyState||t.addEventListener("load",(e=>{n.S.objectLookup(t,"mraid",this.maxIterations)&&s.v.sendMessage({dvp_mrdfnd:1})})))}getMraid(){return this.mraidObject}reportEnvironmentDetails(){this.mraidEnvObjectCache=this.mraidEnvObjectCache||n.S.objectLookup(n.S.currentWindow(),"MRAID_ENV",this.maxIterations),this.mraidEnvObjectCache&&s.v.sendMessage({dvp_mrdsdk:this.mraidEnvObjectCache.sdk,dvp_mrdsdkv:this.mraidEnvObjectCache.sdkVersion,dvp_mrdv:this.mraidEnvObjectCache.version,dvp_mrdapid:this.mraidEnvObjectCache.appId})}getAdViewablePercentage(){let t=this.runMraidFunctionSafely("isViewable");return null==t?null:t?100:0}readyCheck(){"loading"==this.runMraidFunctionSafely("getState")?this.runMraidRegisterSafely("ready",this.readyCallback.bind(this)):this.readyCallback(),this.runMraidRegisterSafely("stateChange",this.updateIsMraidReady.bind(this))}setReadyState(){this.readyState=!0,r.u.dispatchEvent(r.DvEvent.mraidDefaultStateData,new o.EventData),s.v.sendMessage({dvp_mrstt:1})}readyCallback(){this.setReadyState(),this.updateIsMraidReady(),this.registerToMraidErrorEvent()}updateIsMraidReady(){if(this.isMraidReady)return this.isMraidReady;const t=this.runMraidFunctionSafely("isViewable");return("default"==this.runMraidFunctionSafely("getState")||t)&&(this.isMraidReady=!0,this.readyState||this.setReadyState()),this.isMraidReady}registerToMraidErrorEvent(){this.runMraidRegisterSafely("error",((t,e)=>{this.errorReported||(s.v.sendMessage({dvp_mrwer:"MraidWrapper:"+e+":"+t.substring(0,60)}),this.errorReported=!0)}))}}e.MraidWrapperClass=c,e.MraidWrapper=new c},870:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.omidAdapter=e.OmidAdapter=void 0;const n=i(630);class s{constructor(){this.omidDefaultVendorKey="doubleverify.com-omid"}init(t,e,i,n){this.omidJsClient=t,this.omidSessionData=e,this.omidVendorKey=i||this.omidDefaultVendorKey,this.isOmidEnabled=n}isSupported(){return this.omidJsClient&&this.omidJsClient.isSupported()&&this.isOmidEnabled}getIntegrationType(){var t;const e=this.getOmidContext();return"web"===(null===(t=null==e?void 0:e.environment)||void 0===t?void 0:t.toLowerCase())?8:4}getSessionData(){return this.omidSessionData}addEventListener(t,e){if(this.omidJsClient)return this.omidJsClient.addEventListener(t,e)}registerSessionObserver(t){if(this.omidJsClient)return this.omidJsClient.registerSessionObserver(t,this.omidVendorKey)}setTimeout(t,e){if(this.omidJsClient)return this.omidJsClient.setTimeout(t,e)}clearTimeout(t){var e,i;null===(i=null===(e=this.omidJsClient)||void 0===e?void 0:e.clearTimeout)||void 0===i||i.call(e,t)}setInterval(t,e){if(this.omidJsClient)return this.omidJsClient.setInterval(t,e)}clearInterval(t){var e,i;null===(i=null===(e=this.omidJsClient)||void 0===e?void 0:e.clearInterval)||void 0===i||i.call(e,t)}getVerificationParameters(){let t;const e=this.getSessionData();return(null==e?void 0:e.data)&&(t=e.data.verificationParameters),t}sendUrl(t){var e,i;null===(i=null===(e=this.omidJsClient)||void 0===e?void 0:e.sendUrl)||void 0===i||i.call(e,t)}injectJavaScriptResource(t,e=(()=>{}),i=(()=>{})){this.omidJsClient&&this.omidJsClient.injectJavaScriptResource(t,e,i)}getOmidNativePartnerName(){var t;let e;const i=this.getOmidContext();return(null===(t=null==i?void 0:i.omidNativeInfo)||void 0===t?void 0:t.partnerName)&&(e=i.omidNativeInfo.partnerName),e}getOmidJSPartnerName(){var t,e;return null===(e=null===(t=this.getOmidContext())||void 0===t?void 0:t.omidJsInfo)||void 0===e?void 0:e.partnerName}getOmidVendorKeyIndex(t){if(t)return t.replace(this.omidDefaultVendorKey,"")||"0"}getOmidContext(){const t=this.getSessionData()&&this.getSessionData().data;let e;return t&&t.context&&(e=t.context),e}getOmidScenarioType(){const t=this.getOmidContext();return null==t?void 0:t.environment}getOmidAccessMode(){var t,e;return null!==(e=null===(t=this.getOmidContext())||void 0===t?void 0:t.accessMode)&&void 0!==e?e:null}getOmidAccessModeNumber(t){return new Map([[n.OmidAccessModeString.FULL,1],[n.OmidAccessModeString.DOMAIN,2],[n.OmidAccessModeString.LIMITED,3]]).get(t)}}e.OmidAdapter=s,e.omidAdapter=new s},6671:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.OmidVerificationClientWrapper=void 0;const n=i(425),s=i(194),r=i(712),o=i(749),a=i(3380),u=i(8170),c=i(870);class d{constructor(t){this.isOmidEnabled=!0,this.onSessionEvent=t=>{switch(t.type){case"sessionStart":this.onSessionStart(t);break;case"sessionFinish":this.onSessionFinish(t);break;case"sessionError":this.onSessionError(t)}},this.isReady=!1,this.init(t),this.isSupported()&&(this.sessionStartTimeout=n.p.setTimeout((()=>{const t={[u.DiagnosticParamsSingleton.getQueryParamName(u.DiagnosticParams.isOmid3p)]:s.I.isOmid3p()?"1":"0",[u.DiagnosticParamsSingleton.getQueryParamName(u.DiagnosticParams.omidEnvironment)]:this.getEnvironment()};o.v.sendError(r.ClientErrorType.OmidNoSessionStart,new Error("omid SessionStart not fired"),"omid SessionStart not fired",t)}),d.sessionStartTimeoutInterval),this.registerSessionObserver())}ready(t){this.isReady?t():this.readyCB=t}onSessionStart(t){this.isReady=!0,n.p.clearTimeout(this.sessionStartTimeout),t=t||{},this.omidSessionData=t,c.omidAdapter.init(this.omidVCInstance,this.omidSessionData,this.vendorKey,this.isOmidEnabled),u.DiagnosticParamsSingleton.reportOnce(u.DiagnosticParams.omidTimeMsUntilStartSession,a.Utilities.getTimeDiffNoAbs((new Date).getTime())),u.DiagnosticParamsSingleton.reportOnce(u.DiagnosticParams.omidAdSessionId,this.omidSessionData.adSessionId),"function"==typeof this.readyCB&&this.readyCB()}onSessionFinish(t){this.isReady=!1}onSessionError(t){this.isReady=!1;const e=(t=t||{}).data||{},i=e.message||"onSessionError_Error",s=this.isInvalidInjection(e)?r.ClientErrorType.OmidInvalidInjection:r.ClientErrorType.OmidSessionError;n.p.clearTimeout(this.sessionStartTimeout),o.v.sendError(s,{message:i},"",{[u.DiagnosticParamsSingleton.getQueryParamName(u.DiagnosticParams.omidEnvironment)]:this.getEnvironment()})}getEnvironment(){var t;return null===(t=this.omidVCInstance)||void 0===t?void 0:t.getEnvironment()}isInvalidInjection(t){return"generic"===t.errorType&&t.message.includes("injected by the OM-SDK service itself")}registerSessionObserver(){this.omidVCInstance&&this.omidVCInstance.registerSessionObserver(this.onSessionEvent,this.vendorKey)}isSupported(){if(void 0===this.omidVCIsSupported)try{this.omidVCIsSupported=this.omidVCInstance.isSupported()}catch(t){this.omidVCIsSupported=!1}return this.omidVCIsSupported&&this.isOmidEnabled}setVendorKey(t){if(this.vendorKey=d.DefaultVendorKey,t)try{this.vendorKey=a.Utilities.getParamValue(t,"vendor_key")||this.vendorKey}catch(t){this.vendorKey=d.DefaultVendorKey}u.DiagnosticParamsSingleton.reportOnce(u.DiagnosticParams.omidVendorKey,this.vendorKey)}setOmidConfig(t){this.isOmidEnabled="0"!=a.Utilities.getParamValue(t,"omid"),u.DiagnosticParamsSingleton.reportDiagnosticParam(u.DiagnosticParams.isOmidEnabled,this.isOmidEnabled?1:0)}init(t){if(t){const e=s.I.getDvtpScriptUrl();this.setVendorKey(e),this.setOmidConfig(e);try{this.omidVCInstance=new t}catch(t){}}}}e.OmidVerificationClientWrapper=d,d.VerificationClientVersion="1.2.6-iab634",d.DefaultVendorKey="doubleverify.com-omid",d.sessionStartTimeoutInterval=5200},3038:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});let i=null,n=null,s=null,r=null,o=null,a=null,u=null,c=null,d=null,l=null,h=null,v=null,p=null;const f={setIndexExecutionStartTime(){o=this.currentTime()},setInitFireVisitImportsStartTime(t){i=t},setInitFireVisitImportsEndTime(){n=this.currentTime()},setTotalSyncTimeStartTime(t){s=t},setTotalSyncTimeEndTime(){r=this.currentTime()},setFireVerifyExecutionStartTime(){a=this.currentTime()},setFireVerifyExecutionEndTime(){u=this.currentTime()},setFireVisitExecutionStartTime(){c=this.currentTime()},setFireVisitExecutionEndTime(){d=this.currentTime()},setInitMainExecutionStartTime(){l=this.currentTime()},setInitMainExecutionEndTime(){h=this.currentTime()},setInitMeasurementExecutionStartTime(){v=this.currentTime()},setInitMeasurementExecutionEndTime(){p=this.currentTime()},getBenchmarks:()=>[{name:"tsetms",startTime:s,endTime:r,condition:Boolean(s&&r)},{name:"ipvietms",startTime:i,endTime:n,condition:Boolean(i&&n)},{name:"prvietms",startTime:s,endTime:c,condition:Boolean(s&&c)},{name:"fvietms",startTime:c,endTime:d,condition:Boolean(c&&d)},{name:"povietms",startTime:d,endTime:r,condition:Boolean(d&&r)},{name:"prveetms",startTime:s,endTime:a,condition:Boolean(s&&a)},{name:"fveetms",startTime:a,endTime:u,condition:Boolean(a&&u)},{name:"poveetms",startTime:u,endTime:r,condition:Boolean(u&&r)},{name:"imaetms",startTime:l,endTime:h,condition:Boolean(l&&h)},{name:"iesuimestms",startTime:o,endTime:l,condition:Boolean(o&&l)},{name:"imeetms",startTime:v,endTime:p,condition:Boolean(v&&p)}].filter((t=>t.condition)).map((({name:t,startTime:e,endTime:i})=>({taskDetails:{name:t},startTime:e,endTime:i}))),currentTime:()=>"undefined"!=typeof performance&&"function"==typeof performance.now?performance.now():void 0};e.default=f},138:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.initFireVisitImportsStartTime=void 0,e.initFireVisitImportsStartTime="undefined"!=typeof performance&&"function"==typeof performance.now?performance.now():void 0},6820:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.cancelScheduledTask=e.isPerformanceTimingAllowed=e.isPerformanceApiSupported=e.reportTaskTiming=e.trackPerformanceWhenExecuted=e.invokeWithPerformanceMeasures=e.scheduleTask=void 0;const n=i(9450),s=i(425),r=i(7360),o=i(3868),a=i(3380);e.scheduleTask=(t,e=0)=>s.p.setTimeout(t,e);e.invokeWithPerformanceMeasures=(t,i)=>{const n=s.p.getPerformanceTimeNow(),r=i(),o=s.p.getPerformanceTimeNow();return(0,e.reportTaskTiming)(t,n,o),r};e.trackPerformanceWhenExecuted=(t,i)=>()=>(0,e.invokeWithPerformanceMeasures)(t,i);e.reportTaskTiming=({name:t},i,s)=>{(0,e.scheduleTask)((()=>r.u.dispatchEvent(r.DvEvent.performanceTaskTiming,new n.TaskTimingEventData([{name:t,startTime:i,duration:s-i}]))))};e.isPerformanceApiSupported=()=>void 0!==o.S.currentWindow().performance&&"function"==typeof o.S.currentWindow().performance.now,e.isPerformanceTimingAllowed=!o.S.isDomlessEnvironment()&&(0,e.isPerformanceApiSupported)()&&a.Utilities.isPercentageCriteriaPassed(10);e.cancelScheduledTask=t=>{s.p.clearTimeout(t)}},363:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.RandomUtils=e.RandomUtilsClass=void 0;const n=i(3868),s=i(3380);class r{getRandom16(){return(s.Utilities.getCurrentTime()+""+Math.floor(1e6*Math.random())).substr(0,16)}getRandom32(){return s.Utilities.getCurrentTime().toString(36)+(this.getRandom24ByCrypto()||this.getRandom24())}getRandom24ByCrypto(){if(n.S.isCryptoSupported()){const t=new Uint32Array(4);return crypto.getRandomValues(t),s.Utilities.arrayLikeToArray(t).map((t=>("00000000"+t.toString(36)).substr(-6))).join("")}}getRandom24(){return(Math.random().toString(36)+"000000000000").substr(2,12)+(Math.random().toString(36)+"000000000000").substr(2,12)}}e.RandomUtilsClass=r,e.RandomUtils=new r},1723:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractRenderLogic=void 0;const n=i(3868),s=i(7360),r=i(9450),o=i(749),a=i(194);e.AbstractRenderLogic=class{constructor(){this.wasAdRenderedCalled=!1}publishAdRenderedDataAfterImpressionServed(){let t=a.I.It();t.pubSub&&t.pubSub.excludeFrameId&&s.u.addEventListener(s.DvEvent.impressionServed,(()=>{a.I.publishPubSubEvent(s.DvEvent.adRenderedData,a.I.getFrameId(n.S.currentWindow()),new r.AdRenderedEventData(a.I.getImpressionId(n.S.currentWindow())))}),"PreRenderLogic")}isAdRendered(){return this.wasAdRenderedCalled}adRendered(){this.wasAdRenderedCalled=!0,this.publishAdRenderedDataAfterImpressionServed(),s.u.dispatchEvent(s.DvEvent.beginToRender,new r.EventData)}static fireRenderedEvent(){o.v.sendMessage({prndr:0},!0)}}},6295:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Cm360ContainerRenderLogic=void 0;const n=i(7015),s=i(7749),r=i(7218);class o extends r.ContainerRenderLogic{constructor(){super(new n.Cm360AdContainerInspectorFactory(o.tagAttributeName))}isSupported(t){return s.T.getIsCm360CreativeWrapping()&&0===t}getRenderingMethodIndicator(){return 8}}e.Cm360ContainerRenderLogic=o,o.tagAttributeName="data-doubleverify-container"},7218:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerRenderLogic=void 0;const n=i(1723),s=i(3868),r=i(749),o=i(7658);class a extends n.AbstractRenderLogic{constructor(t){super(),this.waitingForWindowLoadEvent=!1,this.activeListeners=[],this.adContainerInspector=t.createAdContainerInspector()}start(){var t,e,i;const n=null===(t=this.adContainerInspector)||void 0===t?void 0:t.getContainer(),s=null===(e=this.adContainerInspector)||void 0===e?void 0:e.getDirectChildren().length,r=null===(i=this.adContainerInspector)||void 0===i?void 0:i.getDirectChildren(["img","iframe"]),o=this.findALoadedChild(r);n?0===s?this.determineAdNotRendered(4):0===r.length?this.waitForWindowToLoad():o?this.reportAdRenderedByLoadedChild(o):this.waitForTheFirstLoadableChildToLoad(r):this.determineAdNotRendered(2)}getNumberOfActiveListeners(){return this.activeListeners.length}reportAdRenderedByLoadedChild(t){const e=this.getReasonForRendered(t);this.determineAdRendered(e,t)}waitForWindowToLoad(){this.waitingForWindowLoadEvent=!0,s.S.workingWindow().addEventListener("load",(()=>this.determineAdRendered(4)))}reportAdNotRendered(t){r.v.sendMessage({[o.AdDataMappingToReport.reasonForNotRenderedByContainerRenderLogic]:t})}determineAdNotRendered(t){this.reportAdNotRendered(t),this.removeLoadEventListener()}determineAdRendered(t,e=null){this.reportAdRendered(t,e),this.removeLoadEventListener()}reportAdRendered(t,e=null){super.adRendered(),n.AbstractRenderLogic.fireRenderedEvent(),this.reportRenderedReasonAndImageDimensions(t,e)}reportRenderedReasonAndImageDimensions(t,e){let i={};i[o.AdDataMappingToReport.reasonForRenderedByContainerRenderLogic]=t,1===t&&(i.dvp_cimw=e.width,i.dvp_cimh=e.height),r.v.sendMessage(i)}removeLoadEventListener(){this.removeElemLoadEventListener(),this.waitingForWindowLoadEvent&&this.removeWindowLoadEventListener()}removeElemLoadEventListener(){this.activeListeners.forEach((t=>{t.removeEventListener("load",(()=>this.determineAdRendered(this.getReasonForRendered(t),t)))})),this.activeListeners=[]}removeWindowLoadEventListener(){s.S.workingWindow().removeEventListener("load",(()=>this.determineAdRendered(4))),this.waitingForWindowLoadEvent=!1}getElementType(t){return t.tagName.toLowerCase()}getReasonForRendered(t){const e=this.getElementType(t);return"img"===e?1:"iframe"===e?2:null}waitForTheFirstLoadableChildToLoad(t){t.filter((t=>"img"===this.getElementType(t))).forEach((t=>{this.addLoadEventListener(t,1)})),t.filter((t=>"iframe"===this.getElementType(t))).forEach((t=>{this.addLoadEventListener(t,2)}))}findALoadedChild(t){return t.find((t=>{const e=this.getElementType(t);if("img"===e)return t.complete&&0!==t.naturalHeight;if("iframe"===e)try{const e=s.S.getIframeWindow(t),i=s.S.workingDocument(e),n=t.contentDocument||i;return"complete"===(null==n?void 0:n.readyState)}catch(t){}return!1}))}addLoadEventListener(t,e){t.addEventListener("load",(()=>this.determineAdRendered(e,t))),this.activeListeners.push(t)}}e.ContainerRenderLogic=a},5414:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultRenderLogic=void 0;const n=i(1723);class s extends n.AbstractRenderLogic{start(){super.adRendered()}isSupported(t){return!0}getRenderingMethodIndicator(){return 32}}e.DefaultRenderLogic=s},2905:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.MraidInMobiRenderLogic=void 0;const n=i(6681),s=i(1723),r=i(3868);class o extends s.AbstractRenderLogic{constructor(){super(...arguments),this.wasViewable=!1,this.maxIterations=20}start(){n.MraidWrapper.getAdViewablePercentage()?super.adRendered():n.MraidWrapper.runMraidRegisterSafely("viewableChange",this.mraidViewableChangeUpdate.bind(this))}mraidViewableChangeUpdate(t){t&&!this.wasViewable&&(this.wasViewable=!0,super.adRendered(),s.AbstractRenderLogic.fireRenderedEvent())}isSupported(t){return 0==t&&n.MraidWrapper.isSupported()&&r.S.objectLookup(r.S.currentWindow(),"imraid",this.maxIterations)&&r.S.objectLookup(r.S.currentWindow(),"inmobi",this.maxIterations)}getRenderingMethodIndicator(){return 2}}e.MraidInMobiRenderLogic=o},4263:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.MraidRenderLogic=void 0;const n=i(7360),s=i(6681),r=i(1723),o=i(3868),a=i(425);class u extends r.AbstractRenderLogic{constructor(){super(...arguments),this.isMraidRendered=!1,this.isPageVisibilityRendered=!1,this.isPageVisibilitySupported=!1}start(){this.isPageVisibilitySupported=a.p.isVisibilityChangeEventSupported(),this.checkMraidRender(),this.isPageVisibilitySupported&&this.checkPageVisibilityRender(),this.checkOverallRendered(!1)}checkMraidRender(){s.MraidWrapper.getReadyState()?this.isMraidRendered=!0:this.mraidDefaultStateDataEventHandler=n.u.addEventListener(n.DvEvent.mraidDefaultStateData,this.mraidDefaultStateCallback.bind(this))}mraidDefaultStateCallback(){this.isMraidRendered=!0,this.mraidDefaultStateDataEventHandler&&n.u.removeEventListener(this.mraidDefaultStateDataEventHandler),this.checkOverallRendered(!0)}checkPageVisibilityRender(){if("prerender"!=o.S.getVisibilityState())this.isPageVisibilityRendered=!0;else{const t=a.p.getVisibilityPrefix()+"visibilitychange";a.p.addEventListener(t,this.visibilityChangeCallback.bind(this),o.S.workingDocument())}}visibilityChangeCallback(){this.isPageVisibilityRendered||"prerender"!=o.S.getVisibilityState()&&(this.isPageVisibilityRendered=!0,this.checkOverallRendered(!0))}checkOverallRendered(t){(!this.isPageVisibilitySupported&&this.isMraidRendered||this.isPageVisibilitySupported&&this.isPageVisibilityRendered&&this.isMraidRendered)&&(super.adRendered(),t&&r.AbstractRenderLogic.fireRenderedEvent())}isSupported(t){return s.MraidWrapper.isSupported()}getRenderingMethodIndicator(){return 4}}e.MraidRenderLogic=u},98:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.OmidRenderLogic=void 0;const n=i(1723),s=i(870),r=i(630),o=i(8170);class a extends n.AbstractRenderLogic{constructor(){super(...arguments),this.wasRendered=!1}isSupported(t){return s.omidAdapter.isSupported()}getRenderingMethodIndicator(){return 64}start(){s.omidAdapter.addEventListener("impression",(t=>this.handleImpressionEvent(t))),s.omidAdapter.addEventListener("geometryChange",(t=>this.handleGeometryChangeEvent(t)))}handleImpressionEvent(t){(!this.wasRendered&&this.checkIfImpressionTypeIndicatesRendered(t)||this.checkIfPercentageInViewLargerThanZero(t))&&(o.DiagnosticParamsSingleton.reportDiagnosticParam(o.DiagnosticParams.omidRenderedFromImpressionEvent,1),this.updateThatAdIsRendered())}handleGeometryChangeEvent(t){!this.wasRendered&&this.checkIfPercentageInViewLargerThanZero(t)&&(o.DiagnosticParamsSingleton.reportDiagnosticParam(o.DiagnosticParams.omidRenderedFromGeomChangePercLargerThanZero,1),this.updateThatAdIsRendered())}checkIfImpressionTypeIndicatesRendered(t){var e;const i=null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.impressionType;return!(!i||i!==r.OmidImpressionType.BEGIN_TO_RENDER&&i!==r.OmidImpressionType.ONE_PIXEL&&i!==r.OmidImpressionType.VIEWABLE)}checkIfPercentageInViewLargerThanZero(t){var e,i;return(null===(i=null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.adView)||void 0===i?void 0:i.percentageInView)>0}updateThatAdIsRendered(){this.wasRendered=!0,super.adRendered(),n.AbstractRenderLogic.fireRenderedEvent()}}e.OmidRenderLogic=a},6898:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PageVisibilityRenderLogic=void 0;const n=i(425),s=i(3868),r=i(1723);class o extends r.AbstractRenderLogic{constructor(){super(...arguments),this.wasRendered=!1}start(){if("prerender"!=s.S.getVisibilityState())super.adRendered();else{const t=n.p.getVisibilityPrefix()+"visibilitychange";n.p.addEventListener(t,this.visibilitychangeCallback.bind(this),s.S.workingDocument())}}visibilitychangeCallback(){this.wasRendered||"prerender"!=s.S.getVisibilityState()&&(this.wasRendered=!0,super.adRendered(),r.AbstractRenderLogic.fireRenderedEvent())}isSupported(t){return n.p.isVisibilityChangeEventSupported()}getRenderingMethodIndicator(){return 16}}e.PageVisibilityRenderLogic=o},7026:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.RenderLogicFactory=e.RenderLogicFactoryClass=void 0;const n=i(2905),s=i(4263),r=i(6898),o=i(5414),a=i(7749),u=i(6295),c=i(98);class d{getRenderLogic(){return this.selectedRenderLogic||(this.selectedRenderLogic=this.selectSupportedRenderLogic()),this.selectedRenderLogic}prioritizedRenderLogicImplementations(){return[c.OmidRenderLogic,n.MraidInMobiRenderLogic,s.MraidRenderLogic,u.Cm360ContainerRenderLogic,r.PageVisibilityRenderLogic,o.DefaultRenderLogic]}selectSupportedRenderLogic(){try{for(const t of this.prioritizedRenderLogicImplementations()){const e=new t,i=a.T.getTagType();if(e.isSupported(i))return e}}catch(t){}return new o.DefaultRenderLogic}}e.RenderLogicFactoryClass=d,e.RenderLogicFactory=new d},6806:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.SafeFrameObject=e.SafeFrameObjectClass=void 0;class i{isGeometricSupported(t){return t.$sf&&t.$sf.ext&&t.$sf.ext.geom&&t.$sf.ext.geom()&&t.$sf.ext.geom().win&&t.$sf.ext.geom().win.h>0&&t.$sf.ext.geom().win.w>0}isInviewSupported(t){return!!t.$sf&&!!t.$sf.ext&&!!t.$sf.ext.inViewPercentage}getViewport(t){if(this.isGeometricSupported(t)){const e=t.$sf.ext.geom();return{height:Math.floor(e.win.h),width:Math.floor(e.win.w)}}}getInViewPercentage(t){if(this.isInviewSupported(t))return t.$sf.ext.inViewPercentage()}getAssetVisibleDimension(t){const e={width:0,height:0,left:0,right:0,top:0,bottom:0},i=t.$sf.ext.geom();return e.width=parseInt(i.self.w),e.height=parseInt(i.self.h),i.par&&(e.top=parseInt(i.self.t)-parseInt(i.par.t),e.bottom=e.top+e.height,e.left=parseInt(i.self.l)-parseInt(i.par.l),e.right=e.left+e.width),e}isSafeFrameExists(t){try{return!!t.$sf}catch(t){}}getUrlReferrer(t){try{return t.$sf&&t.$sf.ext&&t.$sf.ext.hostURL&&t.$sf.ext.hostURL()}catch(t){}}}e.SafeFrameObjectClass=i,e.SafeFrameObject=new i},3322:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptDynamicFlags=void 0;const n=i(749),s=i(7658),r=i(7360);class o{constructor(){this.impServed=!1,r.u.addEventListener(r.DvEvent.impressionServed,this.handleImpressionServed.bind(this))}static getInstance(){return o.instance||(o.instance=new o),o.instance}getFlags(){return this.flags}turnOn(t){const e=this.flags;this.flags|=t,this.flags!==e&&this.impServed&&n.v.sendMessage({[s.TPSDataMapping.scriptDynamicFlags]:this.flags})}handleImpressionServed(){this.impServed=!0,n.v.sendMessage({[s.TPSDataMapping.scriptDynamicFlags]:this.flags})}}e.ScriptDynamicFlags=o},7429:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.EventIdGeneratorAdaptor=e.SequenceIdGeneratorClass=void 0;class i{constructor(){this.sequenceId=1}getNext(){return this.sequenceId++}}e.SequenceIdGeneratorClass=i,e.EventIdGeneratorAdaptor=new i},6142:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ServerContext=e.ServerContextClass=void 0;class i{getDetectedDeliveryType(){var t,e;return null===(e=null===(t=this.data)||void 0===t?void 0:t.ce)||void 0===e?void 0:e.ddt}getDeviceType(){var t,e;return null===(e=null===(t=this.data)||void 0===t?void 0:t.ce)||void 0===e?void 0:e.dt}isGroupMV4VideoNativeImpression(){var t;const e=null===(t=this.data)||void 0===t?void 0:t.rtn;return!!(null==e?void 0:e.gmv4ntv)}setData(t){this.data=t}}e.ServerContextClass=i,e.ServerContext=new i},3971:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.StandardSizes=e.StandardSizesClass=void 0;class i{constructor(){this.DisplayStandardSizes=[{width:88,height:[31]},{width:100,height:[150]},{width:120,height:[20,60,90,240,600,800]},{width:125,height:[125]},{width:160,height:[600,800]},{width:168,height:[28]},{width:180,height:[150,160,600]},{width:184,height:[90]},{width:200,height:[90,112,200,446]},{width:215,height:[125]},{width:216,height:[36]},{width:220,height:[90]},{width:234,height:[60]},{width:240,height:[133,400]},{width:250,height:[60,250,300,360,600]},{width:270,height:[202,460]},{width:272,height:[220]},{width:275,height:[300]},{width:292,height:[30]},{width:300,height:[31,50,90,100,200,225,250,268,413,600,618,850,1050]},{width:310,height:[175]},{width:315,height:[300]},{width:320,height:[20,50,75,100,320,360,480]},{width:336,height:[280,600,850]},{width:350,height:[50,200]},{width:375,height:[20,60,150]},{width:400,height:[225]},{width:405,height:[303]},{width:415,height:[20]},{width:440,height:[225,300]},{width:468,height:[60]},{width:550,height:[310,480]},{width:580,height:[400]},{width:600,height:[400]},{width:610,height:[100]},{width:613,height:[460]},{width:640,height:[90,360,480]},{width:700,height:[400,500]},{width:728,height:[90,120]},{width:745,height:[90]},{width:750,height:[30,100,200]},{width:800,height:[600]},{width:900,height:[240]},{width:930,height:[180,600]},{width:950,height:[90]},{width:954,height:[60]},{width:960,height:[90]},{width:970,height:[30,66,90,250,415,550]},{width:980,height:[90,120]},{width:1e3,height:[125]},{width:1008,height:[150]},{width:1140,height:[200]},{width:1250,height:[155]},{width:1280,height:[100]},{width:1680,height:[900]}],this.sizeCompare=(t,e)=>t.width>e.width?1:t.width<e.width?-1:0,this.VideoStandardSizes=[{width:150,height:[90]},{width:270,height:[150]},{width:300,height:[150,340]},{width:320,height:[570]},{width:360,height:[100,640]},{width:375,height:[210,670]},{width:415,height:[740]},{width:420,height:[240]},{width:450,height:[250]},{width:480,height:[270]},{width:510,height:[290]},{width:580,height:[330]},{width:610,height:[340]},{width:670,height:[380]},{width:740,height:[410]},{width:770,height:[1020]},{width:780,height:[440]},{width:800,height:[450]},{width:900,height:[500]},{width:1020,height:[580,770]},{width:1280,height:[720,800]},{width:1330,height:[660]},{width:1370,height:[770]},{width:1440,height:[900]},{width:1540,height:[860]},{width:1920,height:[1080]}].concat(this.DisplayStandardSizes).sort(this.sizeCompare)}getSizesTable(t){return 1===t?this.VideoStandardSizes:this.DisplayStandardSizes}getNearestAdSize(t,e,i){let n=this.getSizesTable(e);switch(i){case 5:return this.getNearestStandardAdSize(t,5,n);case 20:return this.getNearestStandardAdSize(t,20,n);default:return this.getNearestStandardAdSize(t,15,n)}}isStandardAdSize(t,e,i){return null!=this.getNearestAdSize(t,e,i)}getNearestStandardAdSize(t,e,i){let n=null;if(t&&t.width&&t.height){let s=t.width,r=t.height,o=i.length,a=0,u=0,c=Number.MAX_VALUE,d=Number.MAX_VALUE;for(;u<o&&s+e>=i[u].width;){let t=Math.abs(s-i[u].width);if(t<=e){a=i[u].height.length;let s=0;for(;s<a&&r+e>=i[u].height[s];){let o=Math.abs(r-i[u].height[s]);if(o<=e)if(t+o<c)d=i[u].width*i[u].height[s],c=t+o,n={width:i[u].width,height:i[u].height[s]};else if(t+o==c){let t=i[u].width*i[u].height[s];t<d&&(d=t,n={width:i[u].width,height:i[u].height[s]})}s++}}u++}}return n}}e.StandardSizesClass=i,e.StandardSizes=new i},3380:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Utilities=e.UtilitiesClass=void 0;const n=i(3868);class s{constructor(){this.loadTime=this.getCurrentTime(),this.MAX_GET_URL_LENGTH=8040}isExceedingMaxUrlLength(t){return t>this.MAX_GET_URL_LENGTH}getScriptLoadedMS(){return this.loadTime}setLoadVisitTime(){this.loadVisitTime=this.getCurrentTime()}getVersion(){return 7165}getCurrentTime(){return(Date.now||(new Date).getTime)()}getNavigationStartTime(t){const e=t?n.S.windowTop():dvWindow;return e&&e.performance&&e.performance.timing&&e.performance.timing.navigationStart}getTimeDiff(t){return t||(t=this.getCurrentTime()),Math.abs(t-this.loadTime)}getVisitTimeDiff(){const t=this.getCurrentTime();return Math.abs(t-(this.loadVisitTime||t))}getTimeDiffNoAbs(t){return t||(t=this.getCurrentTime()),t-this.loadTime}merge(t,e){if(t&&e)return t.concat(e).filter(((t,e,i)=>i.indexOf(t)==e))}isEmpty(t){return!t||0==Object.keys(t).length}isNullOrEmpty(t){return null==t||""===t}extend(t,e){t&&!this.isEmpty(t)&&e&&Object.keys(t).forEach((i=>e[i]=t[i]))}times(t,e){t>0&&(e(),this.times(t-1,e))}mapData(t,e,i=!1){return Object.keys(e).reduce(((n,s)=>{let r=e[s];return r&&!this.isNullOrEmpty(t[s])&&(n[r]=t[s],i&&delete e[s]),n}),{})}startsWith(t,e,i=!1){return t=i?t.toLowerCase():t,e=i?e.toLowerCase():e,0==t.indexOf(e,0)}deepComparison(t,e,i){let n=0;return t&&e?(Object.keys(i).filter((i=>!this.equal(t[i],e[i],!0))).forEach((t=>{n|=i[t]})),n):-1}removeDuplicateValues(t,e){t&&e&&Object.keys(t).filter((i=>this.isNullOrEmpty(t[i])||t[i]==e[i])).forEach((e=>delete t[e]))}equal(t,e,i=!1){return(t=i&&t&&t.toString().toLowerCase()||t)==(e=i&&e&&e.toString().toLowerCase()||e)||this.isNullOrEmpty(t)&&this.isNullOrEmpty(e)}getElementsDistance(t,e){let i=-1;if(t&&e)if(t==e)i=0;else{let n=this.getElementParentsList(t),s=this.getElementParentsList(e);if(n[0]!=s[0])i=-1;else{for(;n.length>0&&s.length>0&&n[0]==s[0];)n.shift(),s.shift();i=n.length+s.length}}else i=-1;return i}getElementParent(t){if(t)return t.parentNode}getElementParentsList(t){let e=[];if(t){let i=this.getElementParent(t);for(;i;)e.unshift(i),i=this.getElementParent(i)}return e}isInAppSupported(t){return t&&t.some((t=>3==t))}isCtvSupported(t){return t&&t.some((t=>4==t))}isLargeAd(t,e,i){return!(!t||i)&&t.height*t.width>=e}getIabVisiblePercentage(t){return t.percentage}isIabPageInFocus(t){return t.focus}isVideoElement(t){return t&&t.nodeName&&"video"==t.nodeName.toLocaleLowerCase()}resolveMacros(t,e){let i=Object.keys(e).reduce(((t,i)=>(t[i.toUpperCase()]=e[i],t)),{});return t.replace("[DV_PROTOCOL]",i.DV_PROTOCOL).replace("[PROTOCOL]",i.PROTOCOL).replace(/\[(.*?)\]/g,((t,e)=>{let n=i[e];return e.indexOf("URL")>-1&&n?decodeURIComponent(n):(null==n&&(n="["+e+"]"),encodeURIComponent(n))}))}updateDynamicParamsFlags(t,e){t&&t.length>0&&e&&(e.dvf=t.filter((t=>!!t)).join(","))}getQueryString(t,i,n,s){const r=e.Utilities.mapData(t,s);return e.Utilities.extend(i,r),this.updateDynamicParamsFlags(n,r),this.serializeObjectToQueryString(r,!1)}serializeObjectToQueryString(t,e){return Object.keys(t).filter((e=>void 0!==t[e])).map((i=>`${i}=${e?encodeURIComponent(t[i]):t[i]}`)).join("&").trim()}isQueryLengthBelowBrowserLimit(t,e,i,n,s){let r=!0;try{r=this.getQueryString(t,e,i,n).length+s.length<=7e3}catch(t){}return r}getElementVisiblePercentage(t,e){if(!t||!e||null==e.height||null==e.width)return;if(this.checkIfElementOutOfViewport(t,e)||t.width<=0||t.height<=0)return 0;let i=this.getVisibleWidth(t,e),n=this.getVisibleHeight(t,e);return Math.round(i*n/(t.width*t.height)*100)}checkIfElementOutOfViewport(t,e){return t.bottom<=0||t.bottom<=0||t.right<=0||t.top>=e.height||t.left>=e.width}getVisibleHeight(t,e){let i=t.height;return t.top<0?i=t.height+t.top:t.top+t.height>e.height&&(i=e.height-t.top),Math.min(i,e.height)}getVisibleWidth(t,e){let i=t.width;return t.left<0?i=t.width+t.left:t.left+t.width>e.width&&(i=e.width-t.left),Math.min(i,e.width)}arrayLikeToArray(t){if(t)return Array.prototype.slice.call(t)}DOMStringListToArray(t){let e=[];return t&&(e=Array.prototype.slice.call(t)),e}isHostTypeURL(t){try{const e=new URL(t);return this.isNullOrEmpty(e.pathname)||"/"==e.pathname}catch(t){}}getElementOffsetFromScreen(t){let e=0,i=0;try{if(t.getBoundingClientRect()){let n=t.getBoundingClientRect();e=n.left,i=n.top}for(t=t.parentElement;t;){if(t.tagName&&"iframe"===t.tagName.toLowerCase()&&t.getBoundingClientRect()){let n=t.getBoundingClientRect();e+=n.left,i+=n.top}t=t.parentElement}}catch(t){e=-1,i=-1}return{top:i,left:e}}isPercentageCriteriaPassed(t){return!(null==t||t>100||t<0)&&100*Math.random()<=t}getValBetweenMinAndMax(t,e,i){return t>e?t<i?t:i:e}isEmptyObject(t){return 0===Object.keys(t).length}objectValues(t){return Object.keys(t).map((e=>t[e]))}getParamValue(t,e){if(null!=t){let i=new RegExp("[\\?#&]("+e+")=([^&#?]*)","gi").exec(t);if(null!=i&&null!=i[2])return i[2]}return null}checkIfObjIsPartiallyInArray(t,e){return e.filter((e=>{let i=!0;return Object.keys(t).forEach((n=>{i=i&&e[n]===t[n]})),i})).length>0?t:{}}getRandom(){let t=1,e=Math.floor(10*Math.random())+1;for(let i=0;i<e;++i)t*=Math.random();return t}generateGuid(){return(new Date).getTime()*this.getRandom()+""}logDvSignal(t){try{const{$logDvSignal:e}=n.S.workingWindow();e&&"function"==typeof e&&e(t)}catch(t){}}extractElementType(t){var e;switch(null===(e=null==t?void 0:t.tagName)||void 0===e?void 0:e.toUpperCase()){case"IFRAME":return 1;case"SPAN":return 2;case"DIV":return 3;case"HTML":return 4;case"VIDEO":return 5;case"CANVAS":return 7;case"SVG":return 8;case"VIDEO-CANVAS":return 9;case"IMG":return 6;default:return 0}}isNumber(t){return"number"==typeof t&&isFinite(t)}isNumeric(t){return!isNaN(Number(t))}convertToArray(t){return t&&t.length>0?Array.prototype.slice.call(t):[]}countBy(t){let e={};return t.forEach((t=>{e[t]=e[t]?e[t]+1:1})),e}getKeyWithHighestValue(t){return Object.keys(t).length>0?Object.keys(t).reduce(((e,i)=>t[e]>t[i]?e:i)):null}generateAdler32Hash(t){let e=1,i=0;for(let n=0;n<t.length;n++)e+=t.charCodeAt(n),i+=e;return e%=65521,i%=65521,(i<<16|e)>>>0}pick(t,e){const i={};return e.forEach((e=>{i[e]=t[e]})),i}sumBuckets(t){return t.reduce(((t,e)=>t+(null!=e?e:0)),0)}}e.UtilitiesClass=s,e.Utilities=new s},3832:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.randomlySelectFromDistribution=e.isValidDistribution=void 0;e.isValidDistribution=t=>{if(null==t||0===t.length)return!1;return!t.some((({percentage:t})=>"number"!=typeof t||t<0||t>100))&&100==t.reduce(((t,{percentage:e})=>t+e),0)};e.randomlySelectFromDistribution=t=>{const e=100*Math.random();let i=0;for(const n of t){const t=i+n.percentage;if(e>=i&&e<t)return n.optionName;i=t}return null}},2478:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});const n=i(749);e.default={runSafelyWhenInvoked:(t,e)=>()=>{try{t()}catch(i){n.v.sendError(e,i,null==t?void 0:t.name)}}}},3567:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.VOLUME_MUTE_LEVEL=e.VOLUME_UNSUPPORTED=void 0,e.VOLUME_UNSUPPORTED=-1,e.VOLUME_MUTE_LEVEL=0;const i=new class{getVolumeLevel(t,i){return i?e.VOLUME_MUTE_LEVEL:this.isVolumeLevelSupported(t)?t:e.VOLUME_UNSUPPORTED}isVolumeLevelSupported(t){return"number"==typeof t&&!isNaN(t)&&t>=e.VOLUME_MUTE_LEVEL}isVolumeLevelMuted(t){return t===e.VOLUME_MUTE_LEVEL}};e.default=i},1966:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoPlaybackAdaptor=e.VideoPlaybackAdaptorClass=void 0;const n=i(3868);class s{getOvvObject(){return n.S.currentWindow().$ovv||n.S.workingWindow().$ovv}getADCObject(){return n.S.workingWindow().ADCAdUnitEventManager}}e.VideoPlaybackAdaptorClass=s,e.VideoPlaybackAdaptor=new s},2897:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.FlashOVVWrapper=void 0;const n=i(425),s=i(1966);e.FlashOVVWrapper=class{constructor(t){this.previousEvents=[],this.adVolume=null,this.callbacks={},this.viewabilityIntegrationType=1;let e=s.VideoPlaybackAdaptor.getOvvObject();if(!e)return;this.player=this.findPlayer(t),e.subscribe(["AdSkippableStateChange","AdSkipped","AdUserClose","AdStarted","AdImpression","AdVideoStart","AdStopped","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdExpandedChange","AdPaused","AdPlaying","AdVolumeChange","AdClickThru"],t,this.eventHandler.bind(this),!0)}eventHandler(t,e){try{"AdVolumeChange"==e.eventName&&e.ovvArgs&&null!=e.ovvArgs.ovvData.volume&&this.setAdVolume(e.ovvArgs.ovvData.volume),this.publish(e.eventName)}catch(t){}}findPlayer(t){try{let e=n.p.getElementsByTagNameFromDocument("embed");for(let i=0;i<e.length;i++)if(e[i][t]||e[i]["onJsReady"+t])return e[i];let i=n.p.getElementsByTagNameFromDocument("object");for(let e=0;e<i.length;e++)if(i[e][t]||i[e]["onJsReady"+t])return i[e]}catch(t){}return null}getPlayer(){return this.player}getSlot(){return this.player}getAdDuration(){}getAdSkippableState(){}getPreviousEvents(){return this.previousEvents}getAdVolume(){return this.adVolume}setAdVolume(t){this.adVolume=t}subscribe(t,e){this.callbacks[e]?this.callbacks[e].push(t):this.callbacks[e]=[t]}publish(t){if(this.previousEvents.push(t),this.callbacks[t])for(let e in this.callbacks[t])this.callbacks[t][e](t)}executeDVClientCallback(){}}},3121:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.DvVideoWrapper=void 0;e.DvVideoWrapper=class{constructor(){this.subscriptionId=1,this.subscribers={},this.previousEvents={}}subscribe(t,e,i){let n=[];for(let n in this.previousEvents[e])t.some((t=>t==this.previousEvents[e][n].eventName))&&i(e,this.previousEvents[e][n]);for(let s in t)this.subscribers[t[s]+e]||(this.subscribers[t[s]+e]=[]),this.subscriptionId++,this.subscribers[t[s]+e].push({func:i,subscriptionId:this.subscriptionId}),n.push(this.subscriptionId);return n}unsubscribe(t){t.forEach((t=>{Object.keys(this.subscribers).forEach((e=>{this.subscribers[e]=this.subscribers[e].filter((e=>e.subscriptionId!=t))}))}))}publish(t,e,i){if(this.previousEvents[e]||(this.previousEvents[e]=[]),this.previousEvents[e].push(i),t&&e&&this.subscribers[t+e]instanceof Array)for(let n=0;n<this.subscribers[t+e].length;n++){let s=this.subscribers[t+e][n].func;s&&"function"==typeof s&&s(e,i)}}}},1063:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VpaidWrapper=e.VpaidWrapperClass=void 0;const n=i(7749),s=i(3868),r=i(425),o=i(3350),a=i(3121),u=i(2897),c=i(712),d=i(749),l=i(8379);class h{start(){try{let t={name:"VpaidWrapper",message:void 0};if(1!=n.T.getTagType())return;this.currentWindow=s.S.currentWindow(),this.adid=n.T.getAdID(),this.adid?(this.dvVpaid=new a.DvVideoWrapper,this.vpaidWrapper=this.getVpaidWrapper(),this.vpaidWrapper?this.createAdAsset(this.adid)?this.subscribeToVpaidEvents(this.vpaidEventHandler.bind(this))?this.handlePreviousEvents():t.message="Failed to subscribe vpaid events":t.message="Failed to create ad asset":t.message="Failed to get vpaid wrapper"):t.message="Failed to get adid",t.message&&(this.dvVpaid=void 0,d.v.sendMessage({dvp_vperr:t.message}))}catch(t){this.dvVpaid=void 0,d.v.sendError(c.ClientErrorType.MeasurementError,t,"VPaidWrapper")}}getDvVpaid(){return this.dvVpaid}isSupported(){try{return"function"==typeof s.S.workingWindow().getVPAIDAd||this.adid&&"function"==typeof s.S.workingWindow()[this.adid]}catch(t){return!1}}getIntegrationType(){return 1}getVpaidWrapper(){try{if("function"==typeof s.S.workingWindow()[this.adid]){let t=s.S.workingWindow()[this.adid]();return t.viewabilityIntegrationType=2,t}return new u.FlashOVVWrapper(this.adid)}catch(t){return}}getPrevEvents(){return this.vpaidWrapper.getPreviousEvents?"function"==typeof this.vpaidWrapper.getPreviousEvents?this.vpaidWrapper.getPreviousEvents():this.vpaidWrapper.getPreviousEvents:[]}handlePreviousEvents(){let t=this.getPrevEvents();for(let e of t)this.vpaidEventHandler(e)}getAdVolume(){return this.vpaidWrapper.getAdVolume()}getAdMute(){let t=this.getPlayer();if(t){let e=t.muted;if(void 0===e)return 0;if("boolean"==typeof e)return Number(e)}return l.NOT_FOUND_OR_ERROR}vpaidEventHandler(t){if(this.dvVpaid){let e={eventName:t,eventTime:void 0,ovvArgs:{ovvData:{objLeft:void 0,objRight:void 0,objTop:void 0,objBottom:void 0,percentViewable:void 0,volume:this.getAdVolume(),muted:this.getAdMute(),adSkippableState:this.getAdSkippableState()}}};this.dvVpaid.publish(t,this.adid,e)}}subscribeToVpaidEvents(t){try{return this.vpaidWrapper.subscribe((function(){t("AdLoaded")}),"AdLoaded"),this.vpaidWrapper.subscribe((function(){t("AdImpression")}),"AdImpression"),this.vpaidWrapper.subscribe((function(){t("AdStopped")}),"AdStopped"),this.vpaidWrapper.subscribe((function(){t("AdError")}),"AdError"),this.vpaidWrapper.subscribe((function(){t("AdStarted")}),"AdStarted"),this.vpaidWrapper.subscribe((function(){t("AdSkipped")}),"AdSkipped"),this.vpaidWrapper.subscribe((function(){t("AdPaused")}),"AdPaused"),this.vpaidWrapper.subscribe((function(){t("AdSizeChange")}),"AdSizeChange"),this.vpaidWrapper.subscribe((function(){t("AdPlaying")}),"AdPlaying"),this.vpaidWrapper.subscribe((function(){t("AdExpandedChange")}),"AdExpandedChange"),this.vpaidWrapper.subscribe((function(){t("AdSkippableStateChange")}),"AdSkippableStateChange"),this.vpaidWrapper.subscribe((function(){t("AdLinearChange")}),"AdLinearChange"),this.vpaidWrapper.subscribe((function(){t("AdVideoStart")}),"AdVideoStart"),this.vpaidWrapper.subscribe((function(){t("AdUserAcceptInvitation")}),"AdUserAcceptInvitation"),this.vpaidWrapper.subscribe((function(){t("AdUserClose")}),"AdUserClose"),this.vpaidWrapper.subscribe((function(){t("AdUserMinimize")}),"AdUserMinimize"),this.vpaidWrapper.subscribe((function(){t("AdClickThru")}),"AdClickThru"),this.vpaidWrapper.subscribe((function(){t("AdInteraction")}),"AdInteraction"),this.vpaidWrapper.subscribe((function(){t("AdDurationChange")}),"AdDurationChange"),this.vpaidWrapper.subscribe((function(){t("AdRemainingTimeChange")}),"AdRemainingTimeChange"),this.vpaidWrapper.subscribe((function(){t("AdVolumeChange")}),"AdVolumeChange"),this.vpaidWrapper.subscribe((function(){t("AdVideoFirstQuartile")}),"AdVideoFirstQuartile"),this.vpaidWrapper.subscribe((function(){t("AdVideoMidpoint")}),"AdVideoMidpoint"),this.vpaidWrapper.subscribe((function(){t("AdVideoThirdQuartile")}),"AdVideoThirdQuartile"),this.vpaidWrapper.subscribe((function(){t("AdVideoComplete")}),"AdVideoComplete"),!0}catch(t){return!1}}getPlayer(){let t;try{t="function"==typeof this.vpaidWrapper.getPlayer?this.vpaidWrapper.getPlayer():this.vpaidWrapper.getPlayer,r.p.smartInstanceof(t,"HTMLElement",this.currentWindow)||(t=this.vpaidWrapper.getSlot())}catch(e){t=void 0}return t}getAdSkippableState(){let t;try{t="function"==typeof this.vpaidWrapper.getAdSkippableState?this.vpaidWrapper.getAdSkippableState():this.vpaidWrapper.adSkippableState}catch(t){}return t}getAdDuration(){let t;try{t="function"==typeof this.vpaidWrapper.getAdDuration?this.vpaidWrapper.getAdDuration():this.vpaidWrapper.adDuration}catch(t){}return t}getExecuteDVClientCallback(){if("function"==typeof this.vpaidWrapper.executeDVClientCallback)return this.vpaidWrapper.executeDVClientCallback}createAdAsset(t){let e=this.getPlayer();const i=this.getAdDuration(),n=this.getAdSkippableState();if(e){let s=this.getExecuteDVClientCallback(),r=new o.AdAsset(t,e,i,n,s);return this.dvVpaid.asset=r,this.dvVpaid.viewabilityIntegrationType=this.vpaidWrapper.viewabilityIntegrationType,!0}return!1}}e.VpaidWrapperClass=h,e.VpaidWrapper=new h},3868:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.S=e.Pt=void 0;const n=i(2614),s=i(194);class r{constructor(){this.topWinAvailable=!0,this.maxIterations=1e3,this.trafficScenarioType=0}currentWindow(){return dvWindow}currentDocument(){return document}workingWindow(){return 3==this.getScriptInjectionMode()?this.currentWindow().parent:this.currentWindow()}workingDocument(t=this.workingWindow()){let e;return t&&(e=t.document),e}workingBody(t=this.workingDocument()){let e;return t&&(e=t.body),e}workingDocumentElement(){let t,e=this.workingDocument();return e&&(t=e.documentElement),t}windowTop(t){if(this.topWinAvailable||t)try{if(t)return this.currentWindow().top;if(this.currentWindow().top.document)return this.currentWindow().top}catch(t){this.topWinAvailable=!1}}isTop(t){return t==this.windowTop(!0)}documentTop(){let t,e=this.windowTop();return e&&(t=e.document),t}getWindowParent(t,e){try{if(e)return t.parent;if(t.parent.document)return t.parent}catch(t){}}windowName(){return this.currentWindow().name||(this.currentWindow().frameElement?this.currentWindow().frameElement.id:"")}getFrameElement(t){try{return t!==this.currentWindow()&&128==(128&this.getScenarioType())?null:t&&t.frameElement}catch(t){}}getIframeWindow(t){if(t)return t.contentWindow}getDefaultWindow(t){try{if(!t||!t.ownerDocument)return;return t.ownerDocument.defaultView}catch(t){}}getElementWindowDimensions(t){try{const e=this.getDefaultWindow(t);return e?(({innerHeight:t,innerWidth:e})=>({height:t,width:e}))(e):null}catch(t){}}isDomlessEnvironment(){return!1}isIOS(){try{const t=this.workingWindow().navigator;return(/iPhone|iPad|iPod|\(Apple TV|iOS|Coremedia|CFNetwork\/.*Darwin/i.test(t.userAgent)||t.vendor&&"apple, inc."===t.vendor.toLowerCase())&&!this.workingWindow().MSStream}catch(t){}}isFencedFrameAPIAvailable(){const t=this.workingWindow().fence,e=this.workingWindow().Fence;return!(!t||!e)&&t instanceof e}getWindowProtocol(){return"https:"}setTopAccessibleWindow(){let t=this.workingWindow();try{let e=0;for(;!this.isTop(t)&&e<this.maxIterations;){const i=this.getWindowParent(t,!0);if(!i.document)break;t=i,e++}}catch(t){}this.topAccessibleWindow=t}getTopAccessibleWindow(){return this.topAccessibleWindow||this.setTopAccessibleWindow(),this.topAccessibleWindow}setScenarioType(){if(this.isTop(this.workingWindow())){if(this.isFencedFrameAPIAvailable())return void(this.trafficScenarioType=32);this.trafficScenarioType=1}else this.isTop(this.getTopAccessibleWindow())?this.trafficScenarioType=2:this.trafficScenarioType=128;s.I.isRestrictedAccess()&&(this.trafficScenarioType|=8)}getScenarioType(){return this.trafficScenarioType||this.setScenarioType(),this.trafficScenarioType}getScriptInjectionMode(){return this.scriptInjectionMode||this.setScriptInjectionMode(),this.scriptInjectionMode}setScriptInjectionMode(){switch(s.I.getScriptInjectionMode()){case"injectedAsSibling":return void(this.scriptInjectionMode=2);case"injectedInIframe":return void(this.scriptInjectionMode=3);default:return void(this.scriptInjectionMode=0)}}objectLookup(t,e,i){try{const n=t[e];if(n)return n;if(!this.isTop(t)&&i>0)return this.objectLookup(this.getWindowParent(t,!0),e,i-1)}catch(t){}}getUserAgent(){return this.workingWindow().navigator&&this.workingWindow().navigator.userAgent}getBaseFileNameFromURL(t){var e,i,n,s;const r=null===(s=null===(n=null===(i=null===(e=t.pathname)||void 0===e?void 0:e.split("/"))||void 0===i?void 0:i.pop())||void 0===n?void 0:n.split("."))||void 0===s?void 0:s.shift();return null==r?void 0:r.replace(/\d+$/,"")}monitorScriptsPerformance(t,e){let i={};try{if(!t.performance||!t.performance.getEntries)return i;const n=Object.keys(e),s=t.performance.getEntries().filter((t=>"resource"===t.entryType.toLocaleLowerCase())).filter((t=>n.some((e=>t.name.includes(`/${e}`)))));for(const t of s){const n=new URL(t.name),s=this.getBaseFileNameFromURL(n),r=e[s];if(r&&r.length)for(const e of r)i[`${s}_${e}`]=Math.round(t[e])}}catch(t){}return i}getVisibilityState(){try{return this.workingDocument().visibilityState}catch(t){}}getNavigator(){return this.currentWindow().navigator}isCryptoSupported(){return"undefined"!=typeof crypto}isMessageChannelSupported(){return"undefined"!=typeof MessageChannel}isPostMessageSupported(t=this.workingWindow()){return t&&"function"==typeof t.postMessage}isNodeSupported(){return"undefined"!=typeof Node}getCurrentScript(){return this.currentDocument().currentScript}isPerformanceAPISupported(){let t=this.currentWindow();return!(!t.performance||"function"!=typeof t.performance.mark||"function"!=typeof t.performance.measure||"function"!=typeof t.performance.getEntriesByName)}getNumberOfCores(){if(this.getNavigator())return this.getNavigator().hardwareConcurrency}setGlobalVariable(t,e){window[t]=e}}e.Pt=r;const o=s.I.It(),a=o&&o.isDomlessEnvironment;e.S=a?new n.WindowOmidAdaptorClass:new r},2614:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.WindowOmidAdaptorClass=e.WindowMock=void 0;e.WindowMock=class{getWindowMockInstance(){return{location:{protocol:"https:"},document:{body:{insertBefore:function(t,e){}},getElementById:function(t){},createElement:function(t){},querySelectorAll:function(t){}}}}};e.WindowOmidAdaptorClass=class{constructor(){this.windowMock=dvWindow}currentWindow(){return this.windowMock}currentDocument(){return this.currentWindow().document}workingWindow(){return this.currentWindow()}workingBody(){return this.currentWindow().document.body}workingDocument(){return this.currentDocument()}workingDocumentElement(){}windowTop(t){return this.currentWindow()}isTop(t){return!0}documentTop(){return this.currentDocument()}getWindowParent(t,e){}windowName(){return""}getIframeWindow(t){}getFrameElement(t){}getDefaultWindow(t){}isDomlessEnvironment(){return!0}isIOS(){return!0}isFencedFrameAPIAvailable(){return!1}getWindowProtocol(){return"https:"}getTopAccessibleWindow(){return this.workingWindow()}getScenarioType(){return 4}getScriptInjectionMode(){return 0}objectLookup(t,e,i){}getUserAgent(){}monitorScriptsPerformance(t,e){return{}}getVisibilityState(){}getNavigator(){}isCryptoSupported(){return"undefined"!=typeof crypto}isMessageChannelSupported(){return!1}isPostMessageSupported(){return!1}isNodeSupported(){return"undefined"!=typeof Node}getCurrentScript(){}isPerformanceAPISupported(){return!1}getNumberOfCores(){}setGlobalVariable(t,e){globalThis[t]=e}}},3285:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.CELTRA_AD_SERVER_ID=e.DFA_AD_SERVER_ID=void 0,e.DFA_AD_SERVER_ID="1",e.CELTRA_AD_SERVER_ID="179"},630:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.OmidImpressionType=e.OmidAdEventType=e.OmidCreativeType=e.OmidAccessModeString=void 0,e.OmidAccessModeString={FULL:"full",DOMAIN:"domain",LIMITED:"limited"},e.OmidCreativeType={UNKNOWN:"unknown",NATIVE_DISPLAY:"nativeDisplay",HTML_DISPLAY:"htmlDisplay",VIDEO:"video",AUDIO:"audio"},e.OmidAdEventType={IMPRESSION:"impression",LOADED:"loaded",GEOMETRY_CHANGE:"geometryChange",SESSION_START:"sessionStart",SESSION_ERROR:"sessionError",SESSION_FINISH:"sessionFinish",MEDIA:"media",VIDEO:"video",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction"},e.OmidImpressionType={DEFINED_BY_JAVASCRIPT:"definedByJavaScript",UNSPECIFIED:"unspecified",LOADED:"loaded",BEGIN_TO_RENDER:"beginToRender",ONE_PIXEL:"onePixel",VIEWABLE:"viewable",AUDIBLE:"audible",OTHER:"other",UNKNOWN:"unknown"}},5492:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdColonyMethod=e.AdColonyMethodClass=void 0;const n=i(1439),s=i(712),r=i(6681),o=i(425);class a{constructor(){this.exposureChangeRegistered=!1}isSupported(t){let e,i,n,s,o;try{if(!r.MraidWrapper.isSupported())return!1;o=r.MraidWrapper.runMraidFunctionSafely("getSDKVersion");let t=o.split(".");e=t[0],i=t[1],n=e>3||3==e&&i>=4,s=r.MraidWrapper.isAdColony()}catch(t){}return!(!n||!s)&&(t.mraidVersion=o.toString(),!0)}registerExposureChange(){this.exposureChangeRegistered||(r.MraidWrapper.runMraidRegisterSafely("exposureChange",this.handleExposureChangeEvent.bind(this)),this.exposureChangeRegistered=!0)}getAdCandidateAssets(t){if(r.MraidWrapper.getIsMraidReady())return this.registerExposureChange(),{viewportSize:this.getViewportSize(),screenSize:this.getScreenSize(),adGeometric:(0,n.createNormalisedGeometry)(r.MraidWrapper.runMraidFunctionSafely("getDefaultPosition")),percentage:this.viewabilityPercentage,viewabilityCalculationType:this.getMethodId()}}getViewportSize(){return r.MraidWrapper.runMraidFunctionSafely("getScreenSize")}getScreenSize(){let t,e;const i=this.getViewportSize();return({height:t,width:e}=i||o.p.getScreenSize()),{height:t,width:e}}getMethodId(){return s.ViewabilityCalculationType.AdColonyMraid}destroyAdCandidateMethod(){}handleExposureChangeEvent(t){this.viewabilityPercentage=t}}e.AdColonyMethodClass=a,e.AdColonyMethod=new a},8253:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AmpIntersectionObserverMethod=e.AmpIntersectionObserverMethodClass=void 0;const n=i(1439),s=i(425),r=i(712),o=i(3868),a=i(3946),u=i(7537);class c extends u.WebCalculationMethodBase{isSupported(t){const e=t.windowElement,i=a.BrowserDetector.getBrowserId()!=r.Browser.IE||parseInt(a.BrowserDetector.getBrowserVersion())>11,n=128==(128&o.S.getScenarioType());return i&&n&&!(!e.context||!e.context.observeIntersection)}getAdCandidateAssets(t){const e=t.domElement,i=this.getWrapperSize(t);this.init(t);const r=s.p.getBoundingClientRect(e),o=this.getAdViewablePercentage(t);let a=this.getAdPosition(t);return{viewportSize:this.getViewportSize(t.windowElement),wrapperSize:i,screenSize:this.getScreenSize(),adGeometric:(0,n.createNormalisedGeometry)({x:a.left,y:a.top,width:r.width,height:r.height}),percentage:o,viewabilityCalculationType:this.getMethodId()}}getViewportSize(t){return s.p.getOuterViewport(t)}getMethodId(){return r.ViewabilityCalculationType.AmpIntersectionObserver}destroyAdCandidateMethod(t){t.ampIntersectionObserverStopFunction&&t.ampIntersectionObserverStopFunction()}getAdViewablePercentage(t){return t.intersectionObserverData?100*t.intersectionObserverData.intersectionRatio:0}getAdPosition(t){if(!t.intersectionObserverData)return{top:0,left:0};let e=t.intersectionObserverData.boundingClientRect;return{top:e.top,left:e.left}}init(t){if(t.ampIntersectionObserverStopFunction)return;const e=t.windowElement,i=this.visibilityChangeCallback.bind(this,t);t.ampIntersectionObserverStopFunction=e.context.observeIntersection(i)}visibilityChangeCallback(t,e){e.forEach((e=>t.intersectionObserverData=e))}}e.AmpIntersectionObserverMethodClass=c,e.AmpIntersectionObserverMethod=new c},2434:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=()=>{window.isReady=!1,window.animateFrameRate=0;let t=0,e=0;const i=function(e){t++,requestAnimationFrame(i)};requestAnimationFrame(i),setInterval((()=>{t<10&&requestAnimationFrame(i),window.animateFrameRate=t-e,e=t}),100),setTimeout((()=>{window.isReady=!0}),250)}},4254:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.GeometricMethod=e.GeometricMethodClass=void 0;const n=i(1439),s=i(425),r=i(3868),o=i(712),a=i(3380),u=i(749),c=i(7537);class d extends c.WebCalculationMethodBase{isSupported(){return(3&r.S.getScenarioType())>0}getAdCandidateAssets(t){const e=t.domElement,i=t.windowElement,s=this.getAssetVisibleDimension(e,i),r=this.getAssetPercentageInViewRelativeToDirectParent(e,i),o=this.getViewportSize(),u=this.getWrapperSize(t),c=this.getOffScreenAssetVisibleDimension(s,i),d=this.getOffScreenViewportSize(i);let l=a.Utilities.getElementVisiblePercentage(s,o);l&&r&&(l*=r);const h=a.Utilities.getElementVisiblePercentage(c,d);return{viewportSize:o,wrapperSize:u,screenSize:this.getScreenSize(),adGeometric:(0,n.createNormalisedGeometry)({y:s.top,x:s.left,width:s.width,height:s.height}),percentage:l,offScreenPercentage:h,viewabilityCalculationType:this.getMethodId()}}getViewportSize(){return s.p.getInnerViewport()}getMethodId(){return o.ViewabilityCalculationType.Geometric}getBoundariesViewability(t){const e=t.domElement,i=this.getAssetVisibleDimension(e,t.windowElement),n=this.getViewportSize();let s={topLeft:!0,topRight:!0,bottomLeft:!0,bottomRight:!0};return(i.top<0||i.top>n.height)&&(s.topLeft=s.topRight=!1),(i.bottom<0||i.bottom>n.height)&&(s.bottomLeft=s.bottomRight=!1),(i.left<0||i.left>n.width)&&(s.bottomLeft=s.topLeft=!1),(i.right<0||i.right>n.width)&&(s.bottomRight=s.topRight=!1),s}getOffScreenViewportSize(t){let e={width:this.getViewportSize().width,height:this.getViewportSize().height};const i=s.p.getViewportAssetsRelativeToScreen(t),n=s.p.getOuterViewport(t).height-e.height,r=i.top+n,o=s.p.getScreenSize();return i.left<0?e.width+=i.left:i.left>0&&i.left+e.width>o.width&&(e.width=o.width-i.left),r>0&&r+e.height>o.height&&(e.height=o.height-r),e}getAssetVisibleDimension(t,e){let i={width:0,height:0,left:0,right:0,top:0,bottom:0};const n=r.S.getWindowParent(e);try{if(t&&(i=this.getElementPositionRelativeToViewport(t,e),e!=n)){let t=this.getAssetVisibleDimension(e.frameElement,n);i.bottom=Math.min(i.bottom,t.bottom),i.top=Math.max(i.top,t.top),i.right=Math.min(i.right,t.right),i.left=Math.max(i.left,t.left),i.width=i.right-i.left,i.height=i.bottom-i.top}}catch(t){}return i}getAssetPercentageInViewRelativeToDirectParent(t,e){try{const i=this.getAssetVisibleDimension(t,e);if(t){const e=s.p.getBoundingClientRect(t),n=e.right-e.left,r=(e.bottom-e.top)*n;if(r<=0)return;return i.height*i.width/r}}catch(t){u.v.sendError(o.ClientErrorType.MeasurementError,t,"percentage_in_view_geometric_calculation_err")}}getOffScreenAssetVisibleDimension(t,e){const i=s.p.getViewportAssetsRelativeToScreen(e).left,n={left:t.left,right:t.right,top:t.top,bottom:t.bottom,height:t.height,width:t.width};return i<0&&(n.left+=i,n.right+=i),n}getElementPositionRelativeToViewport(t,e){let i={left:0,right:0,top:0,bottom:0,width:0,height:0};const n=r.S.getWindowParent(e),o=s.p.getBoundingClientRect(t);return e!=n&&(i=this.getElementPositionRelativeToViewport(e.frameElement,n)),i={left:o.left+i.left,right:o.right+i.left,top:o.top+i.top,bottom:o.bottom+i.top,width:Math.ceil(o.width),height:Math.ceil(o.height)},i}}e.GeometricMethodClass=d,e.GeometricMethod=new d},9965:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.IntersectionObserverMethod=e.IntersectionObserverMethodClass=void 0;const n=i(1439),s=i(425),r=i(712),o=i(3868),a=i(7537);class u extends a.WebCalculationMethodBase{constructor(){super(...arguments),this.threshold=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}isSupported(t){return(160&o.S.getScenarioType())>0&&this.isIntersectionObserverSupported(t.windowElement)}isIntersectionObserverSupported(t){return"IntersectionObserver"in t&&"IntersectionObserverEntry"in t&&"intersectionRatio"in t.IntersectionObserverEntry.prototype}getAdCandidateAssets(t){const e=t.domElement,i=this.getWrapperSize(t);this.init(t);const r=s.p.getBoundingClientRect(e),o=this.getAdViewablePercentage(t);let a=this.getAdPosition(t);return{viewportSize:this.getViewportSize(t.windowElement),wrapperSize:i,screenSize:this.getScreenSize(),adGeometric:(0,n.createNormalisedGeometry)({x:a.left,y:a.top,width:r.width,height:r.height}),percentage:o,viewabilityCalculationType:this.getMethodId()}}getViewportSize(t){return s.p.getOuterViewport(t)}getMethodId(){return r.ViewabilityCalculationType.IntersectionObserver}destroyAdCandidateMethod(t){t.intersectionObserverObj&&t.intersectionObserverObj.unobserve(t.domElement)}getAdViewablePercentage(t){return t.intersectionObserverData&&t.intersectionObserverData.intersectionRatio?100*t.intersectionObserverData.intersectionRatio:0}getAdPosition(t){let e={top:0,left:0};return t.intersectionObserverData&&t.intersectionObserverData.intersectionRect&&(e={top:t.intersectionObserverData.intersectionRect.top,left:t.intersectionObserverData.intersectionRect.left}),e}init(t){if(t.intersectionObserverObj)return;const e=t.domElement,i=this.visibilityChangeCallback.bind(this,t);t.intersectionObserverObj=new t.windowElement.IntersectionObserver(i,{threshold:this.threshold}),t.intersectionObserverObj.observe(e)}visibilityChangeCallback(t,e){e.forEach((e=>t.intersectionObserverData=e))}}e.IntersectionObserverMethodClass=u,e.IntersectionObserverMethod=new u},8781:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Mraid3Method=e.Mraid3MethodClass=void 0;const n=i(1439),s=i(712),r=i(6681),o=i(425);class a{constructor(){this.exposureChangeRegistered=!1}isSupported(t){let e,i;try{i=r.MraidWrapper.runMraidFunctionSafely("getVersion"),e=i.split(".")[0]}catch(t){}return!(!r.MraidWrapper.isSupported()||"3"!=e)&&(t.mraidVersion=i,!0)}registerExposureChange(){this.exposureChangeRegistered||(r.MraidWrapper.runMraidRegisterSafely("exposureChange",this.handleExposureChangeEvent.bind(this)),this.exposureChangeRegistered=!0)}handleExposureChangeEvent(t){this.viewabilityPercentage=t.exposedPercentage}getAdCandidateAssets(t){if(r.MraidWrapper.getIsMraidReady())return this.registerExposureChange(),{viewportSize:this.getViewportSize(),screenSize:this.getScreenSize(),adGeometric:(0,n.createNormalisedGeometry)(r.MraidWrapper.runMraidFunctionSafely("getDefaultPosition")),percentage:null!=this.viewabilityPercentage?this.viewabilityPercentage:r.MraidWrapper.getAdViewablePercentage(),viewabilityCalculationType:this.getMethodId()}}getViewportSize(){return r.MraidWrapper.runMraidFunctionSafely("getScreenSize")}getScreenSize(){let t,e;const i=this.getViewportSize();return({height:t,width:e}=i||o.p.getScreenSize()),{height:t,width:e}}getMethodId(){return s.ViewabilityCalculationType.Mraid3}destroyAdCandidateMethod(){}}e.Mraid3MethodClass=a,e.Mraid3Method=new a},8317:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.MraidMethod=e.MraidMethodClass=void 0;const n=i(1439),s=i(712),r=i(6681),o=i(425);class a{isSupported(t){return!!r.MraidWrapper.isSupported()&&(t.mraidVersion=r.MraidWrapper.runMraidFunctionSafely("getVersion"),!0)}getAdCandidateAssets(t){if(r.MraidWrapper.getIsMraidReady()){const t=(0,n.createNormalisedGeometry)(r.MraidWrapper.runMraidFunctionSafely("getDefaultPosition")),e={width:null==t?void 0:t.width,height:null==t?void 0:t.height};return{viewportSize:this.getViewportSize(),wrapperSize:e,screenSize:this.getScreenSize(),adGeometric:t,percentage:r.MraidWrapper.getAdViewablePercentage(),viewabilityCalculationType:this.getMethodId()}}}getViewportSize(){return r.MraidWrapper.runMraidFunctionSafely("getScreenSize")}getScreenSize(){let t,e;const i=this.getViewportSize();return({height:t,width:e}=i||o.p.getScreenSize()),{height:t,width:e}}getMethodId(){return s.ViewabilityCalculationType.Mraid}destroyAdCandidateMethod(){}}e.MraidMethodClass=a,e.MraidMethod=new a},8996:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.OmidMethod=e.OmidMethodClass=void 0;const n=i(1439),s=i(712),r=i(870),o=i(425),a=i(8379),u=i(7360),c=i(9450),d=i(3380),l=i(8170);class h{isSupported(t){return r.omidAdapter.isSupported()}getAdCandidateAssets(t){this.init(t);let e,i,n,s=t.omidViewport,r=t.omidWrapperSize,o=0;if(t.omidAdView&&(e=t.omidAdView.percentageInView,i=t.omidAdView.geometry,n=t.omidAdView.reasons),Array.isArray(n)&&n.length){n.forEach((t=>o|=a.OmidGeometryReasonLog[t]));const e=t.omidGeometryReasonsBitWise|o;o&&e!=t.omidGeometryReasonsBitWise&&(t.omidGeometryReasonsBitWise=e,u.u.dispatchEvent(u.DvEvent.reportData,new c.AdCandidateEventData(t)))}return{viewportSize:s,screenSize:this.getScreenSize(null,t),adGeometric:i,percentage:e,viewabilityCalculationType:this.getMethodId(),wrapperSize:r}}getViewportSize(t,e){return e.omidViewport}getScreenSize(t,e){let i,n;const s=this.getViewportSize(null,e);return({height:i,width:n}=s||o.p.getScreenSize()),{height:i,width:n}}getMethodId(){return s.ViewabilityCalculationType.Omid}destroyAdCandidateMethod(){}init(t){t.omidInitialized||(t.omidInitialized=!0,["geometryChange","impression"].forEach((e=>r.omidAdapter.addEventListener(e,this.geometryChangeCallback.bind(this,t,e)))))}geometryChangeCallback(t,e,i){if(i&&i.data){let s=i.data;if(s.adView){const r=(0,n.createNormalisedGeometry)(s.adView.geometry);t.omidAdView=Object.assign(Object.assign({},s.adView),{geometry:r}),"geometryChange"===e&&!t.omidFirstAdSizeFromGeometryMs&&s.adView.geometry&&s.adView.geometry.width>0&&s.adView.geometry.height>0&&(t.omidFirstAdSizeFromGeometryMs=d.Utilities.getTimeDiff(),t.omidMeasuredElementType=this.extractMeasuredElementType(s.adView),t.omidWrapperSize=this.extractWrapperSize(i),l.DiagnosticParamsSingleton.reportDiagnosticParam(l.DiagnosticParams.omidFirstAdSizeFromGeometryMs,t.omidFirstAdSizeFromGeometryMs))}s.viewport&&(t.omidViewport=s.viewport)}}extractWrapperSize(t){var e;try{const i=null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.adView,n=null==i?void 0:i.measuringElement,s=({height:t,width:e}={})=>({height:t,width:e});if(n)return s(i.containerGeometry);const r=null==i?void 0:i.geometry;if(r)return s(r)}catch(t){}}extractMeasuredElementType(t){try{return!0===(null==t?void 0:t.measuringElement)?1:2}catch(t){return 0}}}e.OmidMethodClass=h,e.OmidMethod=new h},986:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceBased=e.ResourceBasedClass=void 0;const n=i(1439),s=i(425),r=i(712),o=i(3868),a=i(3380),u=i(5999),c=i(3946),d=i(2434),l=i(7537);class h extends l.WebCalculationMethodBase{isSupported(){const t=(c.BrowserDetector.getBrowserId()==r.Browser.Safari||c.BrowserDetector.getBrowserId()==r.Browser.SafariWebView)&&!/^[3-8]/.test(c.BrowserDetector.getBrowserVersion())||(c.BrowserDetector.getBrowserId()==r.Browser.Chrome||c.BrowserDetector.getBrowserId()==r.Browser.ChromeWebView)&&parseInt(c.BrowserDetector.getBrowserVersion())>=50;return 128==(128&o.S.getScenarioType())&&t}getAdCandidateAssets(t){t.resourceBasedBeacons||this.createFrameBeacons(t);const e=this.getWrapperSize(t),i=t.domElement,r=s.p.getBoundingClientRect(i);let o;if(this.checkBeaconsMechanism(t)){const e=t.resourceBasedBeacons[0];o=u.BeaconsAdaptor.getElementVisiblePercentageWithBeacons(t.resourceBasedBeacons,this.isBeaconViewable.bind(this,e))}return{viewportSize:this.getViewportSize(t.windowElement),wrapperSize:e,screenSize:this.getScreenSize(),adGeometric:(0,n.createNormalisedGeometry)({x:0,y:0,width:null==r?void 0:r.width,height:null==r?void 0:r.height}),percentage:o,viewabilityCalculationType:this.getMethodId()}}getViewportSize(t){return s.p.getOuterViewport(t)}getMethodId(){return r.ViewabilityCalculationType.ResourceBased}destroyAdCandidateMethod(t){if(!t.resourceBasedBeacons)return;const e=t.resourceBasedBeacons[0].parentElement,i=o.S.workingDocument(t.windowElement);o.S.workingBody(i).removeChild(e),t.resourceBasedBeacons=null}getBoundariesViewability(t){t.resourceBasedBeacons||this.createFrameBeacons(t);let e={topLeft:!1,topRight:!1,bottomLeft:!1,bottomRight:!1};if(!this.checkBeaconsMechanism(t))return e;const i=t.resourceBasedBeacons[0];for(let n=1;n<=4;n++){const s=t.resourceBasedBeacons[n];if(this.isBeaconViewable(i,s))switch(n){case 1:e.topLeft=!0;break;case 2:e.topRight=!0;break;case 3:e.bottomLeft=!0;break;case 4:e.bottomRight=!0}}return e}isBeaconViewable(t,e){const i=o.S.getIframeWindow(t).animateFrameRate;return o.S.getIframeWindow(e).animateFrameRate-i>5}createFrameBeacons(t){t.resourceBasedBeacons=[];const e=o.S.workingDocument(t.windowElement),i=s.p.createElement("div");o.S.workingBody(e).appendChild(i);let n=[];a.Utilities.times(14,(()=>{const t=s.p.createElement("iframe");t.width=8..toString(),t.height=8..toString(),t.style.position="absolute",t.frameBorder="0",t.style.visibility="hidden",i.appendChild(t);const e=t.contentDocument.createElement("script");e.innerHTML=`(${d.default.toString()})()`,t.contentDocument.body.appendChild(e),n.push(t)})),t.resourceBasedBeacons=n,u.BeaconsAdaptor.positionBeacons(t.domElement,n,8)}checkBeaconsMechanism(t){if(!t.resourceBasedBeacons||0==t.resourceBasedBeacons.length)return!1;const e=t.resourceBasedBeacons[0],i=o.S.getIframeWindow(e),n=i.animateFrameRate;return i.isReady&&n<7}}e.ResourceBasedClass=h,e.ResourceBased=new h},6662:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScreenGeometricMethod=e.ScreenGeometricMethodClass=void 0;const n=i(1439),s=i(425),r=i(712),o=i(3946),a=i(3868),u=i(3380),c=i(7537);class d extends c.WebCalculationMethodBase{isSupported(t){const e=t.windowElement,i=128==(128&a.S.getScenarioType()),n=o.BrowserDetector.getBrowserId()==r.Browser.IE&&null!=e.screenTop&&null!=e.screenLeft,s=o.BrowserDetector.getBrowserId()==r.Browser.Firefox&&null!=e.mozInnerScreenX&&null!=e.mozInnerScreenY;return i&&(n||s)}getAdCandidateAssets(t){const e=t.domElement,i=this.getViewportSize(t.windowElement),r=this.getWrapperSize(t);let o={width:0,height:0,left:0,right:0,top:0,bottom:0};const a=s.p.getViewportAssetsRelativeToScreen(t.windowElement),c=s.p.getIframeAssetsRelativeToScreen(t.windowElement),d=c.left-a.left,l=c.top-a.top,h=s.p.getBoundingClientRect(e);o.left=d+h.left,o.right=d+h.right,o.top=l+h.top,o.bottom=l+h.bottom,o.width=Math.ceil(h.width),o.height=Math.ceil(h.height);const v=u.Utilities.getElementVisiblePercentage(o,i);return{viewportSize:this.getViewportSize(t.windowElement),wrapperSize:r,screenSize:this.getScreenSize(),adGeometric:(0,n.createNormalisedGeometry)({x:o.left,y:o.top,width:o.width,height:o.height}),percentage:v,viewabilityCalculationType:this.getMethodId()}}getViewportSize(t){return s.p.getOuterViewport(t)}getMethodId(){return r.ViewabilityCalculationType.ScreenGeometric}}e.ScreenGeometricMethodClass=d,e.ScreenGeometricMethod=new d},7537:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.WebCalculationMethodBase=void 0;const n=i(3868),s=i(425);e.WebCalculationMethodBase=class{getWrapperSize(t){try{return n.S.getElementWindowDimensions(t.domElement)}catch(t){}}getScreenSize(){return s.p.getScreenSize()}destroyAdCandidateMethod(t){}}},7815:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenAdsDataCollector=void 0;const n=i(912),s=i(194),r=i(425),o=i(3868),a=i(7749),u=i(3380);class c extends n.BaseAdDataCollector{isSupported(){return!(o.S.isDomlessEnvironment()||128==(128&o.S.getScenarioType()))}startCollectData(t){let e=0;try{let i=a.T.isSellerTag(),n=u.Utilities.isPercentageCriteriaPassed(5),o=s.I.isCTV()||s.I.isMobileApp()||t.supportedDeliveryType.some((t=>3==t||4==t));e=!n||i||o||!t.domElement?0:r.p.isAdElementHidden(t.domElement)}catch(t){e=-1}t.hiddenAdsIndicator=e}stopCollectData(t){}}e.HiddenAdsDataCollector=c},1194:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AutoplayDataCollector=void 0;const n=i(912),s=i(7749),r=i(3939),o=i(7360),a=i(9205),u=i(6942);class c extends n.BaseAdDataCollector{isSupported(){return 1==s.T.getTagType()}startCollectData(t){let e=o.u.addEventListener(o.DvEvent.videoStartPlaying,this.checkIsAutoplay.bind(this));t.autoplayEventSubscriptionIds.push(e)}stopCollectData(t){o.u.removeEventListener(t.autoplayEventSubscriptionIds[0])}getSupportedAutoplayMethods(t){return[r.DetectAutoplayByAutoplayAttribute,a.DetectAutoplayByTime,u.DetectAutoplayByJWPlayer].filter((e=>e.isSupported(t)))}checkIsAutoplay(t){let e=t.adCandidate;if(void 0===e.autoplayDetectionMethod){let t=e,i=this.getSupportedAutoplayMethods(e);t.autoplayDetectionMethod=0,i.forEach((function(i){i.isAutoplayed(e)&&(t.autoplayDetectionMethod=t.autoplayDetectionMethod|i.getMethodId())}))}}}e.AutoplayDataCollector=c},3939:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DetectAutoplayByAutoplayAttribute=e.DetectAutoplayByAutoplayAttributeClass=void 0;const n=i(3380),s=i(425);class r{isSupported(t){return t&&n.Utilities.isVideoElement(t.domElement)}getMethodId(){return 1}isAutoplayed(t){return s.p.getAttribute(t.domElement,"autoplay")||!1}}e.DetectAutoplayByAutoplayAttributeClass=r,e.DetectAutoplayByAutoplayAttribute=new r},6942:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DetectAutoplayByJWPlayer=e.DetectAutoplayByJWPlayerClass=void 0;const n=i(3868);class s{isSupported(){return"function"==typeof n.S.workingWindow().jwplayer}getMethodId(){return 2}isAutoplayed(){let t=!1,e=n.S.workingWindow().jwplayer(),i=e&&e.getConfig&&e.getConfig();return i&&(t=i.autostart),t}}e.DetectAutoplayByJWPlayerClass=s,e.DetectAutoplayByJWPlayer=new s},9205:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DetectAutoplayByTime=e.DetectAutoplayByTimeClass=void 0;const n=i(3380),s=i(425);class r{constructor(){this.isAutoplayedTimeThreshold=1e3}isSupported(){return!0}getMethodId(){return 4}isAutoplayed(t){let e=s.p.getNavigationStartTime(),i=!1;return e&&(i=t.videoStartTime-n.Utilities.getTimeDiff(e)<=this.isAutoplayedTimeThreshold),i}}e.DetectAutoplayByTimeClass=r,e.DetectAutoplayByTime=new r},912:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseAdDataCollector=void 0;const n=i(7360);e.BaseAdDataCollector=class{constructor(){this.isSupported()&&n.u.addEventsListener({[n.DvEvent.adCandidateApproved]:this.startCollectDataWrapper.bind(this),[n.DvEvent.adDestroy]:this.stopCollectDataWrapper.bind(this)})}startCollectDataWrapper(t){this.startCollectData(t.adCandidate)}stopCollectDataWrapper(t){this.stopCollectData(t.adCandidate)}}},6243:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseDataCollector=void 0;e.BaseDataCollector=class{constructor(){this.isSupported()&&this.startCollectData()}}},7449:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseGlobalDataCollector=void 0;const n=i(7360);e.BaseGlobalDataCollector=class{constructor(){this.isSupported()&&(this.startCollectData(),n.u.addEventsListener({[n.DvEvent.adCandidateApproved]:this.registerToGlobalEvent.bind(this)}))}processAdDataWrapper(t){this.processAdData(t.adCandidate)}registerToGlobalEvent(t){n.u.addEventListener(this.getGlobalEventName(),this.processAdDataWrapper.bind(this,t))}}},9615:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BoundariesViewabilityDataCollector=void 0;const n=i(986),s=i(4254),r=i(7360),o=i(9450),a=i(912),u=i(870);class c extends a.BaseAdDataCollector{isSupported(){return!u.omidAdapter.isSupported()}startCollectData(t){if(t.supportedDeliveryType.some((t=>2==t))){const e=this.getSupportedMethod(t);if(!e)return;r.u.addEventListener(r.DvEvent.viewabilityIntervalData,this.handleViewabilityData.bind(this,e))}}stopCollectData(t){n.ResourceBased.destroyAdCandidateMethod(t)}getArea(t){if(t&&t.width&&t.height)return t.width*t.height}handleViewabilityData(t,e){const i=e.adCandidate,n=e.relevantData,s=this.getArea(n.adGeometric),r=this.getArea(n.viewportSize);s&&r&&s<r||this.publishAdBoundariesViewabilityData(t,i)}getSupportedMethod(t){return[s.GeometricMethod,n.ResourceBased].filter((e=>e.isSupported(t)))[0]}publishAdBoundariesViewabilityData(t,e){const i=t.getBoundariesViewability(e);r.u.dispatchEvent(r.DvEvent.boundariesViewabilityIntervalData,new o.AdCandidateEventData(e,{boundariesViewability:i}))}}e.BoundariesViewabilityDataCollector=c},4874:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdInteractionEventDataCollector=void 0;const n=i(7360),s=i(425),r=i(912),o=i(9450),a=i(870),u=i(3868),c=i(5309);class d extends r.BaseAdDataCollector{constructor(){super(...arguments),this.diagnosticIframeEngagement=[{domEventName:"click",dvEventToDispatch:n.DvEvent.experimentalDiagnosticClickEvent,elementToListenTo:"descendantIframesDeep",eventReferenceSymbol:Symbol()},{domEventName:"touchstart",dvEventToDispatch:n.DvEvent.experimentalDiagnosticTouchEvent,elementToListenTo:"descendantIframesDeep",eventReferenceSymbol:Symbol()}],this.enhancedIframeEngagement=[{domEventName:"click",dvEventToDispatch:n.DvEvent.firstClickOnDescendantIframe,elementToListenTo:"descendantIframes",eventReferenceSymbol:Symbol()},{domEventName:"touchstart",dvEventToDispatch:n.DvEvent.firstTouchOnDescendantIframe,elementToListenTo:"descendantIframes",eventReferenceSymbol:Symbol()}],this.interactionEventSubscriptions=[{domEventName:"click",dvEventToDispatch:n.DvEvent.firstClickOnAdElementData,elementToListenTo:"adCandidate",measuredDvEventToDispatch:n.DvEvent.clickMeasured,eventReferenceSymbol:Symbol()},{domEventName:"mouseover",dvEventToDispatch:n.DvEvent.firstHoverData,elementToListenTo:"adCandidate",measuredParam:"isHoverMeasured",eventReferenceSymbol:Symbol()},{domEventName:"touchstart",dvEventToDispatch:n.DvEvent.firstTouchData,elementToListenTo:"adCandidate",measuredParam:"isTouchMeasured",eventReferenceSymbol:Symbol()},{domEventName:"blur",dvEventToDispatch:n.DvEvent.firstFocusIntoAdElementData,elementToListenTo:"topAccessibleWindow",condition:t=>{var e;return t.domElement===(null===(e=u.S.workingDocument())||void 0===e?void 0:e.activeElement)},eventReferenceSymbol:Symbol()},{domEventName:"adSizeChange",dvEventToDispatch:n.DvEvent.adSizeData,elementToListenTo:"adCandidate",dataCollectionOverride:new h,measuredParam:"isAdSizeChangeMeasured",eventReferenceSymbol:Symbol()},...this.diagnosticIframeEngagement,...c.descendantIframeClickHandlersExperiment.isEnabled()?this.enhancedIframeEngagement:[]]}isSupported(){return!a.omidAdapter.isSupported()}addInteractionEventListeners(t,e){const i=t.domEventName,n=this.getElementsToListenTo(t,e),r=this.handleElementEvent.bind(this,e,t);e.domEvents[t.eventReferenceSymbol]=r,"descendantIframes"===t.elementToListenTo&&(e.descendantIframeHandlerCount=n.length,e.descendantIframeScanDepth=1),"descendantIframesDeep"===t.elementToListenTo&&(e.deepDescendantIframeHandlerCount=n.length,e.deepDescendantIframeScanDepth=5);return n.map((t=>s.p.addEventListener(i,r,t))).some((t=>!0===t))}startCollectData(t){this.interactionEventSubscriptions.forEach((e=>{var i;((null===(i=null==e?void 0:e.dataCollectionOverride)||void 0===i?void 0:i.startCollectData)?e.dataCollectionOverride.startCollectData(t):this.addInteractionEventListeners(e,t))&&this.updateIsMeasured(e,t)}))}updateIsMeasured(t,e){const i=t.measuredDvEventToDispatch,s=t.measuredParam;s&&(e[s]=1),i&&n.u.dispatchEvent(i,new o.AdCandidateEventData(e))}getElementsToListenTo(t,e){switch(t.elementToListenTo){case"topAccessibleWindow":return[u.S.getTopAccessibleWindow()];case"descendantIframes":return e.domElement?s.p.getNestedDocuments(e.domElement,1):[];case"descendantIframesDeep":return e.domElement?s.p.getNestedDocuments(e.domElement,5):[];default:return[e.domElement]}}handleElementEvent(t,e){const i=e.condition;("function"!=typeof i||i(t))&&(n.u.dispatchEvent(e.dvEventToDispatch,new o.AdCandidateEventData(t)),this.removeEventListeners(e,t))}stopCollectData(t){this.interactionEventSubscriptions.forEach((e=>{e.dataCollectionOverride?e.dataCollectionOverride.stopCollectData(t):this.removeEventListeners(e,t)}))}removeEventListeners(t,e){const i=this.getElementsToListenTo(t,e),n=t.domEventName,r=e.domEvents[t.eventReferenceSymbol];i.forEach((t=>s.p.removeEventListener(n,r,t)))}}e.AdInteractionEventDataCollector=d;class l{constructor(){this.updateIsMeasured=(t,e)=>e[t]=1}}class h extends l{constructor(){super(...arguments),this.interval=100,this.startCollectData=t=>this.collectAdSizeData(t),this.stopCollectData=t=>s.p.clearInterval(t.adSizeIntervalId)}collectAdSizeData(t){t.adSizeIntervalId=s.p.setInterval((()=>{try{this.handleAdSize(t)}catch(t){}}),this.interval);try{const e={width:t.domElement.clientWidth,height:t.domElement.clientHeight};return!(!e.width||!e.height)}catch(t){return!1}}handleAdSize(t){const e=t.domElement,i={width:e.clientWidth,height:e.clientHeight};i.width&&i.height&&(this.updateIsMeasured("isAdSizeChangeMeasured",t),n.u.dispatchEvent(n.DvEvent.adSizeData,new o.AdCandidateEventData(t,{adSize:i})))}}},2237:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionUnloadDataCollector=void 0;const n=i(425),s=i(3868),r=i(7360),o=i(3380),a=i(194),u=i(9450),c=i(870),d=i(7449);class l extends d.BaseGlobalDataCollector{startCollectData(){this.registerToDomEnvironment(),this.registerToOmidEnvironment(),this.timeoutId=n.p.setTimeout(this.reportDueToTimeout.bind(this),84e4)}getGlobalEventName(){return r.DvEvent.globalUnloadData}processAdData(t){t.timeUntilUnloadMs=o.Utilities.getTimeDiff();const e=new u.AdCandidateEventData(t,{reportType:0,forceRTS:!0});r.u.dispatchEvent(r.DvEvent.unloadData,e),r.u.dispatchEvent(r.DvEvent.reportData,e),t.wasAdStopped=!0}isSupported(){return!0}getSubscribedEvents(){return["beforeunload","pagehide"]}registerToDomEnvironment(){this.domEvents={},r.u.addEventListener(r.DvEvent.impressionServed,this.registerToVisibilityChange.bind(this),"InteractionUnloadDataCollector"),this.getSubscribedEvents().forEach(this.registerUnloadEvent.bind(this))}registerUnloadEvent(t){const e=this.handleUnload.bind(this);this.domEvents[t]=e,[s.S.workingWindow(),s.S.currentWindow()].forEach((i=>{n.p.addEventListener(t,e,i)}))}registerToOmidEnvironment(){c.omidAdapter.isSupported()&&c.omidAdapter.registerSessionObserver(this.handleOmidUnload.bind(this))}reportDueToTimeout(){this.timeMsUntilUnload||this.handleUnload()}registerToVisibilityChange(){const t=this.handleUnloadForVisibilityChange.bind(this);if(a.I.isMobile()&&n.p.isVisibilityChangeEventSupported()){this.lastVisibilityState=s.S.currentDocument().visibilityState;const e=n.p.getVisibilityPrefix()+"visibilitychange";n.p.addEventListener(e,t,s.S.workingDocument()),this.domEvents[e]=t}}handleUnloadForVisibilityChange(){const t=s.S.currentDocument().visibilityState;this.lastVisibilityState!=t&&"hidden"===t&&this.handleUnload(),this.lastVisibilityState=t}isMaxTimePassed(){let t=o.Utilities.getTimeDiff();return!(!this.timeMsUntilUnload&&t<12e5)||(this.timeMsUntilUnload=t,!1)}handleUnload(){this.isMaxTimePassed()||this.unloadFired||(r.u.dispatchEvent(this.getGlobalEventName(),new u.EventData),this.unloadFired=!0)}handleOmidUnload(t){"sessionFinish"===t.type&&this.handleUnload()}}e.InteractionUnloadDataCollector=l},2294:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.OmidInteractionDataCollector=void 0;const n=i(7360),s=i(912),r=i(9450),o=i(870),a=i(8379);class u extends s.BaseAdDataCollector{isSupported(){return o.omidAdapter.isSupported()}startCollectData(t){Object.keys(a.OmidEvents).forEach((e=>o.omidAdapter.addEventListener(e,this.handleOmidEvent.bind(this,e,t)))),n.u.dispatchEvent(n.DvEvent.clickMeasured,new r.AdCandidateEventData(t))}handleOmidEvent(t,e,i){var s,o,a,u,c,d;switch(t){case"adUserInteraction":"click"===(null===(s=null==i?void 0:i.data)||void 0===s?void 0:s.interactionType)?n.u.dispatchEvent(n.DvEvent.omidClickData,new r.AdCandidateEventData(e)):"invitationAccept"===(null===(o=null==i?void 0:i.data)||void 0===o?void 0:o.interactionType)?n.u.dispatchEvent(n.DvEvent.omidInvitationAcceptData,new r.AdCandidateEventData(e)):(null===(a=null==i?void 0:i.data)||void 0===a?void 0:a.interactionType)&&n.u.dispatchEvent(n.DvEvent.omidCustomInteractionData,new r.AdCandidateEventData(e,{customInteraction:null===(u=null==i?void 0:i.data)||void 0===u?void 0:u.interactionType}));break;case"geometryChange":const t=null===(d=null===(c=null==i?void 0:i.data)||void 0===c?void 0:c.adView)||void 0===d?void 0:d.geometry,l={width:null==t?void 0:t.width,height:null==t?void 0:t.height};l.width&&l.height&&n.u.dispatchEvent(n.DvEvent.omidAdSizeData,new r.AdCandidateEventData(e,{adSize:l}))}}stopCollectData(t){}}e.OmidInteractionDataCollector=u},1606:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionKeyPressDataCollector=void 0;const n=i(7449),s=i(7360),r=i(3868),o=i(425),a=i(9450);class u extends n.BaseGlobalDataCollector{isSupported(){return!0}getGlobalEventName(){return s.DvEvent.globalKeyPressData}startCollectData(){let t=r.S.workingWindow(),e=r.S.getTopAccessibleWindow();o.p.addEventListener("keypress",this.handleKeyPressEvent.bind(this),t),e!=t&&o.p.addEventListener("keypress",this.handleKeyPressEvent.bind(this),e)}handleKeyPressEvent(){s.u.dispatchEvent(this.getGlobalEventName(),new a.EventData)}processAdData(t){s.u.dispatchEvent(s.DvEvent.keyPressData,new a.AdCandidateEventData(t))}}e.PageInteractionKeyPressDataCollector=u},9198:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionMouseMoveDataCollector=void 0;const n=i(7449),s=i(7360),r=i(425),o=i(9450),a=i(3868);class u extends n.BaseGlobalDataCollector{isSupported(){return!0}getGlobalEventName(){return s.DvEvent.globalMouseMoveData}startCollectData(){let t=a.S.workingWindow(),e=a.S.getTopAccessibleWindow();r.p.addEventListener("mousemove",this.handleMouseMoveEvent.bind(this),t),r.p.addEventListener("touchmove",this.handleMouseMoveEvent.bind(this),t),e!=t&&(r.p.addEventListener("mousemove",this.handleMouseMoveEvent.bind(this),e),r.p.addEventListener("touchmove",this.handleMouseMoveEvent.bind(this),e))}handleMouseMoveEvent(){s.u.dispatchEvent(this.getGlobalEventName(),new o.EventData)}processAdData(t){s.u.dispatchEvent(s.DvEvent.mouseMoveData,new o.AdCandidateEventData(t))}}e.PageInteractionMouseMoveDataCollector=u},6789:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PageInteractionOrientationChangedDataCollector=void 0;const n=i(7449),s=i(7360),r=i(9450),o=i(425),a=i(8170);class u extends n.BaseGlobalDataCollector{isSupported(){return void 0!==o.p.getScreenOrientation()}getGlobalEventName(){return s.DvEvent.globalOrientationChangeData}startCollectData(){o.p.getScreenOrientation().addEventListener("change",this.handleOrientationChangeEvent.bind(this))}handleOrientationChangeEvent(){s.u.dispatchEvent(this.getGlobalEventName(),new r.EventData)}processAdData(t){this.onOrientationChange(t)}onOrientationChange(t){var e;const i=o.p.getScreenOrientationType();if(1===i)s.u.dispatchEvent(s.DvEvent.orientationChangePortraitData,new r.AdCandidateEventData(t));else if(2===i)s.u.dispatchEvent(s.DvEvent.orientationchangeLandscapeData,new r.AdCandidateEventData(t));else if(0===i){const t=null===(e=o.p.getScreenOrientation().type)||void 0===e?void 0:e.toString();t&&a.DiagnosticParamsSingleton.reportOnce(a.DiagnosticParams.unknownScreenOrientationType,t)}}}e.PageInteractionOrientationChangedDataCollector=u},7379:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.UserPresenceDataCollector=void 0;const n=i(7360),s=i(425),r=i(9450),o=i(3868),a=i(8170);e.UserPresenceDataCollector=class{constructor(){this.interactionSubscriptions=[{eventName:"keypress",eventToDispatchOnMeasure:n.DvEvent.keyPressMeasured,eventToDispatchOnInteract:n.DvEvent.tempFirstKeyPressData,elementToListenTo:o.S.workingWindow()},{eventName:"keypress",isSupported:o.S.workingWindow()!==o.S.getTopAccessibleWindow(),eventToDispatchOnMeasure:n.DvEvent.keyPressMeasured,eventToDispatchOnInteract:n.DvEvent.tempFirstKeyPressData,elementToListenTo:o.S.getTopAccessibleWindow()},{eventName:"mousemove",eventToDispatchOnMeasure:n.DvEvent.mouseMoveMeasured,eventToDispatchOnInteract:n.DvEvent.tempFirstMouseMoveData,elementToListenTo:o.S.workingWindow()},{eventName:"touchmove",eventToDispatchOnMeasure:n.DvEvent.mouseMoveMeasured,eventToDispatchOnInteract:n.DvEvent.tempFirstMouseMoveData,elementToListenTo:o.S.workingWindow()},{eventName:"mousemove",isSupported:o.S.workingWindow()!==o.S.getTopAccessibleWindow(),eventToDispatchOnMeasure:n.DvEvent.mouseMoveMeasured,eventToDispatchOnInteract:n.DvEvent.tempFirstMouseMoveData,elementToListenTo:o.S.getTopAccessibleWindow()},{eventName:"touchmove",isSupported:o.S.workingWindow()!==o.S.getTopAccessibleWindow(),eventToDispatchOnMeasure:n.DvEvent.mouseMoveMeasured,eventToDispatchOnInteract:n.DvEvent.tempFirstMouseMoveData,elementToListenTo:o.S.getTopAccessibleWindow()},{eventName:"change",isSupported:void 0!==s.p.getScreenOrientation(),eventToDispatchOnMeasure:n.DvEvent.orientationChangeMeasured,elementToListenTo:s.p.getScreenOrientation()}],this.startCollectData()}startCollectData(){this.interactionSubscriptions.forEach((t=>{if(null==t.isSupported||t.isSupported){const e=this.getCallback(t);s.p.addEventListener(t.eventName,e,t.elementToListenTo)&&n.u.dispatchEvent(t.eventToDispatchOnMeasure,new r.EventData)}}))}getCallback(t){return"change"===t.eventName?this.reportOrientationChangeEventData.bind(this):this.reportInteractionEventData.bind(this,t.eventToDispatchOnInteract)}reportInteractionEventData(t){n.u.dispatchEvent(t,new r.EventData)}reportOrientationChangeEventData(){var t;const e=s.p.getScreenOrientationType();if(1===e)this.reportInteractionEventData(n.DvEvent.tempOrientationChangePortraitData);else if(2===e)this.reportInteractionEventData(n.DvEvent.tempOrientationChangeLandscapeData);else if(0===e){const e=null===(t=s.p.getScreenOrientation().type)||void 0===t?void 0:t.toString();e&&a.DiagnosticParamsSingleton.reportOnce(a.DiagnosticParams.unknownScreenOrientationType,e)}}}},2452:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.FocusDataCollector=void 0;const n=i(7360),s=i(425),r=i(3868),o=i(912),a=i(9450);class u extends o.BaseAdDataCollector{isSupported(){return!0}startCollectData(t){const e=t.domEvents,i=this.handleFocus.bind(this,t);if(this.handleFocus(t),s.p.isVisibilityChangeEventSupported()){const n=s.p.getVisibilityPrefix()+"visibilitychange";s.p.addEventListener(n,i,r.S.workingDocument(t.windowElement)),e[n]=i}}handleFocus(t){try{let e=s.p.hasFocus();n.u.dispatchEvent(n.DvEvent.focusData,new a.AdCandidateEventData(t,{focus:e}))}catch(t){}}stopCollectData(t){if(s.p.isVisibilityChangeEventSupported()){const e=s.p.getVisibilityPrefix()+"visibilitychange";s.p.removeEventListener(e,t.domEvents[e],r.S.workingDocument(t.windowElement))}}}e.FocusDataCollector=u},3384:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PageEventsDataCollector=void 0;const n=i(7360),s=i(3868),r=i(425),o=i(6243),a=i(9450);class u extends o.BaseDataCollector{isSupported(){return!s.S.isDomlessEnvironment()}startCollectData(){r.p.addEventListener("pagehide",this.handlePersistedEvent(n.DvEvent.pageHideEventPersisted,n.DvEvent.pageHideEventNonPersisted).bind(this),s.S.workingWindow())}handlePersistedEvent(t,e){return i=>{const s=(null==i?void 0:i.persisted)?t:e;n.u.dispatchEvent(s,new a.EventData)}}}e.PageEventsDataCollector=u},417:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PerformanceApiDataCollector=void 0;const n=i(912),s=i(7360),r=i(9450),o=i(3868);class a extends n.BaseAdDataCollector{constructor(){super(...arguments),this.subscriptionIds=[]}isSupported(){return!o.S.isDomlessEnvironment()}getEntries(t){const e=o.S.monitorScriptsPerformance(o.S.currentWindow(),{visit:["transferSize"]}),i={visitResponseSize:e&&e.visit_transferSize};Object.keys(i).length&&s.u.dispatchEvent(s.DvEvent.performanceData,new r.PerformanceEventData(i,t))}startCollectData(t){this.isSupported()&&(this.subscriptionIds=s.u.addEventsListener({[s.DvEvent.impressionServed]:this.getEntries.bind(this,t)}))}stopCollectData(t){this.subscriptionIds.length&&(s.u.removeEventsListener(this.subscriptionIds),this.subscriptionIds=[])}}e.PerformanceApiDataCollector=a},4668:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PerformanceJanusDataCollector=void 0;const n=i(7360),s=i(9450),r=i(6243),o=i(6262),a=i(749),u=i(712);class c extends r.BaseDataCollector{isSupported(){return c.isSupported()}startCollectData(){try{o.Janus.onTaskMeasured(this.handleJanusTask.bind(this))}catch(t){a.v.sendError(u.ClientErrorType.FailObserverLongTasks,t)}}handleJanusTask(t){n.u.dispatchEvent(n.DvEvent.performanceJanusData,new s.LongTaskEventData([t]))}static isSupported(){return o.Janus.isSupported()}}e.PerformanceJanusDataCollector=c},6593:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PerformanceLongTasksDataCollector=e.LONG_TASK_TYPE=void 0;const n=i(3868),s=i(7360),r=i(9450),o=i(6243),a=i(712),u=i(749);e.LONG_TASK_TYPE="longtask";class c extends o.BaseDataCollector{isSupported(){return c.isPerformanceLongTasksSupported()}startCollectData(){if(!this.observer)try{this.observer=new PerformanceObserver(this.handleLongTasksEntries.bind(this)),this.observer.observe({type:e.LONG_TASK_TYPE,buffered:!0})}catch(t){u.v.sendError(a.ClientErrorType.FailObserverLongTasks,t)}}handleLongTasksEntries(t){const e=t.getEntries().filter((t=>{var e;return null===(e=t.attribution)||void 0===e?void 0:e.length})).filter((({attribution:t})=>t[0].containerId===c.getFrameId())).map(this.convertLongTaskEntryToLongTask.bind(this));s.u.dispatchEvent(s.DvEvent.performanceLongTasks,new r.LongTaskEventData(e))}convertLongTaskEntryToLongTask(t){return{startTime:t.startTime,duration:t.duration,frameId:c.getFrameId()}}static getFrameId(){var t;return this._frameId||(this._frameId=null===(t=n.S.getFrameElement(n.S.currentWindow()))||void 0===t?void 0:t.id),this._frameId}static isPerformanceLongTasksSupported(){var t;return"undefined"!=typeof PerformanceObserver&&3===n.S.getScriptInjectionMode()&&!!this.getFrameId()&&!!(null===(t=null===PerformanceObserver||void 0===PerformanceObserver?void 0:PerformanceObserver.supportedEntryTypes)||void 0===t?void 0:t.some((t=>t===e.LONG_TASK_TYPE)))}}e.PerformanceLongTasksDataCollector=c},6195:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.StrictFocusDataCollector=void 0;const n=i(7360),s=i(425),r=i(3868),o=i(912),a=i(9450);class u extends o.BaseAdDataCollector{isSupported(){return!0}startCollectData(t){this.handleFocus(t),r.S.windowTop()&&s.p.isStrictFocusSupported()&&(t.strictFocusInterval=s.p.setInterval(this.handleFocus.bind(this,t),200))}handleFocus(t){try{let e=null==s.p.hasStrictFocus()||s.p.hasStrictFocus();n.u.dispatchEvent(n.DvEvent.strictFocusData,new a.AdCandidateEventData(t,{focus:e}))}catch(t){}}stopCollectData(t){s.p.clearInterval(t.strictFocusInterval)}}e.StrictFocusDataCollector=u},1776:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoPlaybackDataCollector=void 0;const n=i(912),s=i(7542),r=i(1768),o=i(3115),a=i(4753),u=i(7749),c=i(7360),d=i(9450),l=i(8191);class h extends n.BaseAdDataCollector{isSupported(){return 1==u.T.getTagType()}startCollectData(t){t.videoPlaybackIndicator=t.videoPlaybackIndicatorDvp=0,t.videoPlayback=this.getSupportedVideoPlayback(t),t.videoPlayback&&(t.videoPlayback.startCollectData(t),t.videoPlaybackIndicator=t.videoPlaybackIndicatorDvp=t.videoPlayback.getIndicator(),c.u.dispatchEvent(c.DvEvent.reportData,new d.AdCandidateEventData(t)))}stopCollectData(t){t.videoPlayback&&t.videoPlayback.stopCollectData(t)}getSupportedVideoPlayback(t){return[r.VideoPlaybackByOmid,a.VideoPlaybackByAdColonyVpaid,o.VideoPlaybackByVpaid,l.VideoPlaybackByInmobi,s.VideoPlaybackByHtml5].filter((e=>e.isSupported(t)))[0]}}e.VideoPlaybackDataCollector=h},4753:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoPlaybackByAdColonyVpaid=e.VideoPlaybackByAdColonyVpaidClass=void 0;const n=i(1966),s=i(7360),r=i(9450),o=i(3567);class a{constructor(){this.vpaidEventMapping={AdImpression:[s.DvEvent.adImpressionData],AdVideoFirstQuartile:[s.DvEvent.adVideoFirstQuartileData],AdVideoMidpoint:[s.DvEvent.adVideoMidpointData],AdVideoThirdQuartile:[s.DvEvent.adVideoThirdQuartileData],AdVideoComplete:[s.DvEvent.adVideoCompleteData],AdVideoStart:[s.DvEvent.adVideoStartData,s.DvEvent.volumeData],AdPaused:[s.DvEvent.pauseData],AdPlaying:[s.DvEvent.resumeData],AdVolumeChange:[s.DvEvent.volumeData]}}isSupported(){return this.adc=n.VideoPlaybackAdaptor.getADCObject(),!!this.adc}getIndicator(){return 4}startCollectData(t){Object.keys(this.vpaidEventMapping).forEach((e=>{this.adc.subscribe(e,this.handleVpaidEvent.bind(this,e,t))}))}stopCollectData(t){}extractDvEventArgs(t,e){var i;if("AdVolumeChange"!==t&&"AdVideoStart"!==t)return;const n=o.default.getVolumeLevel(null!==(i=null==e?void 0:e.deviceVolume)&&void 0!==i?i:null==e?void 0:e.volume);return o.default.isVolumeLevelSupported(n)?{volume:n}:void 0}handleVpaidEvent(t,e,i){const n=this.vpaidEventMapping[t];if(!(null==n?void 0:n.length))return;const o=this.extractDvEventArgs(t,i),a=new r.AdCandidateEventData(e,o);n.forEach((t=>s.u.dispatchEvent(t,a)))}}e.VideoPlaybackByAdColonyVpaidClass=a,e.VideoPlaybackByAdColonyVpaid=new a},7542:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoPlaybackByHtml5=e.VideoPlaybackByHtml5Class=void 0;const n=i(7360),s=i(9450),r=i(425),o=i(3380),a=i(3567);class u{constructor(){this.html5EventMapping={playing:n.DvEvent.adVideoStartData,pause:n.DvEvent.pauseData,play:n.DvEvent.resumeData,volumechange:n.DvEvent.volumeData,ended:n.DvEvent.adVideoCompleteData},this.quartileEvents=[n.DvEvent.adVideoFirstQuartileData,n.DvEvent.adVideoMidpointData,n.DvEvent.adVideoThirdQuartileData,n.DvEvent.adVideoCompleteData],this.eventsToReportOnlyOnce=[n.DvEvent.adVideoCompleteData,n.DvEvent.adVideoStartData,...this.quartileEvents]}isSupported(t){return o.Utilities.isInAppSupported(t.supportedDeliveryType)&&o.Utilities.isVideoElement(t.domElement)}getIndicator(){return 2}startCollectData(t){const e=this.updateAdPlaybackTime.bind(this,t);r.p.addEventListener("timeupdate",e,t.domElement),t.domEvents.timeupdate=e,Object.keys(this.html5EventMapping).forEach((e=>{const i=this.handleHtml5Event.bind(this,t,this.html5EventMapping[e]);r.p.addEventListener(e,i,t.domElement),t.domEvents[e]=i}))}stopCollectData(t){[...Object.keys(this.html5EventMapping),"timeupdate"].forEach((e=>{r.p.removeEventListener(e,t.domEvents[e],t.domElement)}))}updateAdPlaybackTime(t){const e=t.domElement;if(!e.duration)return;e.currentTime&&!t.videoPlaybackHtml5AdPlaybackTimeInitialized&&(t.videoPlaybackHtml5AdPlaybackTimeInitialized=!0,this.publishEvents(n.DvEvent.resumeData,t));const i=e.duration/4;if(e.currentTime>=t.videoPlaybackHtml5QuartileId*i){const e=this.quartileEvents[t.videoPlaybackHtml5QuartileId-1];this.publishEvents(e,t),t.videoPlaybackHtml5QuartileId++}}extractDvEventArgs(t,e){if(e!==n.DvEvent.volumeData&&e!==n.DvEvent.adVideoStartData)return;return{volume:a.default.getVolumeLevel(null==t?void 0:t.volume)}}handleHtml5Event(t,e){const i=t.domElement,n=this.extractDvEventArgs(i,e);this.publishEvents(e,t,n)}publishEvents(t,e,i){if(this.eventsToReportOnlyOnce.some((e=>e==t))&&e.videoPlaybackHtml5Events.some((e=>e==t)))return;t==n.DvEvent.adVideoCompleteData&&this.stopCollectData(e),e.videoPlaybackHtml5Events.push(t);const r=new s.AdCandidateEventData(e,i);n.u.dispatchEvent(t,r),t===n.DvEvent.adVideoStartData&&"volume"in i&&n.u.dispatchEvent(n.DvEvent.volumeData,r)}}e.VideoPlaybackByHtml5Class=u,e.VideoPlaybackByHtml5=new u},8191:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoPlaybackByInmobi=e.VideoPlaybackByInmobiClass=void 0;const n=i(7360),s=i(9450),r=i(8426),o=i(3567);class a{constructor(){this.inmobiEventMapping={AdLoaded:[n.DvEvent.videoLoadedData],AdVideoFirstQuartile:[n.DvEvent.adVideoFirstQuartileData],AdVideoMidpoint:[n.DvEvent.adVideoMidpointData],AdVideoThirdQuartile:[n.DvEvent.adVideoThirdQuartileData],AdVideoComplete:[n.DvEvent.adVideoCompleteData],AdVideoStart:[n.DvEvent.adVideoStartData,n.DvEvent.volumeData],AdPaused:[n.DvEvent.pauseData],AdPlaying:[n.DvEvent.resumeData],AdVolumeChange:[n.DvEvent.volumeData]}}isSupported(){return r.InmobiWrapper.isSupported()}getIndicator(){return 5}startCollectData(t){r.InmobiWrapper.addEventListenerWithHistory(this.handleInmobiEvent.bind(this,t))}stopCollectData(t){}extractDvEventArgs(t){var e;const i=t.type;if(!i||!(null==t?void 0:t.detail))return;if("AdVolumeChange"!==i&&"AdVideoStart"!==i&&"AdLoaded"!==i)return;return{volume:o.default.getVolumeLevel(null!==(e=t.detail.adVolume)&&void 0!==e?e:t.detail.volume)}}updateAdDuration(t,e){var i;"AdLoaded"===e.type&&(null===(i=null==e?void 0:e.detail)||void 0===i?void 0:i.duration)>0&&(t.adDuration=Math.round(e.detail.duration))}handleInmobiEvent(t,e){const i=(null==e?void 0:e.type)&&this.inmobiEventMapping[e.type];if(!(null==i?void 0:i.length))return;this.updateAdDuration(t,e);const r=this.extractDvEventArgs(e),o=new s.AdCandidateEventData(t,r);i.forEach((t=>n.u.dispatchEvent(t,o)))}}e.VideoPlaybackByInmobiClass=a,e.VideoPlaybackByInmobi=new a},1768:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoPlaybackByOmid=e.VideoPlaybackByOmidClass=void 0;const n=i(7360),s=i(9450),r=i(870),o=i(8170),a=i(3380),u=i(3567);class c{constructor(){this.omidEventMapping={impression:[n.DvEvent.adImpressionData],complete:[n.DvEvent.adVideoCompleteData],firstQuartile:[n.DvEvent.adVideoFirstQuartileData],midpoint:[n.DvEvent.adVideoMidpointData],start:[n.DvEvent.adVideoStartData,n.DvEvent.volumeData],thirdQuartile:[n.DvEvent.adVideoThirdQuartileData],pause:[n.DvEvent.pauseData],resume:[n.DvEvent.resumeData],skipped:[n.DvEvent.skipData],volumeChange:[n.DvEvent.volumeData],loaded:[]}}isSupported(){return r.omidAdapter.isSupported()}getIndicator(){return 3}startCollectData(t){o.DiagnosticParamsSingleton.reportDiagnosticParam(o.DiagnosticParams.timeUntilOmidListenMs,a.Utilities.getTimeDiff()),Object.keys(this.omidEventMapping).forEach((e=>{r.omidAdapter.addEventListener(e,this.omidEventCallback.bind(this,t,e))}))}stopCollectData(t){}getOmidVolume(t){if(!(null==t?void 0:t.data))return u.VOLUME_UNSUPPORTED;const e=u.default.getVolumeLevel(t.data.videoPlayerVolume),i=u.default.getVolumeLevel(t.data.deviceVolume),n=u.default.isVolumeLevelSupported(e),s=u.default.isVolumeLevelSupported(i);return n&&s?e*i:n?e:s?i:u.VOLUME_UNSUPPORTED}extractDvEventArgs(t,e){if("volumeChange"===t||"start"===t)return{volume:this.getOmidVolume(e)}}updateAdCandidate(t,e,i){"start"===e&&(null==i?void 0:i.data)&&(t.videoLength=i.data.videoDuration),null==t.omidPlaybackStartIndicator&&(t.omidPlaybackStartIndicator=-1),"loaded"===e&&(t.omidPlaybackStartIndicator=this.getOmidPlaybackStartIndicator(i))}omidEventCallback(t,e,i){this.updateAdCandidate(t,e,i);const r=this.omidEventMapping[e];if(!(null==r?void 0:r.length))return;const o=this.extractDvEventArgs(e,i),a=new s.AdCandidateEventData(t,o);r.forEach((t=>n.u.dispatchEvent(t,a)))}getOmidPlaybackStartIndicator(t){var e;return null!=(null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.autoPlay)?t.data.autoPlay?1:2:0}}e.VideoPlaybackByOmidClass=c,e.VideoPlaybackByOmid=new c},3115:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoPlaybackByVpaid=e.VideoPlaybackByVpaidClass=void 0;const n=i(7749),s=i(7360),r=i(9450),o=i(1063),a=i(3380),u=i(3567);class c{constructor(){this.vpaidEventMapping={AdImpression:[s.DvEvent.adImpressionData],AdLoaded:[s.DvEvent.videoLoadedData],AdVideoStart:[s.DvEvent.adVideoStartData,s.DvEvent.volumeData],AdVideoFirstQuartile:[s.DvEvent.adVideoFirstQuartileData],AdVideoMidpoint:[s.DvEvent.adVideoMidpointData],AdVideoThirdQuartile:[s.DvEvent.adVideoThirdQuartileData],AdVideoComplete:[s.DvEvent.adVideoCompleteData],AdUserClose:[s.DvEvent.abandonData],AdPaused:[s.DvEvent.pauseData],AdPlaying:[s.DvEvent.resumeData],AdSkipped:[s.DvEvent.skipData],AdStopped:[s.DvEvent.stopData],AdVolumeChange:[s.DvEvent.volumeData],AdSkippableStateChange:[s.DvEvent.skippableData]}}isSupported(){return this.adID=n.T.getAdID(),this.vpaid=o.VpaidWrapper.getDvVpaid(),!!this.adID&&!!this.vpaid&&o.VpaidWrapper.isSupported()}getIndicator(){return 1}startCollectData(t){t.videoPlaybackByVpaidEventSubscriptionIds=this.vpaid.subscribe(Object.keys(this.vpaidEventMapping),this.adID,this.handleVpaidEvent.bind(this,t));const{asset:e={}}=this.vpaid,{adDuration:i=0,adSkippable:n}=e;i>0&&i<180&&(t.adDuration=Math.round(1e3*i),t.adDurationCalculationType=1),n&&(t.adSkippableMs=a.Utilities.getTimeDiff())}stopCollectData(t){this.vpaid.unsubscribe(t.videoPlaybackByVpaidEventSubscriptionIds)}extractDvEventArgs(t,e){if(!e)return;if("AdSkippableStateChange"===t){const t=this.getAdSkippable(e);if(null!==t)return{adSkippable:t}}const i=u.default.getVolumeLevel(e.volume,Boolean(e.muted));return"AdVolumeChange"===t||"AdVideoStart"===t?{volume:i}:void 0}handleVpaidEvent(t,e,i){var n;const o=i.eventName;if(!o)return;const a=this.vpaidEventMapping[o];if(!(null==a?void 0:a.length))return;const u=null===(n=null==i?void 0:i.ovvArgs)||void 0===n?void 0:n.ovvData,c=this.extractDvEventArgs(o,u),d=new r.AdCandidateEventData(t,c);a.forEach((t=>s.u.dispatchEvent(t,d)))}getAdSkippable(t){const e=null==t?void 0:t.adSkippableState;return a.Utilities.isNullOrEmpty(e)?null:!!e}}e.VideoPlaybackByVpaidClass=c,e.VideoPlaybackByVpaid=new c},3081:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ViewabilityDataCollector=void 0;const n=i(986),s=i(4254),r=i(9965),o=i(6662),a=i(7360),u=i(9450),c=i(7749),d=i(8253),l=i(712),h=i(8317),v=i(912),p=i(8996),f=i(3380),g=i(425),m=i(5492),b=i(749),w=i(8781);class _ extends v.BaseAdDataCollector{isSupported(){return!0}startCollectData(t){a.u.addEventListener(a.DvEvent.adVideoCompleteData,this.adVideoComplete.bind(this)),this.viewabilityInterval=1==c.T.getTagType()?200:100;const e=t.viewabilityCalculationMethod||this.getSupportedMethod(t);e&&(t.viewabilityCalculationMethod=e,t.viewabilityCalculationType=e.getMethodId(),this.publishAdViewabilityData(t),t.viewabilityIntervalId=g.p.setInterval(this.publishAdViewabilityData.bind(this,t),this.viewabilityInterval))}stopCollectData(t){this.stopViewabilityInterval(t)}adVideoComplete(t){this.stopViewabilityInterval(t.adCandidate)}stopViewabilityInterval(t){t.viewabilityIntervalId&&(g.p.clearInterval(t.viewabilityIntervalId),t.viewabilityCalculationMethod&&t.viewabilityCalculationMethod.destroyAdCandidateMethod(t),t.viewabilityIntervalId=void 0)}getSupportedMethod(t){let e;const i=[p.OmidMethod];return e=f.Utilities.isInAppSupported(t.supportedDeliveryType)?[m.AdColonyMethod,w.Mraid3Method,h.MraidMethod]:[s.GeometricMethod,r.IntersectionObserverMethod,d.AmpIntersectionObserverMethod,n.ResourceBased,o.ScreenGeometricMethod],e=[...i,...e],e.filter((e=>e.isSupported(t)))[0]}publishAdViewabilityData(t){try{let e=t.viewabilityCalculationMethod.getAdCandidateAssets(t);e&&a.u.dispatchEvent(a.DvEvent.viewabilityIntervalData,new u.AdCandidateEventData(t,e)),this.checkIfElementAttachedToDocoment(t)}catch(t){b.v.sendError(l.ClientErrorType.MeasurementError,t)}}checkIfElementAttachedToDocoment(t){t.timeMsUntilAdNotAttached||g.p.isElementAttachedToDocument(t.domElement)||(t.timeMsUntilAdNotAttached=f.Utilities.getTimeDiff(),a.u.dispatchEvent(a.DvEvent.reportData,new u.AdCandidateEventData(t)))}}e.ViewabilityDataCollector=_},1439:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.createNormalisedGeometry=void 0;const i=Symbol("IGeometry");e.createNormalisedGeometry=function(t){if(t)return Object.assign(Object.assign({},t),{width:"number"==typeof t.width?Math.ceil(t.width):t.width,height:"number"==typeof t.height?Math.ceil(t.height):t.height,[i]:"IGeometry"})}},455:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdCandidateData=void 0;const n=i(712),s=i(7749),r=i(3380);e.AdCandidateData=class{constructor(t){this.state=1,this.priority=1,this.locatorMethods=n.LocatorMethods.None,this.supportedDeliveryType=[],this.domEvents={},this.customInteractions=[],this.wasAdStopped=!1,this.isPaused=!1,this.videoPlaybackHtml5QuartileId=1,this.videoPlaybackHtml5Events=[],this.playingTimeStamps=[],this.lastVideoIsPlayingStatus=!1,this.volumeDurationQuartileId=1,this.IABAdViewableForXSecondsViewedTime=0,this.iabViewablitiyTimeToCheck=[5,10,15],this.IABAdViewableForXSecondsdurationRequirement=5e3,this.boundariesViewed={topLeft:!1,topRight:!1,bottomLeft:!1,bottomRight:!1},this.activeViewabilityMeasurements={},this.iabViewedTime=0,this.iabVideoQuartileId=1,this.iabVideoQuartileViewed=0,this.videoFullQuartileViewabilityId=1,this.videoFullQuartileAudibleId=1,this.notViewableReasonWasInFocus=!1,this.notViewableReasonWasInViewPort=!1,this.notViewableReasonConsecutiveViewTime=0,this.notViewableReasonCumulativeViewTime=0,this.notViewableReasonWasViewed=!1,this.notViewableReasonVideoPlayed=!1,this.groupMViewedTime=0,this.groupMV4DisplayViewedTime=0,this.groupMV4VideoReachExtensionViewedTime=0,this.groupMV4VideoNativeViewedTime=0,this.groupMV4DisplayViewedTimeLog=0,this.pmxViewedTime=0,this.videoBucketsQuartileId=1,this.isVideoInViewBucketsMeasured=!1,this.viewabilityIntervalDataCalled=!1,this.autoplayEventSubscriptionIds=[],this.videoPlaybackByVpaidEventSubscriptionIds=[],this.domElement=t}markAdQuartile(t,e){switch(e){case 1:this.exposureFirstQuartileBitwise=this.exposureFirstQuartileBitwise|t;break;case 2:this.exposureSecondQuartileBitwise=this.exposureSecondQuartileBitwise|t;break;case 3:this.exposureThirdQuartileBitwise=this.exposureThirdQuartileBitwise|t;break;case 4:this.exposureFourthQuartileBitwise=this.exposureFourthQuartileBitwise|t}}isInViewBucketsMeasured(){return!!(0==s.T.getTagType()?this.viewabilityDisplayBucketsUnloadTime>0:this.isVideoInViewBucketsMeasured)}getAtLeast50PercentInViewDurationInMs(){if(!this.isInViewBucketsMeasured())return null;const t=[this.b6,this.b7,this.b8,this.b9,this.b10,this.b11],e=[this.q1b3,this.q1b4,this.q1b5,this.q2b3,this.q2b4,this.q2b5,this.q3b3,this.q3b4,this.q3b5,this.q4b3,this.q4b4,this.q4b5];return 0==s.T.getTagType()?Math.min(r.Utilities.sumBuckets(t)||0,6e4):r.Utilities.sumBuckets(e)}get100PercentInViewDurationInMs(){if(!this.isInViewBucketsMeasured())return null;const t=[this.q1b5,this.q2b5,this.q3b5,this.q4b5];return 0==s.T.getTagType()?Math.min(this.b11||0,6e4):r.Utilities.sumBuckets(t)}}},5261:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.CeltraDomAdData=void 0;const n=i(8564);class s extends n.DomAdData{constructor(t,e,i,n){super(e,i,n),this.celtraTagSearchMethod=t,this.domElement=e,this.depth=i,this.isFullyLoaded=n}}e.CeltraDomAdData=s},7658:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.TPSDataMapping=e.AdDataMappingToReport=void 0,e.AdDataMappingToReport={timeMsUntilAdMeasured:"ismms",unadjustedTimeMsUntilAdMeasured:"isumms",isViewabilityEligible:"isvelg",notViewableReason:"nvr",groupMTimeMsUntilAdMeasured:"isgmmims",groupMV4TimeMsUntilAdMeasured:"isgmv4mims",adElementType:"elmtp",measuredElementType:"metp",measuredElementExtractorId:"meeid",largestChildElementHeight:"lceh",largestChildElementWidth:"lcew",viewabilityDisplayBucketsUnloadTime:"isbxdms",b0:"b0",b1:"b1",b2:"b2",b3:"b3",b4:"b4",b5:"b5",b6:"b6",b7:"b7",b8:"b8",b9:"b9",b10:"b10",b11:"b11",napt:"napt",isq1ms:"isq1ms",q1b0:"q1b0",q1b1:"q1b1",q1b2:"q1b2",q1b3:"q1b3",q1b4:"q1b4",q1b5:"q1b5",q1napt:"q1napt",isq2ms:"isq2ms",q2b0:"q2b0",q2b1:"q2b1",q2b2:"q2b2",q2b3:"q2b3",q2b4:"q2b4",q2b5:"q2b5",q2napt:"q2napt",isq3ms:"isq3ms",q3b0:"q3b0",q3b1:"q3b1",q3b2:"q3b2",q3b3:"q3b3",q3b4:"q3b4",q3b5:"q3b5",q3napt:"q3napt",isq4ms:"isq4ms",q4b0:"q4b0",q4b1:"q4b1",q4b2:"q4b2",q4b3:"q4b3",q4b4:"q4b4",q4b5:"q4b5",q4napt:"q4napt",q1ad:"q1ad",q2ad:"q2ad",q3ad:"q3ad",q4ad:"q4ad",iabv5:"iabv5",iabv10:"iabv10",iabv15:"iabv15",maxVideoVolume:"avmax",minVideoVolume:"avmin",ivab0:"ivab0",ivab1:"ivab1",ivab2:"ivab2",ivab3:"ivab3",ivab4:"ivab4",ivab5:"ivab5",ivab6:"ivab6",ivab7:"ivab7",ivab8:"ivab8",ivab9:"ivab9",ivab10:"ivab10",ivab11:"ivab11",ivanapt:"ivanapt",adHeight:"adhgt",adWidth:"adwdth",normalizedAdWidth:"norwdth",normalizedAdHeight:"norhgt",accumulativeTimeOrientationLandscape:"tmsl",accumulativeTimeOrientationPortrait:"tmsp",avgViewableShareOfScreen:"vsos",avgInViewShareOfScreen:"ivsos",shareOfScreenNotMeasuredReason:"dvp_vsosnmr",inViewShareOfScreenMeasured:"ivsosm",shareOfScreenReadFromViewportReport:"dvp_vsosrfvp",viewPortMetaTagWidth:"dvp_mvpw",viewPortMetaTagHeight:"dvp_mvph",viewPortMetaTagInitialScale:"dvp_mvpis",viewPortMetaTagScalable:"dvp_mvpiss",minViewportWidth:"dvp_minvpw",minViewportHeight:"dvp_minvph",maxViewportWidth:"dvp_maxvpw",maxViewportHeight:"dvp_maxvph",accumulativeTimeInFocus:"attif",looseFocusFalseBucket:"lffb",looseFocusTrueBucket:"lftb",strictFocusFalseBucket:"sffb",strictFocusTrueBucket:"sftb",adDuration:"vad",adDurationCalculationType:"dvp_vadt",omidPlaybackStartIndicator:"omap",adVideoTimeLine:"vattp",timeUntilUnloadMs:"tuums",depth:"msrdp",locatorMethods:"naral",viewabilityCalculationType:"vct",viewportHeight:"vphgt",viewportWidth:"vpwdth",adWrapperHeight:"chgt",adWrapperWidth:"cwdth",screenHeight:"scrhgt",screenWidth:"scrwdth",startPercentage:"strp",adVisibleOnload:"advisonl",rBV1PassedMs:"isrbpms",timeMsUntilAdViewed:"isiabvms",unadjustedTimeMsUntilAdViewed:"isuiabvms",groupMTimeMsUntilAdViewed:"isgmpims",groupMV4DisplayTimeMsUntilAdViewed:"isgmv4dpims",groupMV4DisplayTimeMsUntilAdViewedLog:"dvp_gmv4p",pmxTimeMsUntilAdViewed:"ispmxpms",timeUntilCustomViewabilityMeasuredMs:"iscvmeas",timeUntilCustomViewabilityPassedMs:"iscvmvms",videoPlaybackIndicatorDvp:"dvp_vpb",videoPlaybackIndicator:"vpm",isVideoPreRendered:"prplyd",timeMsUntilVideoPlayed:"dvp_plydms",groupMV4VideoReachExtensionTimeMsUntilAdViewed:"isgmv4vrpims",groupMV4VideoNativeTimeMsUntilAdViewed:"isgmv4vnpims",timeUntilAudibleOnCompleteMs:"tuaudcompms",timeMsUntilAdAudibleAndViewableOnCompletionMs:"qcmpiabva",lastTimeMsVolumeMute:"admutems",timeMsUntilVolumeMeasured:"isavmms",q1vpend:"q1vpend",q2vpend:"q2vpend",q3vpend:"q3vpend",q4vpend:"q4vpend",q1ps:"q1ps",q2ps:"q2ps",q3ps:"q3ps",q4ps:"q4ps",q1iabvms:"q1iabvms",q2iabvms:"q2iabvms",q3iabvms:"q3iabvms",q4iabvms:"q4iabvms",exposureFirstQuartileBitwise:"q1ei",exposureSecondQuartileBitwise:"q2ei",exposureThirdQuartileBitwise:"q3ei",exposureFourthQuartileBitwise:"q4ei",adSkippedTime:"isadskippedms",adSkippableMs:"adskippblems",initialOrientationType:"inor",timeMsUntilTouch:"engtchms",isHoverMeasured:"ishvm",isTouchMeasured:"istchm",isKeyPressMeasured:"iskpm",isMouseMoveMeasured:"ismmm",isOrientationChangeMeasured:"isocm",isAdSizeChangeMeasured:"isascm",isClickMeasured:"isaclkm",isScrollMeasured:"isscrlm",timeMsUntilHover:"enghvms",timeMsUntilClick:"engclkms",timeMsUntilAdSizeIncrease:"engsincms",timeMsUntilAdSizeDecrease:"engsdcms",timeMsUntilAdLocated:"engalms",timeMsUntilFocusIn:"engifcsms",timeMsUntilFocusOut:"engofcsms",clickMeasurementMethod:"dvp_ces",timeMsUntilMouseMove:"engmsmvms",timeMsUntilKeyPress:"engkpssms",timeMsUntilScroll:"engscrlms",timeMsUntilOrientationChangeToPortrait:"engocptms",timeMsUntilOrientationChangeToLandscape:"engoclpms",timeMsUntilVolumeIncrease:"engvlincms",timeMsUntilVolumeDecrease:"engvldcms",timeMsUntilVolumeUnMute:"engvlumms",timeMsUntilVolumeMute:"engvlmtms",timeMsUntilPause:"engvpsdms",timeMsUntilResume:"engvrsmms",timeMsUntilSkip:"engvskpms",timeMsUntilAbandon:"engvabnms",engagementAudienceDisengaged:"dvp_engaud",engagementAudienceEngaged:"dvp_engaud",engagementAudienceNoEngagement:"dvp_engaud",engagementAudienceInterested:"dvp_engaud",videoViewabilityIntervalDataAdSizeMethod:"dvp_vvasm",videoViewabilityIntervalDataAdSize:"dvp_vvas",preVideoAdLoaded:"dvp_in1",preVideoAdStarted:"dvp_in2",preVideoAdImpression:"dvp_in3",preVideoAdStopped:"dvp_in4",autoplayDetectionMethod:"dvp_autpm",mraidVersion:"dvp_mraidver",hiddenAdsIndicator:"dvp_hdnAd",adEngagement:"dvp_adEng",pageEngagement:"dvp_pageEng",noEngagement:"dvp_noEng",omidEvents:"omev",omidGeometryReasonsBitWise:"omgr",omidContainerGeometryHeight:"dvp_ocgh",omidContainerGeometryWidth:"dvp_ocgw",omidCreativeVsContainerIndicator:"dvp_omcvc",omidImpressionType:"omit",omidUnknownImpressionType:"dvp_omuit",omidCreativeType:"omct",omidUnknownCreativeType:"dvp_omuct",omidRenderLogicLog:"dvp_orll",omidPageUrl:"ompurl",omidDeviceOS:"omdos",omidDeviceOSVersion:"omdosv",omidDeviceType:"omdt",omidImpressionEventTimestamp:"omiet",omidAdSessionType:"omdsessiontype",omidJSServiceVersion:"omjssv",shareOfScreenLastDevicePixelRatio:"dvp_dpr",devicePixelRatioChanged:"dvp_sosdprc",screenSizeChanged:"dvp_sosssc",adSizeChanged:"dvp_sosadc",timeMsUntilAdNotAttached:"dvp_anatd",reasonForRenderedByContainerRenderLogic:"dvp_rfrcl",reasonForNotRenderedByContainerRenderLogic:"dvp_rfnrcl",timeUntilPageHideEventNonPersistedMs:"yld_phnpms",visitResponseSize:"vstsz"},e.TPSDataMapping={checksum:"jurtd",flavor:"flvr",timeToMeasureMs:"ttmms",timeToFirstReportMs:"ttfrms",timeToFirstUpdateReportMs:"ttfurm",totalMeasurementExecTime:"tmet",browserId:"brid",browserVersion:"brver",browserIdUserAgent:"bridua",browserDetectionSource:"bds",trafficScenarioType:"tstype",isPreRender:"prndr",eparams:"eparams",windowDepth:"srcurlD",additionalUrlDepth:"aUrlD",isSsl:"ssl",diffSsl:"dvp_diffSSL",isMraid:"ismraid",isOvv:"isovv",prePlayed:"prplyd",supplySource:"sup",dvtp_src_fetchStart:"dfs",dvtp_src_duration:"ddur",uid:"uid",callbackName:"jsCallback",tagVersion:"dvtagver",nativeUserAgent:"navUa",postMessageSupported:"htmlmsging",isChrome:"chro",historySize:"hist",innerHeight:"winh",innerWidth:"winw",outerHeight:"wouh",outerWidth:"wouw",screenHeight:"scah",screenWidth:"scaw",queuePageID:"qpgid",crawlerUrl:"curl",isScriptInHeadLocation:"dvp_isOnHead",scriptVersion:"jsver",dvtpScriptVersion:"tgjsver",idcResults:"vavbkt",idcError:"dvp_idcerr",idcVersion:"lvvn",browserSignatureFamilyBits:"bsig",browserSignatureBits:"usig",hijackedDeviceSignatureBits:"hdsig",browserFeatures:"m1",referrerDepth:"refD",referrerUrl:"referrer",referrerUrlExtractedFromSafeFrame:"urlsrc",safeFrameExists:"sfe",widgetCount:"fwc",cookieLength:"fcl",domainLookupTime:"flt",documentElementCount:"fec",iframeCount:"fcifrms",historyLength:"brh",omidEnvironment:"omdenv",omidAdSessionType:"omdsessiontype",omidAppId:"omdappid",omidContentUrl:"omcurl",omidAccessMode:"omacm",scriptDynamicFlags:"sdf",eparamsLength:"dvp_epl",vastWrapperUrl:"wrapperurl",numberOfCores:"noc",hasTouchPad:"touch",navigatorPlatform:"nav_pltfrm",ctx:"ctx",cmp:"cmp",ipos:"ipos",sid:"sid",plc:"plc",adid:"adid",crt:"crt",btreg:"btreg",btadsrv:"btadsrv",adsrv:"adsrv",advid:"advid",num:"num",pid:"pid",crtname:"crtname",unit:"unit",chnl:"chnl",scusrid:"scusrid",tagtype:"tagtype",sr:"sr",dt:"dt",dup:"dup",app:"app",dvvidver:"dvvidver",turl:"turl",icall:"icall",dv_callback:"dv_callback",useragent:"useragent",xff:"xff",timecheck:"timecheck",tvcp:"tvcp",vssd:"vssd",apifw:"apifw",vstvr:"vstvr",paonlytag:"paonlytag",seltag:"seltag",sadv:"sadv",ord:"ord",litm:"litm",scrt:"scrt",invs:"invs",splc:"splc",adu:"adu",spos:"spos",c1:"c1",c2:"c2",c3:"c3",c4:"c4",c5:"c5",c6:"c6",c7:"c7",c8:"c8",c9:"c9",c10:"c10",c11:"c11",c12:"c12",c13:"c13",c14:"c14",c15:"c15",native:"native",gmnpo:"gmnpo",isdvvid:"isdvvid",vpaidPlayerUrl:"dvpx_asuri",msrapi:"msrapi",bsimpid:"bsimpid",auctionid:"auctionid",vermemid:"vermemid",source:"source",buymemid:"buymemid",anadvid:"anadvid",ioid:"ioid",cpgid:"cpgid",cpid:"cpid",sellerid:"sellerid",pubid:"pubid",advcode:"advcode",iocode:"iocode",cpgcode:"cpgcode",cpcode:"cpcode",pubcode:"pubcode",prcpaid:"prcpaid",auip:"auip",auua:"auua",prr:"prr",iframe:"iframe",gdpr:"gdpr",gdpr_consent:"gdpr_consent",errorURL:"errorURL",auprice:"auprice",ppid:"ppid",audeal:"audeal",auevent:"auevent",auadv:"auadv",aucmp:"aucmp",aucrtv:"aucrtv",auorder:"auorder",ausite:"ausite",auplc:"auplc",auxch:"auxch",audvc:"audvc",aulitem:"aulitem",auadid:"auadid",pltfrm:"pltfrm",aufilter1:"aufilter1",aufilter2:"aufilter2",autt:"autt",aubndl:"aubndl",supportedIntegrations:"mib"}},2874:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.RTSEventNames=e.RTSDataMapping=void 0,e.RTSDataMapping={timeMsUntilAdMeasured:"IABMeasuredImpression",timeMsUntilAdViewed:"IABViewableImpression",groupMTimeMsUntilAdMeasuredRTS:"GroupMMeasuredImpression",groupMTimeMsUntilAdViewedRTS:"GroupMPassedImpression",groupMV3TimeMsUntilAdViewedRTS:"GroupMV3StandardPassedImpression",groupMV4TimeMsUntilAdViewedRTS:"GroupMV4StandardPassedImpression",groupMV4DisplayTimeMsUntilAdViewedRTS:"GroupMV4DisplayStandardPassedImpression",groupMV4VideoReachExtensionTimeMsUntilAdViewedRTS:"GroupMV4VideoReachExtensionStandardPassedImpression",groupMV4VideoNativeTimeMsUntilAdViewedRTS:"GroupMV4VideoNativeStandardPassedImpression",timeUntilCustomViewabilityPassedMs:"CustomViewabilityViewable",q1iabvms:"VideoQuartile1ViewableIAB",q2iabvms:"VideoQuartile2ViewableIAB",q3iabvms:"VideoQuartile3ViewableIAB",q4iabvms:"VideoQuartile4ViewableIAB",iabv5:"IABAdViewable5Seconds",iabv10:"IABAdViewable10Seconds",iabv15:"IABAdViewable15Seconds",pmxTimeMsUntilAdMeasured:"PMXStandardMeasuredImpression",pmxTimeMsUntilAdViewed:"PMXStandardPassedImpression",engagementAudienceDisengaged:"EngagementAudienceDisengaged",engagementAudienceEngaged:"EngagementAudienceEngaged",engagementAudienceNoEngagement:"EngagementAudienceNoEngagement",engagementAudienceInterested:"EngagementAudienceInterested",adEngagement:"AdInteraction",pageEngagement:"DeviceInteraction",noEngagement:"NoInteraction",isMrcImpression:"MRCImpression"},e.RTSEventNames=["ImpressionServed","SessionEnd","IABNotMeasuredImpression",...Object.values(e.RTSDataMapping)]},8170:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DiagnosticParamsSingleton=e.DiagnosticParams=void 0;const n=i(749);var s;!function(t){t.unitTest="ut",t.omidRenderedFromImpressionEvent="omrie",t.omidRenderedFromGeomChangePercLargerThanZero="omrge",t.cvcMethodId="cvcmeeid",t.adIdentityClientCode="ctx",t.adIdentityAdServerCampaignCode="cmp",t.adIdentityAdServerSiteCode="sid",t.adIdentityPlacementId="plc",t.adIdentityAdServer="adsrv",t.adIdentityDedupingId="dup",t.timeUntilOmidListenMs="omlms",t.timeTillAdSelected="tmads",t.errorStackTrace="errstk",t.taskTiming="tskt",t.isOmid3p="isom3p",t.adSizeMeasurementMethod="asmm",t.omidEnvironment="omenv",t.btregOptimizationSuccess="btros",t.btregOptimizationValue="btreg",t.btregValueInvalid="btregiv",t.regexNotAvailable="regxnav",t.btadsrvValue="btadsrv",t.findClassValue="findclass",t.initialScriptUrl="dvtpurl",t.tagUniqueKey="tukv",t.sharedTagUniqueKey="sukv",t.ddtExtractionSource="ddtes",t.unknownScreenOrientationType="usot",t.isOmidEnabled="isom",t.tagCounterOmidSupported="tgcoom",t.omidPartnerName="omnpn",t.omidPartnerVersion="omnpv",t.omidJSPartnerName="omjspn",t.omidJSPartnerVersion="omjspv",t.omidFirstAdSizeFromGeometryMs="omfadsfgms",t.omidTimeMsUntilStartSession="omstsms",t.omidTimeMsUntilStartVideo="omstms",t.omidTimeMsUntilEndVideo="omensms",t.omidVendorKey="omvk",t.omidMeasuringElement="ome",t.omidDeviceCategory="omdevcat",t.celtraDeepScannerCalled="cdsc",t.celtraScannerCalled="csc",t.Et="csalm",t.celtraScannerParentElementFound="cspf",t.omidVersionComparison="omverc",t.omidAdSessionId="omasid",t.adCandidatesLocatorMethodTries="msrcanlt",t.isKeyPressed="iskp",t.isMouseMoved="ismm",t.isOrientationChangedToPortrait="isoctp",t.isOrientationChangedToLandscape="isoctl",t.performanceJanusLongTaskMeasuring="jltm",t.performanceJanusLongTaskDuration="jltd",t.performanceJanusLongTaskCount="jlta",t.byTagScanner="btsc",t.isMrcImpression="mrci",t.selectedAdWidth="saw",t.selectedAdHeight="sah",t.ImpressionServed="rtnevis",t.IABMeasuredImpression="rtneviabmi",t.IABNotMeasuredImpression="rtneviabnmi",t.IABViewableImpression="rtneviabvi",t.GroupMMeasuredImpression="rtnevgmmmi",t.GroupMPassedImpression="rtnevgmmpi",t.GroupMV3StandardPassedImpression="rtnevgmv3spi",t.GroupMV4StandardPassedImpression="rtnevgmv4spi",t.GroupMV4DisplayStandardPassedImpression="rtnevgmv4dspi",t.GroupMV4VideoReachExtensionStandardPassedImpression="rtnevgmv4vrespi",t.GroupMV4VideoNativeStandardPassedImpression="rtnevgmv4vnspi",t.CustomViewabilityViewable="rtnevcvv",t.VideoQuartile1ViewableIAB="rtnevvq1vi",t.VideoQuartile2ViewableIAB="rtnevvq2vi",t.VideoQuartile3ViewableIAB="rtnevvq3vi",t.VideoQuartile4ViewableIAB="rtnevvq4vi",t.IABAdViewable5Seconds="rtneviabv5s",t.IABAdViewable10Seconds="rtneviabv10s",t.IABAdViewable15Seconds="rtneviabv15s",t.PMXStandardMeasuredImpression="rtnevpmxmi",t.PMXStandardPassedImpression="rtnevpmxpi",t.EngagementAudienceDisengaged="rtnevead",t.EngagementAudienceEngaged="rtneveae",t.EngagementAudienceNoEngagement="rtneveane",t.EngagementAudienceInterested="rtneveai",t.AdInteraction="rtnevai",t.DeviceInteraction="rtnevdi",t.NoInteraction="rtnevni",t.MRCImpression="rtnevmrci",t.SessionEnd="rtnevse",t.adLocatingMode="alm",t.markedAdLocatingMode="almbtreg",t.timeMsUntilAdMeasured="tmuam",t.adCandidateSelectedState="acss",t.omidInteractionInvitationAccept="omiia",t.omidCustomInteractions="omci",t.omidIsVerificationPropsDefined="omvpdef",t.descendantIframeClickHandlers="dich",t.descendantIframeClickHandlerDepth="dichd",t.descendantIframeClickHandlerCount="dichc",t.descendantIframeDryRunHandlerDepth="didchd",t.descendantIframeDryRunHandlerCount="didchc",t.descendantIframeDryRunHandlerClick="didchcl",t.descendantIframeDryRunHandlerTouch="didchto",t.visitJsonErrorPixel="vjep",t.adLocatingDiagnostics="ald"}(s||(e.DiagnosticParams=s={}));e.DiagnosticParamsSingleton=new class{constructor(){this.lastValueReported={}}getQueryParamName(t){return`ee_dp_${t}`}reportDiagnosticParam(t,e){const i=this.getQueryParamName(t);n.v.sendMessage({[i]:e})}report(t,e){if(this.lastValueReported[t]!==e){this.lastValueReported[t]=e;const i=this.getQueryParamName(t);n.v.sendMessage({[i]:e})}}reportOnce(t,e){if(!(t in this.lastValueReported)){this.lastValueReported[t]=e;const i=this.getQueryParamName(t);n.v.sendMessage({[i]:e})}}}},8564:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.DomAdData=void 0;e.DomAdData=class{constructor(t,e,i){this.domElement=t,this.depth=e,this.isFullyLoaded=i}}},4969:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdCandidateEventData=void 0;const n=i(7404);class s extends n.EventData{constructor(t,e={}){super(e.updateTime),this.adCandidate=t,this.relevantData=e,this.updateTime=e.updateTime||this.updateTime,e.updateTime=this.updateTime}}e.AdCandidateEventData=s},734:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.st=void 0;const n=i(7404);class s extends n.EventData{constructor(t){super(),this.diagnosticData=t}}e.st=s},6566:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.O=void 0;const n=i(7404);class s extends n.EventData{constructor(t){super(),this.yt=t.getMethod(),this._t=t.getNumberOfTries(),this.numberOfAdSizeValidationFailures=t.getNumberOfAdSizeValidationFailures(),this.scanDiagnosticData=t.getScanDiagnosticData()}static M(t){return new this(t)}}e.O=s},9888:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdRenderedEventData=void 0;const n=i(7404);class s extends n.EventData{constructor(t){super(),this.uid=t}}e.AdRenderedEventData=s},8697:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DelayTimerData=void 0;const n=i(7404);class s extends n.EventData{constructor(t){super(),this.delayTimeMS=t}}e.DelayTimerData=s},7404:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.EventData=void 0;const n=i(3380);e.EventData=class{constructor(t){this.updateTime=t||n.Utilities.getTimeDiff()}}},2694:function(t,e){Object.defineProperty(e,"__esModule",{value:!0})},8369:function(t,e){Object.defineProperty(e,"__esModule",{value:!0})},5561:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.LongTaskEventData=void 0;const n=i(7404);class s extends n.EventData{constructor(t){super(),this.longTasks=t}}e.LongTaskEventData=s},1690:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PerformanceEventData=void 0;const n=i(7404);class s extends n.EventData{constructor(t,e){super(),this.performanceData=t,this.adData=e}}e.PerformanceEventData=s},2578:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.V=void 0;const n=i(7404);class s extends n.EventData{constructor(t){super(),this.adPriority=t}}e.V=s},6779:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.TaskTimingEventData=void 0;const n=i(7404);class s extends n.EventData{constructor(t){super(),this.taskTimings=t}}e.TaskTimingEventData=s},9450:function(t,e,i){var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i);var s=Object.getOwnPropertyDescriptor(e,i);s&&!("get"in s?!e.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,s)}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),s=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),s(i(4969),e),s(i(6566),e),s(i(9888),e),s(i(8697),e),s(i(7404),e),s(i(8369),e),s(i(2694),e),s(i(5561),e),s(i(1690),e),s(i(2578),e),s(i(6779),e)},9878:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.TPSData=void 0;const n=i(3380);e.TPSData=class{constructor(){this.tagVersion="6.1.src",this.scriptVersion=n.Utilities.getVersion(),this.trafficScenarioType=0,this.additionalParams={},this.dvpParamsFlags=[]}}},9393:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.kt=void 0,e.kt=["vpaid","marked","auto","manual"]},7078:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.isMarkedAdDetected=e.isSpecialIntegrationDetected=e.isCeltraDetected=e.isDfaDetected=e.isCm360Detected=e.isMraidDetected=e.isVpaidDetected=e.isOmidDetected=e.isDisplayDetected=void 0;const n=i(7749),s=i(870),r=i(6681),o=i(1063),a=i(3285);e.isDisplayDetected=()=>0===n.T.getTagType();e.isOmidDetected=()=>s.omidAdapter.isSupported();e.isVpaidDetected=()=>o.VpaidWrapper.isSupported();e.isMraidDetected=()=>r.MraidWrapper.isSupported();e.isCm360Detected=()=>{const t=n.T.isCm360ParamExtractionEnabled(),e=n.T.getValueOfTagAttribute("data-doubleverify-container");return t&&(null!=e&&""!==e)};e.isDfaDetected=()=>n.T.getAdServerId()===a.DFA_AD_SERVER_ID;e.isCeltraDetected=()=>n.T.getAdServerId()===a.CELTRA_AD_SERVER_ID;e.isSpecialIntegrationDetected=()=>(0,e.isCm360Detected)()||(0,e.isCeltraDetected)()||(0,e.isDfaDetected)();e.isMarkedAdDetected=()=>null!=n.T.getBtreg()&&(0,e.isDisplayDetected)()&&!(0,e.isOmidDetected)()&&!(0,e.isVpaidDetected)()&&!(0,e.isMraidDetected)()&&!(0,e.isSpecialIntegrationDetected)()},1105:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Nt=void 0;const n=i(7749),s=i(5309),r=i(9393),o=i(7078);e.Nt=()=>{const t=n.T.getLowerCaseParams().alm;return s.markedAdLocationExperiment.isEnabled()&&(0,o.isMarkedAdDetected)()?"marked":null!=t&&r.kt.includes(t)?t:"auto"}},4195:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Lt=void 0;const n=i(1153),s=i(1634),r=i(6707),o=i(554),a=i(8066),u=i(9969),c=i(6018),d=i(8476),l=i(7257),h=i(3820),v=i(4620),p=i(172),f=i(4846),g=i(9260),m=i(8130),b=i(677),w=i(7898),_=i(9296),S=i(52),y=i(5166);e.Lt=t=>{switch(t){case"vpaid":return[o.ft,a.ht];case"marked":return[n.H,s.F,r.$,u.k,c.W,S.ot.ct(y.G)];case"manual":return[_.A];default:return[n.H,s.F,r.$,u.k,d.U,l.q,c.W,h.B,v.P,p.L,o.ft,a.ht,f.lt,g.vt,m.N,b.rt,w.R,S.ot.ct(y.G)]}}},3997:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Ut=void 0;const n=i(8170),s=i(1105),r=i(4195);e.Ut=()=>{const t=(0,s.Nt)();n.DiagnosticParamsSingleton.reportDiagnosticParam(n.DiagnosticParams.adLocatingMode,t);(0,r.Lt)(t).forEach((t=>(new t).start()))}},6986:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});const n=i(138);i(6875),i(8962);const s=i(1759),r=i(6671),o=i(194),a=i(749),u=i(425),c=i(7360),d=i(7749),l=i(9450),h=i(3868),v=i(3380),p=i(712),f=i(3219),g=i(8010),m=i(9688),b=i(8397),w=i(6574),_=i(5390),S=i(6783),y=i(9106),M=i(7998),O=i(6892),E=i(2221),T=i(1079),A=i(370),I=i(8213),C=i(6800),j=i(8357),D=i(8453),V=i(1059),x=i(992),R=i(4194),P=i(8733),k=i(9582),N=i(6254),L=i(4932),U=i(6674),F=i(4115),B=i(1822),z=i(9878),q=i(5070),W=i(4053),H=i(7741),$=i(8456),G=i(5817),J=i(7026),Q=i(6681),K=i(870),Y=i(1063),X=i(3038),Z=i(6820),tt=i(4713);X.default.setInitFireVisitImportsEndTime(),X.default.setInitFireVisitImportsStartTime(n.initFireVisitImportsStartTime);const et=()=>{};e.default=()=>new Promise(((t,e)=>{!function(t){function e(){const{omidJsClient:t,omidSessionData:e,isDomlessEnvironment:i,isFrameSupported:n,tags:s,tagsCounter:r,omidSessionStartTime:o,omidVendorKey:a,tagData:u,restrictedAccess:c,pubSub:d,isPubSubEval:l,sharedUniqueKey:h,dvGetOmidVerificationClient:v}=$dv;$dv={dvGetOmidVerificationClient:v,omidJsClient:t,omidSessionData:e,isDomlessEnvironment:i,isFrameSupported:n,tags:s,tagsCounter:r,omidSessionStartTime:o,omidVendorKey:a,tagData:u,restrictedAccess:c,pubSub:d,isPubSubEval:l,sharedUniqueKey:h}}function i(){const t=h.S.currentWindow(),e=o.I.getImpressionId(t);o.I.setImpressionId(e),a.v.firePreviousEvents(),a.v.sendMessage({msrjs:v.Utilities.getVersion()}),c.u.dispatchEvent(c.DvEvent.impressionServed,new l.EventData)}function n(){const t=h.S.currentWindow(),e=o.I.getFrameId(t),n=o.I.getImpressionId(t),s=o.I.It();s.isPubSubEval||n||(s.pubSub=c.Tt,s.isPubSubEval=!0),s.pubSub.excludeFrameId&&s.pubSub.excludeFrameId(e),s.pubSub.subscribe(c.DvEvent.impressionServed,e,"DVM_impressionServed",i)}function it(){return[Y.VpaidWrapper,Q.MraidWrapper,K.omidAdapter]}function nt(){const t=it();return[new g.DvParamsCollector,new P.ParamUrlExtractionMethodCollector,new m.BrowserCollector,new b.TrafficScenarioCollector,new f.PreRenderCollector,new D.MraidCollector,new N.OmidContextCollector,new k.TpsApiTypeCollector,new j.SslCollector,new V.SupplySourceCollector,new L.ReferrerCollector,new M.WindowPropertiesCollector,new w.StrCollector,new _.VideoParamsCollector,new S.IOSMapleCollector,new O.DomScriptCollector,new E.ScriptsPerformanceCollector,new T.UserCollector,new A.BrowserSignatureCollector,new x.InjectionDetectionCodeCollector,new R.HijackedDeviceSignatureCollector,new I.BrowserFeaturesCollector,new C.AttributeCollector,new y.VpaidPlayerUrlCollector,new U.VastUrlCollector,new F.HardwareFeaturesCollector,new B.SupportedIntegrationsCollector(t)]}function st(t){return[new q.TPSDataCollector(t),new H.MeasureGdpr,new $.MeasureGdprV2,new W.GlobalVariablesInjection]}function rt(){const t=new z.TPSData;d.T.start(),J.RenderLogicFactory.getRenderLogic().start(),Y.VpaidWrapper.start();return st(nt()).forEach((e=>{try{e.isSupported(t)&&e.executePhase(t)}catch(t){a.v.sendError(p.ClientErrorType.VisitLogicError,t,e.toString())}})),t}function ot(){}function at(t,e){X.default.setFireVerifyExecutionStartTime();et(t,e,u.p,o.I,d.T,h.S,v.Utilities).execute(),X.default.setFireVerifyExecutionEndTime()}function ut(){if(!d.T.getIsCm360CreativeWrapping()||0!==d.T.getTagType())return;const t=d.T.getCm360ContainerId(),e=u.p.getElementById(t);e&&u.p.setElementStyle(e,"visibility","")}function ct(t){X.default.setFireVisitExecutionStartTime();const e=new G.ScriptsInjection;e.isSupported()&&e.executePhase(t),vt=!0,X.default.setFireVisitExecutionEndTime()}function dt(e){ut(),ct(e),t()}function lt(){if(X.default.setInitMainExecutionStartTime(),e(),n(),!u.p.isBrowserSupported())return;const t=(0,Z.invokeWithPerformanceMeasures)({name:"ctdetms"},rt);(0,tt.initializeExperiments)(),ot()?at(t,dt):d.T.getIsMonitoringEnabled()&&dt(t),X.default.setInitMainExecutionEndTime()}function ht(){if(!Z.isPerformanceTimingAllowed)return;const t=X.default.getBenchmarks();(0,Z.scheduleTask)((()=>{[...t,{taskDetails:{name:"srbf"},startTime:0,endTime:ot()?2:1}].forEach((({taskDetails:t,startTime:e,endTime:i})=>(0,Z.reportTaskTiming)(t,e,i)))}))}let vt=!1;try{o.I.setDvGetOmidVerificationClient(s);const t=new r.OmidVerificationClientWrapper(s());t.isSupported()?t.ready(lt):lt(),X.default.setTotalSyncTimeEndTime(),ht()}catch(t){vt?a.v.sendError(p.ClientErrorType.PostMeasuredGlobalMainError,t):a.v.sendError(p.ClientErrorType.PreMeasuredGlobalMainError,t)}}(t)}))},8703:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.initAdDataLoggerBL=e.initAdBL=void 0;const n=i(4342),s=i(1849),r=i(334),o=i(6265),a=i(1847),u=i(1899),c=i(3502),d=i(6991),l=i(5765),h=i(7196),v=i(8720),p=i(3738),f=i(8642),g=i(2181),m=i(8123),b=i(8029),w=i(5152),_=i(5993),S=i(1354),y=i(3454),M=i(5157),O=i(1061),E=i(7912),T=i(7175),A=i(6825),I=i(4691),C=i(7827),j=i(9045),D=i(4771),V=i(8877),x=i(9603),R=i(7938),P=i(458),k=i(1726),N=i(9611),L=i(5500),U=i(4892),F=i(9616),B=i(6128),z=i(7015),q=i(2020),W=i(2968),H=i(6715),$=i(2310),G=i(4021),J=i(9608),Q=i(1886),K=i(5784),Y=i(6901),X=i(876),Z=i(615),tt=i(223),et=i(8463),it=i(4183),nt=i(7999),st=i(6044),rt=i(1816),ot=i(3363),at=i(1006),ut=i(9289),ct=i(8874),dt=i(5443),lt=i(2359),ht=i(8345),vt=i(8076),pt=i(6355),ft=i(8409),gt=i(3831),mt=i(3723),bt=i(2530),wt=i(4372),_t=i(7135),St=i(1328),yt=i(6820),Mt=i(2727),Ot=i(7684),Et=i(5465),Tt=i(1074),At=i(3500),It=i(4515),Ct=i(9721);e.initAdBL=()=>{new n.PageEventsLoggerBL,new s.OmidLoggerBL,new r.OmidImpressionEventInfoBL,new o.ExposureCompatibilityIndicator,new a.AdSelectorLogger,new u.wt,new c.AdElementInfoExtractorBL,new d.CreativeVsContainerBL,new l.AdDomElementObserverBL,new h.ExposureBL,new v.AdSizeBL,new p.AdWrapperSizeBL,new f.PMXDisplayViewabilityBL,new g.PMXVideoViewabilityBL,new m.IabNotViewReasonsViewabilityBL,new b.IabDisplayViewabilityBL,new w.IabVideoViewabilityBL,new _.IabVideoQuartileViewabilityBL,new S.VideoQuartileFullOnScreenBL,new y.VideoFullQuartileAudibleBL,new M.IabDisplayViewabilityForXSecondsBL,new O.IabVideoViewabilityForXSecondsBL,new E.GroupMDisplayViewabilityBL,new T.GroupMVideoViewabilityBL,new A.GroupMV4NonMobileDisplayViewabilityBL,new I.GroupMV4MobileDisplayViewabilityBL,new C.GroupMV4VideoNativeViewabilityBL,new j.GroupMV4VideoReachExtensionViewabilityBL,new D.BucketsDisplayViewabilityBL,new V.BucketsVideoViewabilityBL,new x.VideoInViewAndAudibleBL,new R.EndQuartileViewabilityBL,new P.RbViewabilityBL,new k.ViewabilityStartPercentageBL,new N.QuartileBucketsVolumeBL,new L.MobileOrientationBL,new U.FocusBucketsBL,new F.MrcImpressionBL,new B.Cm360Logger(new z.Cm360AdContainerInspectorFactory("data-doubleverify-container")),new q.RenderingMethodLogger,new Ct.AdLocationDiagnosticsLogger,new W.PerformanceMetricsBL,new H.ViewableShareOfScreenBL,new $.InViewShareOfScreenBL,new G.AdSelector,new J.AdLocatedBL,new Q.VideoMarkImpressionAsRenderedBL,new K.VideoStoppedBL,new Y.VideoSkippableBL,new X.VideoCompleteBL,new Z.VideoLengthBL,new tt.VolumeBL,new et.InteractionHoverBL,new it.InteractionTouchBL,new nt.InteractionClickBL,new st.InteractionVolumeBL,new rt.InteractionPauseBL,new ot.InteractionResumeBL,new at.InteractionSkipBL,new ut.InteractionAbandonBL,new ct.InteractionFocusBL,new dt.InteractionAdSizeBL,new lt.PageInteractionKeyPressBL,new ht.PageInteractionMouseMoveBL,new vt.PageInteractionScrollBL,new pt.PageInteractionOrientationChangeLandscapeBL,new ft.PageInteractionOrientationChangePortraitBL,new gt.ReportAdManagerTPS,new mt.DataTransparencyBL,new bt.PerformanceApiBL,new wt.PerformanceLongTasksBL,new _t.PerformanceJanusBL,new St.ScriptInjectionModeBL,yt.isPerformanceTimingAllowed&&new Mt.PerformanceTaskTimingBL,new Ot.ViewabilityMeasurementBL,new Et.UserPresenceBL,new It.IframeEngagementInfoExtractorBL,new Tt.NormalizedAdSizeBL,(()=>{{const{ReportAdManagerRTS:t}=i(9401),{EngagementReportRtsBL:e}=i(5648);new t,new e}})()};e.initAdDataLoggerBL=()=>{new At.ShareOfScreenResearchBL}},7612:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.initAdDataCollector=void 0;const n=i(2452),s=i(6195),r=i(3081),o=i(9615),a=i(4874),u=i(2294),c=i(1776),d=i(7815),l=i(1194),h=i(3384),v=i(417),p=i(6593),f=i(4668),g=i(7379),m=i(2237),b=i(9198),w=i(1606),_=i(6789);e.initAdDataCollector=()=>{new n.FocusDataCollector,new s.StrictFocusDataCollector,new r.ViewabilityDataCollector,new o.BoundariesViewabilityDataCollector,new a.AdInteractionEventDataCollector,new u.OmidInteractionDataCollector,new c.VideoPlaybackDataCollector,new d.HiddenAdsDataCollector,new l.AutoplayDataCollector,new h.PageEventsDataCollector,new v.PerformanceApiDataCollector,new p.PerformanceLongTasksDataCollector,new f.PerformanceJanusDataCollector,new g.UserPresenceDataCollector,new m.InteractionUnloadDataCollector,new b.PageInteractionMouseMoveDataCollector,new w.PageInteractionKeyPressDataCollector,new _.PageInteractionOrientationChangedDataCollector}},3978:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});const n=i(3038),s=i(7527),r=i(6820),o=i(749),a=i(712),u=i(3997),c=i(8703),d=i(7612);e.default=()=>{try{n.default.setInitMeasurementExecutionStartTime(),[(0,r.trackPerformanceWhenExecuted)({name:"iabletms"},c.initAdBL),(0,r.trackPerformanceWhenExecuted)({name:"iadletms"},c.initAdDataLoggerBL),(0,r.trackPerformanceWhenExecuted)({name:"iadcetms"},d.initAdDataCollector),(0,r.trackPerformanceWhenExecuted)({name:"ialeetms"},u.Ut),(0,r.trackPerformanceWhenExecuted)({name:"icifdetms"},(()=>new s.CollectIframeFallbackData))].forEach((t=>t())),n.default.setInitMeasurementExecutionEndTime()}catch(t){o.v.sendError(a.ClientErrorType.PostMeasuredGlobalMainError,t,"initMeasurements")}}},6262:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Janus=void 0,e.Janus=i(9340)},7939:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.wrapConstructor=void 0;const n=i(131);e.wrapConstructor=(t,e,i)=>new Proxy(t[e],{construct(t,s){const r=s[i],o=(0,n.wrapFunction)(r,e),a=s.slice(0);return a[i]=o,new t(...a)}})},131:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.wrapFunction=void 0;const n=i(1918);e.wrapFunction=(t,e)=>function(...e){try{n.macroTaskTracker.mark()}catch(t){}return t.apply(this,e)}},1027:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.wrapMethod=void 0;const n=i(131),s=new WeakMap;e.wrapMethod=(t,e)=>(i,...r)=>{const o=i[t],a=r.slice(0);try{const i=r[e];if(!s.has(i)){const e=(0,n.wrapFunction)(i,t);s.set(i,e)}const o=s.get(i);a[e]=o}catch(t){}return o.apply(i,a)}},4265:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.triggerEvent=e.onTaskMeasured=void 0;const n=i(713),s=[];e.onTaskMeasured=t=>{s.push(t),1===s.length&&n.longTaskApi.startCollectData()};e.triggerEvent=t=>{s.forEach((e=>{e(t)}))}},1918:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.macroTaskTracker=e.MacroTaskTracker=void 0;const n=i(2690),s=i(6649);class r{constructor(){this.getTaskTimestamp=t=>this.tasks[t],this.tasks=[]}addTask(t){this.tasks.push(t)}mark(){this.addTask((0,s.getNow)())}hasMatchingTask(t,e){return-1!==this.getMatchingTaskIndex(t,e)}getMatchingTaskIndex(t,e){const i=t+e;return(0,n.binarySearchIndex)(this.tasks,t,i)}pruneTasks(t){this.tasks=this.tasks.slice(t)}}e.MacroTaskTracker=r,e.macroTaskTracker=new r},9340:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.mark=e.wrapConstructor=e.wrapFunction=e.wrapMethod=e.removeEventListener=e.addEventListener=e.setInterval=e.setTimeout=e.isSupported=e.onTaskMeasured=void 0;const n=i(1027);Object.defineProperty(e,"wrapMethod",{enumerable:!0,get:function(){return n.wrapMethod}});const s=i(131);Object.defineProperty(e,"wrapFunction",{enumerable:!0,get:function(){return s.wrapFunction}});const r=i(4265);Object.defineProperty(e,"onTaskMeasured",{enumerable:!0,get:function(){return r.onTaskMeasured}});const o=i(7051);Object.defineProperty(e,"setTimeout",{enumerable:!0,get:function(){return o.setTimeout}});const a=i(4531);Object.defineProperty(e,"setInterval",{enumerable:!0,get:function(){return a.setInterval}});const u=i(3438);Object.defineProperty(e,"addEventListener",{enumerable:!0,get:function(){return u.addEventListener}}),Object.defineProperty(e,"removeEventListener",{enumerable:!0,get:function(){return u.removeEventListener}});const c=i(713),d=i(7939);Object.defineProperty(e,"wrapConstructor",{enumerable:!0,get:function(){return d.wrapConstructor}});const l=i(1918),h=c.longTaskApi.isSupported.bind(c.longTaskApi);e.isSupported=h,e.mark=l.macroTaskTracker.mark.bind(l.macroTaskTracker)},713:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.longTaskApi=e.LongTaskApi=void 0;const n=i(4265),s=i(1918),r="longtask";class o{constructor(){this.observer=null}isSupported(){var t;return"undefined"!=typeof PerformanceObserver&&!!(null===(t=null===PerformanceObserver||void 0===PerformanceObserver?void 0:PerformanceObserver.supportedEntryTypes)||void 0===t?void 0:t.some((t=>t===r)))}startCollectData(){if(!this.observer&&this.isSupported())try{this.observer=new PerformanceObserver(this.handleLongTasksEntries),this.observer.observe({type:r,buffered:!0}),s.macroTaskTracker.mark()}catch(t){throw new Error("Janus failed to start collecting long tasks data")}}handleLongTasksEntries(t){t.getEntries().forEach((({startTime:t,duration:e})=>{const i=s.macroTaskTracker.getMatchingTaskIndex(t,e);-1!==i&&((0,n.triggerEvent)({startTime:t,duration:e}),s.macroTaskTracker.pruneTasks(i))}))}}e.LongTaskApi=o,e.longTaskApi=new o},3438:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.removeEventListener=e.addEventListener=void 0;const n=i(1027);e.addEventListener=(0,n.wrapMethod)("addEventListener",1),e.removeEventListener=(0,n.wrapMethod)("removeEventListener",1)},4531:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.setInterval=void 0;const n=i(1027);e.setInterval=(0,n.wrapMethod)("setInterval",0)},7051:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.setTimeout=void 0;const n=i(1027);e.setTimeout=(0,n.wrapMethod)("setTimeout",0)},2690:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.binarySearchIndex=void 0;e.binarySearchIndex=(t,e,i)=>{let n=0,s=t.length-1,r=-1;for(;n<=s;){const o=Math.floor((n+s)/2),a=t[o];a>=e&&a<i?(r=o,n=o+1):a>=i?s=o-1:n=o+1}return r}},6649:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getNow=void 0;e.getNow=()=>{var t;return"undefined"!=typeof window&&"undefined"!=typeof performance&&"function"==typeof performance.now&&null!==(t=window.performance.now())&&void 0!==t?t:0}},8519:function(t,e,i){const n=i(3978),s=i(6986);t.exports=async()=>(await(0,s.default)(),(0,n.default)())},7527:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.CollectIframeFallbackData=void 0;const n=i(7360),s=i(712),r=i(194),o=i(3868),a=i(749),u=i(425);e.CollectIframeFallbackData=class{constructor(){this.htmlSampleRate=.1,n.u.addEventListener(n.DvEvent.adSelected,this.collectIframeData.bind(this))}collectIframeData(t){let e=t.adCandidate,i=r.I.getImpressionId(o.S.currentWindow());if(e&&e.domElement&&e.locatorMethods==s.LocatorMethods.DisplayIframeFallback){let t=o.S.workingDocumentElement();100*Math.random()<=this.htmlSampleRate&&this.uploadHtml(t.outerHTML,i);let e={};this.iframeElementsTagsStatistics(t,e);let n="";Object.keys(e).forEach((t=>n+=t+":"+e[t]+",")),a.v.registerEventCall(i,{dvp_itg:n})}}uploadHtml(t,e){let i=new Date,n=i.getDate()>9?i.getDate().toString():"0"+i.getDate().toString(),s=i.getFullYear(),r=i.getMonth()>9?i.getMonth().toString():"0"+i.getMonth().toString(),a=new XMLHttpRequest;a.open("PUT","https://d23xwq4myz19mk.cloudfront.net/htmldata/iframefallback/"+s+n+r+"/"+o.S.workingWindow().location.hostname+"/"+e+"_iframefallback_data.html",!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),a.setRequestHeader("x-amz-acl","public-read"),a.send(t)}iframeElementsTagsStatistics(t,e){if(t.hasChildNodes()){let i=u.p.getElementChildren(t);for(let t of i)e.hasOwnProperty(t.nodeName)?e[t.nodeName]++:e[t.nodeName]=1,this.iframeElementsTagsStatistics(t,e)}}}},1849:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.OmidLoggerBL=void 0;const n=i(870),s=i(630),r=i(6751),o=i(7360),a=i(3380),u=i(194),c=i(8379),d=i(8170);class l extends r.BaseAdBL{constructor(){super(...arguments),this.renderEventTypes={IMPRESSION_EVENT:1,GEOMETRY_CHANGE_AD_DIM:2,GEOMETRY_CHANGE_PCT_IN_VIEW:4,IMPRESSION_EVENT_PCT_IN_VIEW:8}}isSupported(){return n.omidAdapter.isSupported()}getEventsAndCallbacksToRegister(){return{[o.DvEvent.adCandidateApproved]:t=>this.adCandidateApproved(t)}}init(){}adCandidateApproved(t){const e=u.I.It();e.tagsCounter>1&&d.DiagnosticParamsSingleton.reportOnce(d.DiagnosticParams.tagCounterOmidSupported,e.tagsCounter),n.omidAdapter.registerSessionObserver((e=>this.omidSessionEventHandler(t,e))),a.Utilities.objectValues(s.OmidAdEventType).filter((t=>t!==s.OmidAdEventType.MEDIA&&t!==s.OmidAdEventType.VIDEO)).forEach((e=>{n.omidAdapter.addEventListener(e,(e=>this.omidEventHandler(e,t)))}))}omidEventHandler(t,e){try{switch(t.type){case s.OmidAdEventType.IMPRESSION:this.handleImpressionEvent(t,e);break;case s.OmidAdEventType.GEOMETRY_CHANGE:this.handleGeometricChangeEvent(t,e);break;case s.OmidAdEventType.START:this.handleStartEvent();break;case s.OmidAdEventType.COMPLETE:this.handleCompleteEvent()}this.onTriggeredOmidEvent(e,t.type)}catch(t){}}handleImpressionEvent(t,e){var i,n;let s=0;if(s|=this.renderEventTypes.IMPRESSION_EVENT,(null==t?void 0:t.timestamp)&&(e.adCandidate.omidImpressionEventTimestamp=t.timestamp),null===(n=null===(i=null==t?void 0:t.data)||void 0===i?void 0:i.adView)||void 0===n?void 0:n.percentageInView){s|=t.data.adView.percentageInView>0?this.renderEventTypes.IMPRESSION_EVENT_PCT_IN_VIEW:0}e.adCandidate.omidRenderLogicLog|=s}handleStartEvent(){d.DiagnosticParamsSingleton.reportOnce(d.DiagnosticParams.omidTimeMsUntilStartVideo,a.Utilities.getTimeDiff())}handleCompleteEvent(){d.DiagnosticParamsSingleton.reportOnce(d.DiagnosticParams.omidTimeMsUntilEndVideo,a.Utilities.getTimeDiff())}geometricChangeRenderTrigger(t){var e,i;let n=0;if(null===(i=null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.adView)||void 0===i?void 0:i.geometry){const e=t.data.adView.geometry.width>0&&t.data.adView.geometry.height>0,i=t.data.adView.percentageInView>0;(i||e)&&(n|=e?this.renderEventTypes.GEOMETRY_CHANGE_AD_DIM:0,n|=i?this.renderEventTypes.GEOMETRY_CHANGE_PCT_IN_VIEW:0)}return n}handleGeometricChangeEvent(t,e){e.adCandidate.omidRenderLogicLog|=this.geometricChangeRenderTrigger(t),this.extractAdViewabilityInfo(t,e)}extractAdViewabilityInfo(t,e){var i;const{containerGeometry:n,measuringElement:s}=(null===(i=null==t?void 0:t.data)||void 0===i?void 0:i.adView)||{};if(n){const{height:t,width:i}=n;e.adCandidate.omidContainerGeometryHeight=t,e.adCandidate.omidContainerGeometryWidth=i}d.DiagnosticParamsSingleton.reportOnce(d.DiagnosticParams.omidMeasuringElement,this.mapOmidMeasuringElement(s)),e.adCandidate.omidCreativeVsContainerIndicator=this.getCreativeVsContainerIndicator(n)}getCreativeVsContainerIndicator(t){return a.Utilities.isNullOrEmpty(t)?2:1}mapOmidMeasuringElement(t){return a.Utilities.isNullOrEmpty(t)?0:t?1:2}omidSessionEventHandler(t,e){if(null==e?void 0:e.type){if(e.type===s.OmidAdEventType.SESSION_START)this.omidSessionStartEventHandler(t,e);this.onTriggeredOmidEvent(t,e.type)}}omidSessionStartEventHandler(t,e){var i,n,s,r,o,a,u,c,l;const h=e.data;if((null==h?void 0:h.context)&&(d.DiagnosticParamsSingleton.reportOnce(d.DiagnosticParams.omidJSPartnerName,null===(i=h.context.omidJsInfo)||void 0===i?void 0:i.partnerName),d.DiagnosticParamsSingleton.reportOnce(d.DiagnosticParams.omidJSPartnerVersion,null===(n=h.context.omidJsInfo)||void 0===n?void 0:n.partnerVersion),d.DiagnosticParamsSingleton.reportOnce(d.DiagnosticParams.omidPartnerName,null===(s=h.context.omidNativeInfo)||void 0===s?void 0:s.partnerName),d.DiagnosticParamsSingleton.reportOnce(d.DiagnosticParams.omidPartnerVersion,null===(r=h.context.omidNativeInfo)||void 0===r?void 0:r.partnerVersion),d.DiagnosticParamsSingleton.reportOnce(d.DiagnosticParams.omidDeviceCategory,h.context.deviceCategory),t.adCandidate.omidDeviceType=null===(o=h.context.deviceInfo)||void 0===o?void 0:o.deviceType,t.adCandidate.omidJSServiceVersion=null===(a=h.context.omidJsInfo)||void 0===a?void 0:a.serviceVersion,t.adCandidate.omidDeviceOSVersion=null===(u=h.context.deviceInfo)||void 0===u?void 0:u.osVersion,(null==h?void 0:h.context.deviceInfo)&&(null==h?void 0:h.context.deviceInfo.os))){let e=null;"iOS"==(null===(c=h.context.deviceInfo)||void 0===c?void 0:c.os)?e=6:"Android"==(null===(l=h.context.deviceInfo)||void 0===l?void 0:l.os)&&(e=5),t.adCandidate.omidDeviceOS=e}(null==h?void 0:h.pageUrl)&&(t.adCandidate.omidPageUrl=h.pageUrl)}onTriggeredOmidEvent(t,e){(t.adCandidate.omidEvents&c.OmidEvents[e])!=c.OmidEvents[e]&&(t.adCandidate.omidEvents|=c.OmidEvents[e],this.reportData(t))}reportData(t){o.u.dispatchEvent(o.DvEvent.reportData,t)}}e.OmidLoggerBL=l},136:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.TagExtensionRegistry=void 0;e.TagExtensionRegistry=()=>({tagExtensions:[],register(t,e){this.tagExtensions.push([t,e])},getTagExtensions(){return this.tagExtensions}})},3091:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Context=void 0;e.Context=(t,e,i,n,s,r,o,a,u)=>({getImpressionId:()=>t,getTagObject(){return e.It().tags[this.getImpressionId()]},Ft:i,Bt:n,zt:s,sendBeacon:r.sendBeacon.bind(r),addScriptAsync:r.addScriptAsync.bind(r),utils:o,qt:a,Wt:u})},2383:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AdvertiserViewabilityStandard=void 0;const n=i(7749),s=i(7360),r=i(4312),o=[1];e.AdvertiserViewabilityStandard=(t,e,i=r.ViewabilityStandardRegistrySingleton)=>{const a={standardType:1,regularAd:{adPercentage:98,onFocus:!0,isConsecutive:!0,durationCap:1e3},largeAd:{adPercentage:80,onFocus:!0,isConsecutive:!0,durationCap:1e3}},u={standardType:1,regularAd:{adPercentage:98,onFocus:!0,isConsecutive:!1,durationCap:15e3,durationPercentage:50},largeAd:{adPercentage:80,onFocus:!0,isConsecutive:!1,durationCap:15e3,durationPercentage:50}},c=()=>{if(t.avs)return 1===t.avs.avsid?1:0},d=()=>{if(1===c())return 0==n.T.getTagType()?a:u},l=()=>{const t=d();if(t){e.Ft.sendMessage({avstu:t.standardType});const s=242500,r=3e5,o=0==n.T.getTagType()?s:r;i.register({standardId:"avs-hulu",settings:{regularAd:t.regularAd,largeAd:t.largeAd,minimalLargeAdArea:o},onMeasured:h,onPassed:v})}},h=t=>{e.Ft.sendMessage({tuavsmms:t.updateTime})},v=t=>{e.Ft.sendMessage({tuavspms:t.updateTime})};return{getId:()=>4,isSupported:()=>{const t=c();return!!t&&o.includes(t)},execute(){e.Bt.addEventListener(s.DvEvent.impressionServed,l)}}}},8250:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.CustomViewabilityTagExtension=void 0;const n=i(1104),s=i(4312),r=i(7360);e.CustomViewabilityTagExtension=(t,e,i=s.ViewabilityStandardRegistrySingleton)=>{const o=((t,e)=>{const i=t.cvs;return e.isEmpty(i)?null:{adSize:i.size,adDuration:i.dur,consecutiveMode:i.cons,hasVolume:i.vol}})(t,e.utils),a=()=>{const t={adPercentage:o.adSize,onFocus:!0,durationCap:o.adDuration,isConsecutive:1===o.consecutiveMode,isVolumeRequired:o.hasVolume};i.register({standardId:"custom",settings:{regularAd:t,largeAd:t,minimalLargeAdArea:null},onMeasured:u,onPassed:c})},u=t=>{t.adCandidate.timeUntilCustomViewabilityMeasuredMs=t.updateTime,r.u.dispatchEvent(r.DvEvent.reportData,t)},c=t=>{t.adCandidate.timeUntilCustomViewabilityPassedMs=t.updateTime,r.u.dispatchEvent(r.DvEvent.reportData,t)};return{getId:()=>2,isSupported:()=>null!==o&&((t,e)=>(1===t.qt.getTagType()?"boolean"==typeof e.hasVolume:null==e.hasVolume)&&e.adSize>=n.MIN_AD_SIZE_PERCENT&&e.adSize<=n.MAX_AD_SIZE_PERCENT&&e.adDuration>n.MIN_AD_DURATION_MS&&e.consecutiveMode>=n.MIN_CONSECUTIVE_MODE)(e,o),execute(){e.Bt.addEventListener(r.DvEvent.impressionServed,a)}}}},1104:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MIN_CONSECUTIVE_MODE=e.MIN_AD_DURATION_MS=e.MAX_AD_SIZE_PERCENT=e.MIN_AD_SIZE_PERCENT=void 0,e.MIN_AD_SIZE_PERCENT=50,e.MAX_AD_SIZE_PERCENT=100,e.MIN_AD_DURATION_MS=0,e.MIN_CONSECUTIVE_MODE=0},2465:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DspMacroResolver=void 0;const n=i(7749);e.DspMacroResolver=(t,e)=>{const i=((t,e,i)=>{var n,s,r;try{if(t())return null;if("object"==typeof e&&null!==e){if("function"==typeof(null===(n=null==e?void 0:e.fence)||void 0===n?void 0:n.reportEvent))return e.fence.reportEvent.bind(e.fence);if("function"==typeof(null===(r=null===(s=null==e?void 0:e.parent)||void 0===s?void 0:s.fence)||void 0===r?void 0:r.reportEvent))return e.parent.fence.reportEvent.bind(e.parent.fence)}return null}catch(t){return null}})(e.Wt.isDomlessEnvironment,dvWindow);return{getId:()=>8,isSupported(){return null!==i&&(t=n.T.getLowerCaseParams(),Object.values(t).some((t=>t.includes("${"))));var t},execute(){const t=(s=n.T.getLowerCaseParams(),Object.fromEntries(Object.entries(s).filter((([t,e])=>e.includes("${")))));var s;const r=e.Ft.createEventCallUrl(e.getImpressionId(),t),o="https://tps.doubleverify.com/event.png"+new URL(r).search;null==i||i({destinationURL:o})}}}},9532:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.TagExtensionsHandler=void 0;const n=i(136),s=i(2491),r=i(2383),o=i(8250),a=i(2465);e.TagExtensionsHandler=(t,e)=>({execute(){const u=(0,n.TagExtensionRegistry)();{const{RealTimeNotifications:t}=i(2062);u.register(t,"rtn")}u.register(r.AdvertiserViewabilityStandard,"ee"),u.register(o.CustomViewabilityTagExtension,"ee"),u.register(a.DspMacroResolver,"ee");(0,s.TagExtensionOrchestrator)(u,t,e).execute()}})},2062:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.RealTimeNotifications=e.fireEvent=e.resolveNotification=void 0;const n=i(712),s=i(7360),r=i(2874),o=i(8170);function a({tagObject:t,selectedAdCandidateRef:e,utils:i},n){var s,r,o,a,u,c;const{current:d}=e,l=decodeURIComponent(n.url),h=Object.assign(Object.assign({},t),{"50PCT_IN_VIEW_TIME_MS":null!==(r=null===(s=null==d?void 0:d.getAtLeast50PercentInViewDurationInMs)||void 0===s?void 0:s.call(d))&&void 0!==r?r:"","100PCT_IN_VIEW_TIME_MS":null!==(a=null===(o=null==d?void 0:d.get100PercentInViewDurationInMs)||void 0===o?void 0:o.call(d))&&void 0!==a?a:"",AD_HEIGHT:null!==(u=null==d?void 0:d.adHeight)&&void 0!==u?u:"",AD_WIDTH:null!==(c=null==d?void 0:d.adWidth)&&void 0!==c?c:"",LOAD_TIMESTAMP_UNIX_S:Math.round(i.getScriptLoadedMS()/1e3)});return i.resolveMacros(l,h)}function u(t,e,i,s,r){const u=a({tagObject:t.getTagObject(),selectedAdCandidateRef:i,utils:t.utils},r);if("image"!==r.actionType&&"javascript"!==r.actionType)return void t.Ft.sendError(n.ClientErrorType.TagExtensionExecutionError,new Error("Rtn error: invalid action name"),"",{te_id:e().toString()});const c=o.DiagnosticParams[s];if(c&&o.DiagnosticParamsSingleton.reportDiagnosticParam(c,1),"image"===r.actionType)t.sendBeacon(u,!0);else if("javascript"===r.actionType){const e=t.getTagObject().tagElement.parentElement||document.body;t.addScriptAsync(u,e)}}e.resolveNotification=a,e.fireEvent=u;e.RealTimeNotifications=(t,e)=>{const i={current:null};function o(t,e){const i=new Set(t);return e.toLowerCase().startsWith("groupm")&&i.add("2wD8").add("T4sJ"),Array.from(i)}return e.Bt.addEventListener(s.DvEvent.adSelected,(({adCandidate:t})=>i.current=t)),{getId:()=>1,isSupported:()=>Array.isArray(t.rtnEvents)&&t.rtnEvents.length>0&&"object"==typeof t.rtnEvents[0],execute(){var a,c,d,l,h;if(t.rtnEvents)for(const v of t.rtnEvents){const p=v.eventName;if(h=p,Object.values(r.RTSEventNames).includes(h))for(const n of v.actions){const r=o(null!==(a=n.conditions)&&void 0!==a?a:[],p);if(d=r,l=null!==(c=t.cdc)&&void 0!==c?c:{},!(d.includes("7rQp")&&!(null==l?void 0:l.f7kR)&&!d.includes("L8bC")||(d.includes("f6Zx")||d.includes("G3vR"))&&(null==l?void 0:l.f7kR)&&0===(null==l?void 0:l.z3pQ)||d.includes("L8bC")&&(null==l?void 0:l.f7kR)&&!d.includes("7rQp")||d.includes("6hNp")&&!(null==l?void 0:l["8xJ1"])||d.includes("d9Xc")&&!(null==l?void 0:l["5tG9"])||(d.includes("T4sJ")||d.includes("2wD8"))&&!(null==l?void 0:l.f7kR)||d.includes("V5k2")&&!(null==l?void 0:l.p2Qz)||!(d.includes("f6Zx")||d.includes("G3vR")||d.includes("q1Lz"))&&(null==l?void 0:l.z3pQ)&&(null==l?void 0:l.z3pQ)>0)){if("IABNotMeasuredImpression"===p){const t=e.Bt.addEventListener(s.DvEvent.unloadData,(()=>{var s;e.Bt.removeEventListener(t),(null===(s=i.current)||void 0===s?void 0:s.timeMsUntilAdMeasured)>0||u(e,this.getId.bind(this),i,"IABNotMeasuredImpression",n)}))}if("SessionEnd"===p){const t=e.Bt.addEventListener(s.DvEvent.unloadData,(()=>{e.Bt.removeEventListener(t),u(e,this.getId.bind(this),i,"SessionEnd",n)}))}e.zt.subscribe(p,e.getImpressionId(),`RTN_${p}`,u.bind(this,e,this.getId.bind(this),i,p,n)),e.Ft.sendMessage({rtn_exec:p})}}else e.Ft.sendError(n.ClientErrorType.TagExtensionExecutionError,new Error(`Rtn error: ${p} invalid event name`),"",{te_id:this.getId().toString()})}}}}},2491:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.TagExtensionOrchestrator=void 0;const n=i(749),s=i(712),r=i(3091),o=i(194),a=i(7360),u=i(3380),c=i(425),d=i(5501),l=i(7749),h=i(3868);e.TagExtensionOrchestrator=(t,e,i)=>({execute(){d.TagExtensionsExecutionParamsSingleton.reportTagExtensionsExecutionParams("strt",1);const v=t.getTagExtensions(),p=(0,r.Context)(e,o.I,n.v,a.u,a.Tt,c.p,u.Utilities,l.T,h.S),{tagExtensionsInitialized:f,tagExtensionsSupported:g,tagExtensionsActivated:m}=v.reduce((({tagExtensionsInitialized:t,tagExtensionsSupported:e,tagExtensionsActivated:r},[o,a])=>{var u;const c=o(null!==(u=null==i?void 0:i[a])&&void 0!==u?u:{},p);t|=c.getId();try{c.isSupported()&&(e|=c.getId(),c.execute(),r|=c.getId())}catch(t){n.v.sendError(s.ClientErrorType.TagExtensionExecutionError,t,"",{te_id:c.getId().toString()})}return{tagExtensionsInitialized:t,tagExtensionsSupported:e,tagExtensionsActivated:r}}),{tagExtensionsInitialized:0,tagExtensionsSupported:0,tagExtensionsActivated:0});d.TagExtensionsExecutionParamsSingleton.reportTagExtensionsExecutionParams("init",f),d.TagExtensionsExecutionParamsSingleton.reportTagExtensionsExecutionParams("sup",g),d.TagExtensionsExecutionParamsSingleton.reportTagExtensionsExecutionParams("exec",m),o.I.setTagExtensionActivatedState(m>0)}})},5501:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.TagExtensionsExecutionParamsSingleton=e.TagExtensionsExecutionParamsUtils=void 0;const n=i(749);class s{getQueryParamName(t){return`te_${t}`}reportTagExtensionsExecutionParams(t,e){const i=this.getQueryParamName(t);n.v.sendMessage({[i]:e})}}e.TagExtensionsExecutionParamsUtils=s,e.TagExtensionsExecutionParamsSingleton=new s},4053:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalVariablesInjection=void 0;const n=i(2196),s=i(3868),r=i(3380),o=i(7749),a=i(749),u=i(7658),c=i(194),d=i(7429),l=i(712),h=i(425),v=i(9532),p=i(6142),f=i(6262);e.GlobalVariablesInjection=class{isSupported(){return!0}executePhase(t){const e=c.I.It(),i=new n.DvBackwardCompatibilityClass;e.dvObjType=e.dvObjType||i.dvObjType,e.resolveMacros=e.resolveMacros||i.resolveMacros,e.registerEventCall=e.registerEventCall||i.registerEventCall,e.createEventCallUrl=e.createEventCallUrl||i.createEventCallUrl,e.getWorkingWindow=e.getWorkingWindow||i.getWorkingWindow,e.getMraid=e.getMraid||i.getMraid,e.messages=e.messages||i.messages,e.domUtilities=e.domUtilities||i.domUtilities,e.pubSub=e.pubSub||i.pubSub,e.CommonData=e.CommonData||i.CommonData,e.tags=e.tags||i.tags,e.sendBeacon=h.p.sendBeacon.bind(h.p),"undefined"==typeof window&&s.S.setGlobalVariable("window",dvWindow);const r=s.S.workingWindow(),o=s.S.currentWindow();r._dv_win=r,o._dv_win=r;let a=d.EventIdGeneratorAdaptor;r[t.callbackName]=(e,i,n,s,r={})=>{f.Janus.mark(),this.generateCallback(t,e,i,n,s,a,r)}}toString(){return"GlobalInjection"}extractHostname(t){const e=t.indexOf("//")+2,i=t.indexOf("/",e);return t.substring(e,i)}generateCallback(t,e,i,n,d,h,f){try{if(!s.S.isDomlessEnvironment()){const t=s.S.currentDocument();c.I.setVisitReadyState(t.readyState)}e.tags[n]={},e.tags[n].type="monitoring",e.tags[n].beginVisitCallbackTS=r.Utilities.getCurrentTime(),e.tags[n].eventIdGenerator=h,e.tags[n].set=t=>{r.Utilities.extend(t,e.tags[n])},e.tags[n].getTimeDiff=()=>r.Utilities.getCurrentTime()-c.I.It().tags[n].beginVisitCallbackTS,e.tags[n].tagElement=o.T.getDVScript(),e.tags[n].ServerPublicDns=this.extractHostname(o.T.getServerPrefix()),o.T.setServerPrefix(`https://${d}/`),e.tags[n].ServerPublicDns=d,c.I.setImpressionId(n),s.S.setGlobalVariable("$uid",n);const l=o.T.getCaseSensitiveParams();e.tags[n].set(l);const g=r.Utilities.mapData(t,u.TPSDataMapping);r.Utilities.extend(t.additionalParams,g),e.tags[n].set(g),e.tags[n].uid=n,e.tags[n].dv_protocol="https:";const m=s.S.monitorScriptsPerformance(i,{visit:["duration"]});m.visit_duration&&a.v.sendMessage({vdur:m.visit_duration}),p.ServerContext.setData(f);(0,v.TagExtensionsHandler)(n,f).execute()}catch(t){a.v.sendError(l.ClientErrorType.TagCommunicationError,t)}}}},7741:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.MeasureGdpr=void 0;const n=i(425),s=i(3868),r=i(749);e.MeasureGdpr=class{constructor(){this.cmpCallbacks={},this.getConsentDataCallback=(t,e)=>{try{const t=s.S.currentWindow(),i=s.S.workingDocument();t.performance.mark("dv_gdpr_end"),t.performance.measure("dv_gdpr","dv_gdpr_start","dv_gdpr_end");let n=t.performance.getEntriesByName("dv_gdpr");if(n.length>0){let t=n[0];isNaN(t.duration)||r.v.sendMessage({dvp_gdDur:Math.round(t.duration),dvp_gdDome:"complete"==i.readyState?"1":"0",dvp_gdDoms:this.gdprIsDocumentCompleted,dvp_gdSucc:e?"1":"0"},!0)}}catch(t){this.sendGdprError("9")}},this.handleCmpReturn=t=>{try{let e="string"==typeof t.data?JSON.parse(t.data):t.data;if(e.__cmpReturn){let t=e.__cmpReturn,i=this.cmpCallbacks[t.callId];i?(i(t.returnValue,t.success),delete this.cmpCallbacks[t.callId]):this.sendGdprError("6")}}catch(t){}}}isSupported(){return!s.S.isDomlessEnvironment()&&s.S.isPerformanceAPISupported()}executePhase(t){this.gdprIsDocumentCompleted="complete"==s.S.workingDocument().readyState?"1":"0",this.gdprPerformanceMark();let e=this.locateCmpApi();if(e&&"1"!=e)this.sendGdprError(e);else if(this.cmpFrame)if(this.cmpIsFunctionCall)this.invokeCmpCommandByFunction("getConsentData",null,this.getConsentDataCallback);else{if(!s.S.isPostMessageSupported())return void this.sendGdprError("2");this.addEventListenerForCmpResponses(),this.invokeCmpCommandByPostMessage("getConsentData",null,this.getConsentDataCallback)}}toString(){return"MesasureGdpr"}locateCmpApi(){let t,e=s.S.currentWindow();for(;!this.cmpFrame;){try{this.cmpIsFunctionCall="function"==typeof e.__cmp,(this.cmpIsFunctionCall||e.frames.__cmpLocator)&&(this.cmpFrame=e,t="1")}catch(e){t="3"}try{if(s.S.isTop(e))break;e=s.S.getWindowParent(e,!0)}catch(e){t="8";break}}return t}addEventListenerForCmpResponses(){n.p.addEventListener("message",this.handleCmpReturn,s.S.currentWindow())}invokeCmpCommandByFunction(t,e,i){try{this.cmpFrame.__cmp(t,e,i)}catch(t){this.sendGdprError("4")}}invokeCmpCommandByPostMessage(t,e,i){let n=Math.random().toString(),s={__cmpCall:{command:t,parameter:e,callId:n}};this.cmpCallbacks[n]=i;try{this.cmpFrame.postMessage(s,"*")}catch(t){this.sendGdprError("5")}}gdprPerformanceMark(){s.S.currentWindow().performance.mark("dv_gdpr_start")}sendGdprError(t){r.v.sendMessage({dvp_gdpr_Error:t},!0)}}},8456:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.MeasureGdprV2=void 0;const n=i(425),s=i(3868),r=i(749);e.MeasureGdprV2=class{constructor(){this.DV_VENDOR_ID=126,this.tcfCallbacks={},this.getConsentDataCallback=(t,e)=>{try{const i=s.S.currentWindow(),n=s.S.workingDocument();i.performance.mark("dv_gdpr_v2_end"),i.performance.measure("dv_gdpr_v2","dv_gdpr_v2_start","dv_gdpr_v2_end");const[o]=i.performance.getEntriesByName("dv_gdpr_v2");(null==o?void 0:o.duration)&&r.v.sendMessage({dvp_gdv2_Func:this.tcfapiIsFunctionCall?"1":"0",dvp_gdv2_Applies:void 0!==(null==t?void 0:t.gdprApplies)?t.gdprApplies?"1":"0":"-1",dvp_gdv2_Succ:e?"1":"0",dvp_gdv2_Dur:Math.round(o.duration),dvp_gdv2_Doms:this.gdprIsDocumentCompletedStart,dvp_gdv2_Dome:"complete"==n.readyState?"1":"0"},!0)}catch(t){this.sendGdprV2Error("9")}},this.handleTcfMessage=t=>{try{const e=("string"==typeof t.data?JSON.parse(t.data):t.data).__tcfapiReturn;if(e){const t=this.tcfCallbacks[e.callId];t?(t(e.returnValue,e.success),delete this.tcfCallbacks[e.callId]):this.sendGdprV2Error("6")}}catch(t){}}}isSupported(){return!s.S.isDomlessEnvironment()&&s.S.isPerformanceAPISupported()}executePhase(t){this.gdprIsDocumentCompletedStart="complete"==s.S.workingDocument().readyState?"1":"0",this.gdprV2PerformanceMark();let e=this.locateTcfFrame();if(e&&"1"!=e)this.sendGdprV2Error(e);else if(this.tcfFrame)if(this.tcfapiIsFunctionCall)this.invokeTcfCommandByFunction("addEventListener",[this.DV_VENDOR_ID],this.getConsentDataCallback);else{if(!s.S.isPostMessageSupported())return void this.sendGdprV2Error("2");this.addEventListenerForTcfResponses(),this.invokeTcfCommandByPostMessage("addEventListener",[this.DV_VENDOR_ID],this.getConsentDataCallback)}}toString(){return"MesasureGdprV2"}locateTcfFrame(){let t,e=s.S.currentWindow();for(;!this.tcfFrame;){try{this.tcfapiIsFunctionCall="function"==typeof e.__tcfapi,(this.tcfapiIsFunctionCall||e.frames.__tcfapiLocator)&&(this.tcfFrame=e,t="1")}catch(e){t="3"}try{if(s.S.isTop(e))break;e=s.S.getWindowParent(e,!0)}catch(e){t="8";break}}return t}addEventListenerForTcfResponses(){n.p.addEventListener("message",this.handleTcfMessage,s.S.currentWindow())}invokeTcfCommandByFunction(t,e,i){try{this.tcfFrame.__tcfapi(t,2,i,e)}catch(t){this.sendGdprV2Error("4")}}invokeTcfCommandByPostMessage(t,e,i){const n=Math.random().toString(),s={__tcfapiCall:{command:t,parameter:e,version:2,callId:n}};this.tcfCallbacks[n]=i;try{this.tcfFrame.postMessage(s,"*")}catch(t){this.sendGdprV2Error("5")}}gdprV2PerformanceMark(){s.S.currentWindow().performance.mark("dv_gdpr_v2_start")}sendGdprV2Error(t){r.v.sendMessage({dvp_gdv2_Error:t},!0)}}},5817:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptsInjection=void 0;const n=i(3380),s=i(7658),r=i(425),o=i(3868),a=i(749),u=i(7749),c=i(712),d=i(194),l=i(3322),h=i(5244),v=i(8170);class p{constructor(){this.extraQueryParamsBase={},this.onLoad=()=>{n.Utilities.setLoadVisitTime(),d.I.getImpressionId(null)||a.v.sendError(c.ClientErrorType.InvalidVisitResponseError)}}isSupported(){return!0}appendPerformanceMetrics(t){const e=d.I.getTagLoadedMS(),i=n.Utilities.getScriptLoadedMS(),s=n.Utilities.getCurrentTime();t.timeToMeasureMs=i-e,t.timeToFirstReportMs=t.timeToFirstReportMs||s-i}appendScriptDynamicFlags(t){const e=l.ScriptDynamicFlags.getInstance().getFlags();e&&e>0&&(t.scriptDynamicFlags=e)}getReleventServerPrefix(t){var e;const i=null===(e=u.T.getParamValue("vidreg"))||void 0===e?void 0:e.toLowerCase();return i&&{ue:!0,uw:!0,eu:!0,as:!0}[i]?`https://tpsc-video-${i}.doubleverify.com/`:u.T.getServerPrefix()}buildTpsQueryString(t){let e=n.Utilities.getQueryString(t,t.additionalParams,t.dvpParamsFlags,s.TPSDataMapping);const i=["gdpr","gdpr_consent"].filter((e=>!t[e]));if(i.length){e=`${i.map((t=>`${t}=`)).join("&")}&${e}`}return e+=`&${s.TPSDataMapping.checksum}=${n.Utilities.generateAdler32Hash(e)}`,e}executePhase(t){const e=Math.floor(Date.now()*Math.random());t.additionalParams||(t.additionalParams={}),t.additionalParams.dvp_tuid=e,t.flavor="0";const i=this.getReleventServerPrefix(t);t.errorURL=i+u.T.getErrorPath(),this.appendScriptDynamicFlags(t),this.appendPerformanceMetrics(t);const s=this.buildTpsQueryString(t),l=`${i}${u.T.getInitJsPath()}?${s}`,p=`${i}${u.T.getInitJsonPath()}?${s}`,f=o.S.currentDocument(),g=o.S.getCurrentScript()||f.body,{cmp:m,ctx:b,sid:w,plc:_}=t,S={tuid:e,cmp:m,ctx:b,sid:w,plc:_,vurll:l.length,protocol:d.I.getProtocol()};let y=this.errorFunction.bind(this,S),M="TPSCall";d.I.isRestrictedAccess()&&(M+=`_${d.I.getTagUniqueKey()}`),d.I.setVisitInjectedMS(n.Utilities.getCurrentTime());this.shouldUseVisitJsonApi()?((0,h.executeVisitJsonFlow)(p,t).then(this.onLoad.bind(this)).catch((t=>{const e=n.Utilities.isExceedingMaxUrlLength(p.length)?c.ClientErrorType.VisitRequestError:c.ClientErrorType.VisitResponseError;a.v.sendError(e,t,"",{[v.DiagnosticParamsSingleton.getQueryParamName(v.DiagnosticParams.visitJsonErrorPixel)]:"1"})})),n.Utilities.logDvSignal(p)):(r.p.addScriptAsync(l,g,M,y,this.onLoad.bind(this)),n.Utilities.logDvSignal(l))}toString(){return"ScriptsInjection"}errorFunction(t){const{vurll:e,protocol:i}=t,s=n.Utilities.isExceedingMaxUrlLength(e)?c.ClientErrorType.VisitRequestError:c.ClientErrorType.VisitResponseError;a.v.sendError(s,null,"",{dvp_vurll:e,dvp_protocol:i})}static supportsVisitJson(){const t=r.p.isFetchJSONAPISupported(),e=!!u.T.getInitJsonPath();return t&&e}shouldUseVisitJsonApi(){if(!p.supportsVisitJson())return!1;const t=u.T.getIsVisitJsonFlowEnabled();return null!=t?t:"json"===u.T.getDefaultInitType()}}e.ScriptsInjection=p},1822:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.SupportedIntegrationsCollector=void 0;e.SupportedIntegrationsCollector=class{constructor(t){this.integrations=t}isSupported(){return!0}collectData(t){let e=0;this.integrations.forEach((t=>{t.isSupported()&&(e|=Number(t.getIntegrationType()))})),t.supportedIntegrations=e,0!=e&&(t.additionalParams.dvp_mib=e)}toString(){return"SupportedIntegrations"}}},9688:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserCollector=void 0;const n=i(3946),s=i(3868);e.BrowserCollector=class{isSupported(){return!s.S.isDomlessEnvironment()}collectData(t){const e=n.BrowserDetector.getBrowserId();null!=e&&(t.browserDetectionSource=1),t.browserId=e,t.browserVersion=n.BrowserDetector.getBrowserVersion(),t.browserIdUserAgent=n.BrowserDetector.getBrowserIdUserAgent()}toString(){return"Browser"}}},6892:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DomScriptCollector=void 0;const n=i(3868),s=i(7749);e.DomScriptCollector=class{isSupported(){return!n.S.isDomlessEnvironment()}collectData(t){this.isScriptInHeadPosition()&&(t.isScriptInHeadLocation=1)}toString(){return"DomScript"}isScriptInHeadPosition(){const t=s.T.getDVScript();return t&&t.parentElement&&"HEAD"==t.parentElement.tagName}}},8010:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.DvParamsCollector=void 0;const n=i(7749),s=i(3380),r=i(194);e.DvParamsCollector=class{constructor(){this.tpsParams=["ctx","cmp","ipos","sid","plc","adid","crt","btreg","btadsrv","adsrv","advid","num","pid","crtname","unit","chnl","uid","scusrid","tagtype","sr","dt","dup","app","dvvidver","turl","icall","dv_callback","useragent","xff","timecheck","seltag","sadv","ord","litm","scrt","invs","splc","adu","spos","c1","c2","c3","c4","c5","c6","c7","c8","c9","c10","c11","c12","c13","c14","c15","native","gmnpo","isdvvid","msrapi","bsimpid","prr","iframe","gdpr","gdpr_consent","tvcp","vssd","apifw","vstvr","auprice","ppid","audeal","auevent","auadv","aucmp","aucrtv","auorder","ausite","auplc","auxch","audvc","aulitem","auadid","pltfrm","aufilter1","aufilter2","autt","auip","aubndl"],this.aspParams=["auctionid","vermemid","source","buymemid","anadvid","ioid","cpgid","cpid","sellerid","pubid","advcode","iocode","cpgcode","cpcode","pubcode","prcpaid","auip","auua"]}isSupported(){return!0}overrideMediaPlanIdentifiersForProgrammaticAnalytics(t){t.ctx="3397726",t.cmp="DV1372413",t.plc="falcon",t.sid="paonlytag"}collectData(t){let e=r.I.getDvtpScriptVersion();t.dvtpScriptVersion=e,t.collectDataStartTime=s.Utilities.getCurrentTime();const i=n.T.getCaseSensitiveParams();if(s.Utilities.isEmpty(i))return;const o=n.T.getLowerCaseParams();this.tpsParams.forEach((e=>{s.Utilities.isNullOrEmpty(o[e])||(t[e]=o[e])})),this.aspParams.forEach((e=>{s.Utilities.isNullOrEmpty(i[e])||(t[e]=i[e],t.additionalParams["dvp_"+e]=i[e])}));const a=[...this.tpsParams,...this.aspParams];Object.keys(i).filter((t=>!s.Utilities.isNullOrEmpty(i[t])&&-1===a.indexOf(t))).forEach((e=>{let n=i[e];s.Utilities.startsWith(e,"dvpx_",!0)&&(n=encodeURIComponent(n)),t.additionalParams[e]=n}))}toString(){return"DvParams"}}},992:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.InjectionDetectionCodeCollector=void 0;const n=i(3868);e.InjectionDetectionCodeCollector=class{constructor(){this.results=[]}isSupported(){return!n.S.isDomlessEnvironment()}collectData(t){try{this.ancestorsInjectionDetection(),t.idcResults=this.results.join(",")}catch(e){t.idcResults="-999",t.idcError=e.message||"unknown"}t.idcVersion=28}toString(){return"InjectionDetectionCodeCollector"}ancestorsInjectionDetection(){let t=n.S.workingWindow();for(let e=0;e<10&&(this.detectInjections(t),!n.S.isTop(t))&&(t=n.S.getWindowParent(t),t);e++);}detectInjections(t){this.addInjector(t,null!=t.AZSD,9),this.addInjector(t,t.location.hostname!=t.encodeURIComponent(t.location.hostname),10),this.addInjector(t,null!=t.cascadeWindowInfo,11),this.addInjector(t,null!=t._rvz,32),this.addInjector(t,null!=t.FO_DOMAIN,34),this.addInjector(t,null!=t.va_subid,36),this.addInjector(t,t._GPL&&t._GPL.baseCDN,40),this.addInjector(t,this.evaluateProperty(t,"__twb__")&&this.evaluateProperty(t,"__twb_cb_"),43),this.addInjector(t,null!=t.landingUrl&&null!=t.seList&&null!=t.parkingPPCTitleElements&&null!=t.allocation,45),this.addInjector(t,this.evaluateProperty(t,"_rvz",(function(t){return null!=t.publisher_subid})),46),this.addInjector(t,null!=t.cacildsFunc&&null!=t.n_storesFromFs,47),this.addInjector(t,t._pcg&&t._pcg.GN_UniqueId,54),this.addInjector(t,this.evaluateProperty(t,"__ad_rns_")&&this.evaluateProperty(t,"_$_"),64),this.addInjector(t,null!=t.APP_LABEL_NAME_FULL_UC,71),this.addInjector(t,null!=t._priam_adblock,81),this.addInjector(t,t.supp_ads_host&&t.supp_ads_host_overridden,82),this.addInjector(t,t.uti_xdmsg_manager&&t.uti_xdmsg_manager.cb,87),this.addInjector(t,t.LogBundleData&&t.addIframe,91),this.addInjector(t,t.xAdsXMLHelperId||t.xYKAffSubIdTag,95),this.addInjector(t,t.__pmetag&&t.__pmetag.uid,98),this.addInjector(t,t.CustomWLAdServer&&/(n\d{1,4}adserv)|(1ads|cccpmo|epommarket|epmads|adshost1)/.test(t.supp_ads_host_overridden),100)}evaluateProperty(t,e,i){for(let n in t)if(n.indexOf(e)>-1&&(!i||i(t[n])))return!0;return!1}addInjector(t,e,i){e&&-1==this.results.indexOf(i)&&this.results.push((n.S.isTop(t)?-1:1)*i)}}},6800:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeCollector=void 0;const n=i(3868);e.AttributeCollector=class{isSupported(){return!n.S.isDomlessEnvironment()}collectData(t){try{if(128!=(128&n.S.getScenarioType())){const e=n.S.getTopAccessibleWindow(),i=n.S.workingDocument(e);t.widgetCount=(e.FB?1:0)+(e.twttr?2:0)+(e.outbrain?4:0)+(e._taboola?8:0);try{i.cookie&&(t.cookieLength=i.cookie.length)}catch(t){}e.performance&&e.performance.timing&&e.performance.timing.domainLookupStart>0&&e.performance.timing.domainLookupEnd>0&&(t.domainLookupTime=e.performance.timing.domainLookupEnd-e.performance.timing.domainLookupStart),i.querySelectorAll&&(t.documentElementCount=i.querySelectorAll("*").length)}const e=n.S.workingWindow();t.iframeCount=e.top.length,e.history&&(t.historyLength=e.history.length)}catch(t){}}toString(){return"AttributeCollector"}}},8213:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeaturesCollector=void 0;const n=i(3868);e.BrowserFeaturesCollector=class{constructor(){this.featureBits=0}enableBit(t){t<32&&(this.featureBits=(this.featureBits|1<<t)>>>0)}isSupported(){return!n.S.isDomlessEnvironment()}collectData(t){t.browserFeatures=this.getBrowserFeatures()}toString(){return"BrowserFeaturesCollector"}getBrowserFeatures(){try{return void 0!==n.S.workingWindow().NavigatorUAData&&this.enableBit(5),void 0!==n.S.workingWindow().chrome&&this.enableBit(6),this.featureBits}catch(t){return 0}}}},370:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserSignatureCollector=void 0;const n=i(3868);e.BrowserSignatureCollector=class{constructor(){this.familyBits=0,this.sigBits=0,this.Ht=[120,104,119,110,117,121,96,120,119,104,47,66,39,117,113,102,126,106,119,52,117,113,102,126,106,119,51,111,120,68,117,66,39,98],this.$t=[120,104,119,110,117,121,96,110,105,66,39,102,115,110,123,110,106,124,79,88,39,98],this.Gt=[51,100,100,104,106,105,102,121,116,100,119,116,116,121,100,104,116,115,121,102,110,115,106,119]}isSupported(){return!n.S.isDomlessEnvironment()}deobStr(t){let e="";for(let i=0;i<t.length;i++)e+=String.fromCharCode(t[i]-5);return e}collectData(t){const e=this.getBrowserSignature();e&&(t.browserSignatureFamilyBits=e.familyBits,t.browserSignatureBits=e.sigBits)}toString(){return"BrowserSignatureCollector"}enableBit(t,e,i){i&&(this.familyBits|=Math.pow(2,t),this.sigBits|=Math.pow(2,e))}Jt(t,e,i,s){if(!t||!e)return;const r=n.S.workingDocument(t).querySelectorAll(e);r&&r.length>0&&this.enableBit(i,s,!0)}Qt(){let t=0,e=n.S.currentWindow();for(;t<16&&(this.Jt(e,this.deobStr(this.Gt),16,3),this.Jt(e,this.deobStr(this.Ht),14,1),this.Jt(e,this.deobStr(this.$t),15,2),!n.S.isTop(e));){e=n.S.getWindowParent(e,!0),t++}}getBrowserSignature(){try{if(this.Qt(),this.familyBits>0)return{familyBits:this.familyBits,sigBits:this.sigBits}}catch(t){}return null}}},4115:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.HardwareFeaturesCollector=void 0;const n=i(3868);e.HardwareFeaturesCollector=class{isSupported(){return!0}collectData(t){t.numberOfCores=n.S.getNumberOfCores(),this.getTouchSupport()&&(t.hasTouchPad=1),t.navigatorPlatform=this.getPlatform()}toString(){return"HardwareDataCollector"}getTouchSupport(){var t,e;return 5===(null===(e=null===(t=null===n.S||void 0===n.S?void 0:n.S.workingWindow())||void 0===t?void 0:t.navigator)||void 0===e?void 0:e.maxTouchPoints)}getPlatform(){var t,e;return null===(e=null===(t=null===n.S||void 0===n.S?void 0:n.S.workingWindow())||void 0===t?void 0:t.navigator)||void 0===e?void 0:e.platform}}},4194:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.HijackedDeviceSignatureCollector=void 0;const n=i(3868);e.HijackedDeviceSignatureCollector=class{isSupported(){return!n.S.isDomlessEnvironment()}collectData(t){const e=this.getSignature();e&&(t.hijackedDeviceSignatureBits=e)}toString(){return"HijackedDeviceSignatureCollector"}getSignature(){let t=0;try{const e=function(e,i){i&&(t+=Math.pow(2,e))},i=n.S.getTopAccessibleWindow(),s=n.S.workingDocument(i);if(e(6,n.S.isTop(i)&&""==s.title&&null==s.querySelector("meta[charset]")&&null!=s.querySelector('div[style*="background-image: url("]')&&(null!=s.querySelector('script[src*="j.pubcdn.net"]')||null!=s.querySelector('span[class="ad-close"]'))),t>0)return t}catch(t){}return null}}},6783:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.IOSMapleCollector=void 0;const n=i(3868);e.IOSMapleCollector=class{constructor(){this.maxIterations=10}isSupported(){return!n.S.isDomlessEnvironment()}collectData(t){const e=n.S.isIOS(),i=n.S.objectLookup(n.S.workingWindow(),"maple",this.maxIterations);e&&t.dvpParamsFlags.push(0),i&&t.dvpParamsFlags.push(1)}toString(){return"IOSMaple"}}},8453:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.MraidCollector=void 0;const n=i(6681);e.MraidCollector=class{isSupported(){return n.MraidWrapper.isSupported()}collectData(t){t.isMraid=1}toString(){return"MraidCollector"}}},6254:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.OmidContextCollector=void 0;const n=i(870),s=i(3322);e.OmidContextCollector=class{isSupported(t){return n.omidAdapter.isSupported()}collectData(t){const e=n.omidAdapter.getOmidContext();e&&(t.omidEnvironment=e.environment,t.omidAdSessionType=e.adSessionType,t.omidAppId=e.app&&e.app.appId,this.extractOmidContentUrl(t));const i=n.omidAdapter.getSessionData();if(i){const e=(i.data||{}).context||{};e.accessMode&&(t.omidAccessMode=n.omidAdapter.getOmidAccessModeNumber(e.accessMode)),e.underEvaluation&&s.ScriptDynamicFlags.getInstance().turnOn(1)}}extractOmidContentUrl(t){var e;try{const i=null===(e=n.omidAdapter.getSessionData())||void 0===e?void 0:e.data;if(i){const e=500,{contentUrl:n}=i;if(n){const i=n.substring(0,e);t.omidContentUrl=i}}}catch(t){}}toString(){return"OmidContext"}}},8733:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ParamUrlExtractionMethodCollector=void 0;const n=i(7749),s=i(194),r=i(870),o=i(3868),a=i(3380),u=i(8170);e.ParamUrlExtractionMethodCollector=class{isSupported(){return!0}collectData(t){const e=n.T.getParamUrlExtractionMethod();e&&(t.additionalParams.dvp_rcp=e),this.appendUrlHashTagLogger(t),this.appendScriptElementExtractionMethod(t),this.appendIsCurrentScriptNotSupported(t),this.appendIsOmid(t),this.appendHasTagUniqueKey(t),this.appendTagCounter(t),this.appendSharedUniqueKey(t),this.appendTagUniqueKey(t),this.appendInitialScriptUrl(t)}appendInitialScriptUrl(t){if(!s.I.getIsWhitelistedDomain()){const e=u.DiagnosticParamsSingleton.getQueryParamName(u.DiagnosticParams.initialScriptUrl);t.additionalParams[e]=encodeURIComponent(s.I.getDvtpScriptUrl())}}appendUrlHashTagLogger(t){let e=0;const i=n.T.getDVScriptUrl();if(!a.Utilities.isNullOrEmpty(i)){const n=new RegExp("[#]([^&#?]*)=([^&#?]*)","gi"),s=new RegExp("[?]([^&#?]*)=([^&#?]*)","gi");n.test(i)&&(e|=1),s.test(i)&&(e|=2),e&&(t.additionalParams.dvp_htec=e)}}appendTagUniqueKey(t){const e=s.I.getTagUniqueKey();if(e){t.additionalParams.dvp_tukv=e;const i=u.DiagnosticParamsSingleton.getQueryParamName(u.DiagnosticParams.tagUniqueKey);t.additionalParams[i]=e}}appendSharedUniqueKey(t){const e=s.I.getSharedUniqueKey();if(e){t.additionalParams.dvp_sukv=e;const i=u.DiagnosticParamsSingleton.getQueryParamName(u.DiagnosticParams.sharedTagUniqueKey);t.additionalParams[i]=e}}appendScriptElementExtractionMethod(t){const e=n.T.getScriptElementExtractionMethod();e&&(t.additionalParams.dvp_seem=e)}appendIsCurrentScriptNotSupported(t){!o.S.getCurrentScript()&&(t.additionalParams.dvp_nscs=1)}appendIsOmid(t){var e;try{let i=0;const n=o.S.workingWindow();r.omidAdapter.isSupported()&&(i=1),s.I.isOmidForWeb()&&(i|=8),s.I.isOmid3p()&&(i|=16);try{if(!s.I.isRestrictedAccess()&&!o.S.isDomlessEnvironment()){const t=o.S.getWindowParent(n),s=o.S.getWindowParent(t);void 0===n.omidVerificationProperties&&void 0===t.omidVerificationProperties&&void 0===n.omid&&void 0===t.omid&&void 0===s.omid||(i|=2);const r=null!==(e=n.omidVerificationProperties)&&void 0!==e?e:t.omidVerificationProperties;a.Utilities.isNullOrEmpty(r)||"web"===(null==r?void 0:r.injectionSource)&&(i|=4)}}catch(t){}i>0&&(t.additionalParams.dvp_iomd=i)}catch(t){}}appendHasTagUniqueKey(t){s.I.getTagUniqueKey()&&(t.additionalParams.dvp_tuk=1)}appendTagCounter(t){const e=s.I.getTagCounter();e>1&&(t.additionalParams.dvp_tcnt=e)}toString(){return"ParamUrlExtractionMethod"}}},3219:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.PreRenderCollector=void 0;const n=i(7026);e.PreRenderCollector=class{isSupported(){return!0}collectData(t){n.RenderLogicFactory.getRenderLogic().isAdRendered()||(t.isPreRender=1)}toString(){return"PreRender"}}},4932:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ReferrerCollector=void 0;const n=i(3868),s=i(3380),r=i(7658);e.ReferrerCollector=class{isSupported(t){const e=(n.S.getUserAgent()||"").toLowerCase();return!n.S.isDomlessEnvironment()&&(e.indexOf("webkit")>-1||e.indexOf("chrome")>-1)}collectData(t){const e=encodeURIComponent(n.S.workingWindow().location.toString());s.Utilities.isQueryLengthBelowBrowserLimit(t,t.additionalParams,t.dvpParamsFlags,r.TPSDataMapping,e)&&(t.referrerUrl=e)}toString(){return"Referrer"}}},2221:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptsPerformanceCollector=void 0;const n=i(3868);e.ScriptsPerformanceCollector=class{isSupported(){return!n.S.isDomlessEnvironment()}collectData(t){const e=n.S.monitorScriptsPerformance(n.S.workingWindow(),{dvtp_src:["fetchStart","duration"]});t.dvtp_src_fetchStart=e.dvtp_src_fetchStart,t.dvtp_src_duration=e.dvtp_src_duration}toString(){return"ScriptsPerformance"}}},8357:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.SslCollector=void 0;const n=i(3868),s=i(7749),r=i(194);e.SslCollector=class{isSupported(){return!0}collectData(t){const e=s.T.getDVScriptUrl(),i=n.S.workingWindow().location;e&&i&&e.match("^http:")&&i.toString().match("^https")&&(t.diffSsl=1),t.isSsl=r.I.getProtocol()}toString(){return"Ssl"}}},6574:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.StrCollector=void 0;const n=i(3868),s=i(5903),r=i(3380),o=i(7658),a=i(6806),u=i(425),c=i(712);e.StrCollector=class{constructor(){this.parentIsPermitted=!1,this.ancestorChain="",this.additionalUrl="",this.htmlUrl="",this.canonicalUrl="",this.referrerOffset=0,this.insertEparam=function(t,e){let i=t+"="+encodeURIComponent(e);this.eparams=this.eparams?this.eparams+"&"+i:i}}isSupported(){return!n.S.isDomlessEnvironment()}getSTR(t){return this.workingWindow=n.S.workingWindow(),this.findHighestAvailableWindow(),this.processDVurl(),t.referrerUrlExtractedFromSafeFrame=this.referrerUrlExtractedFromSafeFrame,t.safeFrameExists=this.safeFrameExists,this.extractAncestorChain(),this.calculateWindowDepth(),this.updateWindowDepth(),this.extractUrlFromHtml(t),this.htmlUrl||this.findAdditionalURLs(),this.setEparams(t),{ep1:encodeURIComponent(this.dvURL),ep2:encodeURIComponent(this.ancestorChain),ep3:encodeURIComponent(this.additionalUrl),ep4:encodeURIComponent(this.htmlUrl),ep5:encodeURIComponent(this.canonicalUrl)}}collectData(t){this.getSTR(t);const e=encodeURIComponent(this.eparams);r.Utilities.isQueryLengthBelowBrowserLimit(t,t.additionalParams,t.dvpParamsFlags,o.TPSDataMapping,e)?t.eparams=e:t.dvpParamsFlags.push(3),t.eparamsLength=e&&e.length,t.referrerDepth=this.referrerDepth,t.windowDepth=this.windowDepth,t.additionalUrlDepth=this.htmlUrl?-1:this.additionalUrlDepth}toString(){return"Str"}findHighestAvailableWindow(){try{this.highestAvailableWindow=this.workingWindow;for(let t=0;t<=10;t++){const e=n.S.getWindowParent(this.highestAvailableWindow,!0);if(!e||this.highestAvailableWindow==e){0==t&&(this.parentIsPermitted=!0);break}{const t=e.location.toString();if(!(t.length>0)){this.parentIsPermitted=!1;break}this.highestAvailableWindow=e,this.referrerOffset++,this.parentIsPermitted=!0}}}catch(t){this.parentIsPermitted=!1}}processDVurl(){var t;const e=n.S.workingDocument(this.highestAvailableWindow).referrer,i=null===(t=this.workingWindow.location)||void 0===t?void 0:t.ancestorOrigins,s=i&&i[i.length-1];if(a.SafeFrameObject.isSafeFrameExists(this.highestAvailableWindow)&&(this.safeFrameExists=1),0==e.length)this.dvURL=this.highestAvailableWindow.location.toString();else if(this.parentIsPermitted)this.dvURL=this.highestAvailableWindow.location.toString();else{this.dvURL=e;const t=a.SafeFrameObject.getUrlReferrer(this.highestAvailableWindow);!t||i&&0!=t.indexOf(s)||(this.dvURL=t,this.referrerUrlExtractedFromSafeFrame="sf"),this.dvMinus=!0}}extractAncestorChain(){let t=this.getAncestorOrigins(),e=this.workingWindow.location;t&&t.length>0&&e&&(t.unshift(e.protocol+"//"+e.hostname),this.ancestorChain=t.reverse().join(","))}getAncestorOrigins(){return r.Utilities.DOMStringListToArray(this.workingWindow[s.Encoding.ROT47("=@42E:@?")][s.Encoding.ROT47("2?46DE@C~C:8:?D")])}calculateWindowDepth(){let t=0,e=this.highestAvailableWindow;for(;t<10&&!n.S.isTop(e);)t++,e=n.S.getWindowParent(e,!0);this.windowDepth=t}findAdditionalURLs(){try{if(this.additionalUrl="",this.additionalUrlDepth=0,this.windowDepth<=1)return;let t,e,i,s=[];s.push({win:n.S.windowTop(!0),depth:0});let r=1,o=0;for(;r>0&&o<100;){try{o++,t=s.shift(),e=t.win,i=t.depth,r--;const a=e.location.toString();if(a.length>0&&e!=this.highestAvailableWindow){const t=n.S.workingDocument(e).referrer;return 0==t.length||0==i?(this.additionalUrl=a,void(this.additionalUrlDepth=i)):(this.additionalUrl=t,void(this.additionalUrlDepth=i-1))}}catch(t){}const a=e.frames.length;for(let t=0;t<a;t++)s.push({win:e.frames[t],depth:i+1}),r++}}catch(t){}}updateWindowDepth(){this.referrerDepth=this.windowDepth+this.referrerOffset,this.dvMinus&&this.windowDepth&&this.windowDepth--}setEparams(t){this.insertEparam("srcurl",this.dvURL),this.ancestorChain&&this.insertEparam("ancChain",this.ancestorChain);const e=this.htmlUrl||this.additionalUrl;e&&r.Utilities.isQueryLengthBelowBrowserLimit(t,t.additionalParams,t.dvpParamsFlags,o.TPSDataMapping,e)&&this.insertEparam("aUrl",e),this.canonicalUrl&&this.insertEparam("canurl",this.canonicalUrl),this.eparams=s.Encoding.ROT47(this.eparams)}extractUrlFromHtml(t){try{if(this.canonicalUrl=this.extractCanonicalUrl(),t.browserId==c.Browser.IE||128!=t.trafficScenarioType)return;if(n.S.isPerformanceAPISupported()&&n.S.currentWindow().performance.mark("dv_str_html_start"),this.dvURL){const t=new RegExp("^(?:https?:\\/\\/)?[\\w\\-\\.]+\\/[a-zA-Z0-9]","gi"),e=this.dvURL.match(t);if(e&&e.length>0)return}const e=n.S.workingDocument(this.highestAvailableWindow);if(e&&e.referrer){const i=e.referrer.replace(/\//g,"\\/").replace(/\./g,"\\."),n=new RegExp(`(?:w{0,4}=")?${i}[^&"; %,'\\$\\\\\\|]+`,"gi"),s=new RegExp("banner|adprefs|safeframe|sandbox|sf\\.html","gi"),r=/^\w{0,4}="/gi;this.htmlUrl=this.getUrlFromHtml(e,n,s,r),this.measureExtraction(t)}}catch(t){}}extractCanonicalUrl(){const t=n.S.workingDocument(this.highestAvailableWindow),e=u.p.querySelector("link[rel=canonical]",t);return null==e?void 0:e.href}getUrlFromHtml(t,e,i,n){let s=this.findUrlByTag(t,"script","src",e,i,n);return s||(s=this.extractFromScriptHtml(t,e,i,n),s||(s=this.findUrlByTag(t,"a","href",e,i,n))),s}findLongestMatch(t,e,i){let n="";if(t&&t.length>0)for(let s=0;s<t.length;s++){const r=t[s];r.length>n.length&&null==r.match(e)&&0!=r.indexOf('src="')&&0!=r.indexOf('turl="')&&(n=r.replace(i,""))}return n}findUrlByTag(t,e,i,n,s,r){const o=`${e}[${i}*="${t.referrer}"]`,a=u.p.querySelectorAll(t,o);let c="";if(a){let t=0;for(;!c&&t<a.length;){const e=a[t][i].match(n);c=this.findLongestMatch(e,s,r),t++}}return c}extractFromScriptHtml(t,e,i,n){const s=t.referrer;let r="";const o=u.p.getElementsByTagNameFromDocument("script",t);if(o){let t=0;for(;!r&&t<o.length;){const a=o[t].innerHTML;if(a&&-1!=a.indexOf(s)){const t=a.match(e);r=this.findLongestMatch(t,i,n)}t++}}return r}measureExtraction(t){if(n.S.isPerformanceAPISupported()){const e=n.S.currentWindow();e.performance.mark("dv_str_html_end"),e.performance.measure("dv_str_html","dv_str_html_start","dv_str_html_end");const[i]=e.performance.getEntriesByName("dv_str_html");i&&i.duration&&(t.additionalParams.dvp_strhd=i.duration,t.additionalParams.dvpx_strhd=i.duration)}}}},1059:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.SupplySourceCollector=void 0;const n=i(7749),s=i(425),r=i(3868),o=i(6681),a=i(870),u=i(3380),c=i(8426);e.SupplySourceCollector=class{constructor(){this.maxIterations=20}isSupported(){return!0}collectData(t){let e=n.T.getSupplySource();this.isMillenialMediaSupported()?e="mm":c.InmobiWrapper.isSupported()?e="inm_vid":this.isInmobiDisplaySupported()?e="inm_dis":o.MraidWrapper.isSupported()&&(o.MraidWrapper.isOperaMedia()?e="opm":o.MraidWrapper.isAdColony()&&(e="ac")),t.supplySource=a.omidAdapter.getOmidNativePartnerName()||a.omidAdapter.getOmidJSPartnerName()||e,u.Utilities.isNullOrEmpty(t.supplySource)||(t.supplySource=t.supplySource.split("|").join("").split("%7C").join(""))}toString(){return"SupplySource"}isMillenialMediaSupported(){const t=r.S.workingWindow().mmJsBridge,e=s.p.getElementById("aolVideoContainer",r.S.workingDocument())||t&&t.vpaid,i=r.S.workingWindow().mmSdkVersion;return!!e||!!i}isInmobiDisplaySupported(){return 0==n.T.getTagType()&&o.MraidWrapper.isSupported()&&r.S.objectLookup(r.S.currentWindow(),"imraid",this.maxIterations)&&r.S.objectLookup(r.S.currentWindow(),"inmobi",this.maxIterations)}}},9582:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.TpsApiTypeCollector=void 0;const n=i(7749);e.TpsApiTypeCollector=class{isSupported(){return!0}collectData(t){switch(n.T.getDvApi()){case"1":t.tpsApiType="dvvisit";break;case"5":t.tpsApiType="query";break;default:t.tpsApiType="visit"}}toString(){return"TpsApiType"}}},8397:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.TrafficScenarioCollector=void 0;const n=i(3868);e.TrafficScenarioCollector=class{isSupported(){return!0}collectData(t){t.trafficScenarioType=n.S.getScenarioType()}toString(){return"TrafficScenario"}}},1079:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.UserCollector=void 0;const n=i(8379),s=i(363);e.UserCollector=class{isSupported(){return!0}collectData(t){t.uid=s.RandomUtils.getRandom16(),t.callbackName=n.CallbackPrefix+s.RandomUtils.getRandom16()}toString(){return"UserId"}}},6674:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VastUrlCollector=void 0;const n=i(7749),s=i(3380),r=i(7658);e.VastUrlCollector=class{isSupported(t){return this.vastWrapperUrl=n.T.getVastUrl(),this.vastWrapperUrl&&this.vastWrapperUrl.length<=1e3&&s.Utilities.isQueryLengthBelowBrowserLimit(t,t.additionalParams,t.dvpParamsFlags,r.TPSDataMapping,this.vastWrapperUrl)}collectData(t){t.vastWrapperUrl=this.vastWrapperUrl}toString(){return"vastUrl"}}},5390:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VideoParamsCollector=void 0;const n=i(7749),s=i(1966);e.VideoParamsCollector=class{isSupported(){return 1==n.T.getTagType()}collectData(t){t.isOvv=s.VideoPlaybackAdaptor.getOvvObject()?1:void 0,t.isdvvid=1,t.prePlayed=1}toString(){return"VideoParams"}}},9106:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VpaidPlayerUrlCollector=void 0;const n=i(3380),s=i(7658),r=i(1063);e.VpaidPlayerUrlCollector=class{isSupported(t){let e=r.VpaidWrapper.getDvVpaid();const i=e&&e.asset;return i&&i.player&&i.player.src&&(this.vpaidPlayerUrl=encodeURIComponent(i.player.src)),this.vpaidPlayerUrl&&this.vpaidPlayerUrl.length<=1e3&&n.Utilities.isQueryLengthBelowBrowserLimit(t,t.additionalParams,t.dvpParamsFlags,s.TPSDataMapping,this.vpaidPlayerUrl)}collectData(t){t.vpaidPlayerUrl=this.vpaidPlayerUrl}toString(){return"vpaidPlayerUrl"}}},7998:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.WindowPropertiesCollector=void 0;const n=i(3868),s=i(425),r=i(7658),o=i(3380);e.WindowPropertiesCollector=class{isSupported(){return!n.S.isDomlessEnvironment()}collectData(t){const e=n.S.workingWindow();try{t.queuePageID=e.external&&e.external.QueuePageID,t.crawlerUrl=e.external&&e.external.CrawlerUrl&&encodeURIComponent(e.external.CrawlerUrl)}catch(t){}t.postMessageSupported=Number(n.S.isPostMessageSupported()),t.isChrome=e.chrome?1:0,t.historySize=e.history?e.history.length:0,t.innerHeight=s.p.getInnerViewport(!1).height,t.innerWidth=s.p.getInnerViewport(!1).width,t.outerHeight=s.p.getOuterViewport(n.S.workingWindow(),!1).height,t.outerWidth=s.p.getOuterViewport(n.S.workingWindow(),!1).width,t.screenHeight=s.p.getAvailableScreenSize(!1).height,t.screenWidth=s.p.getAvailableScreenSize(!1).width;{const e=n.S.getUserAgent(),i=e?encodeURIComponent(e):e;o.Utilities.isQueryLengthBelowBrowserLimit(t,t.additionalParams,t.dvpParamsFlags,r.TPSDataMapping,i)&&(t.nativeUserAgent=i)}}toString(){return"WindowProperties"}}},5070:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.TPSDataCollector=void 0;const n=i(749),s=i(712);e.TPSDataCollector=class{isSupported(){return!0}constructor(t){this.tpsCollectors=t}executePhase(t){this.tpsCollectors.forEach((e=>{try{e.isSupported(t)&&e.collectData(t)}catch(t){n.v.sendError(s.ClientErrorType.TPSDataCollectorError,t,e.toString())}}))}toString(){return"TPSData"}}},5244:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.validateVisitJsonResponse=e.executeVisitJsonFlow=void 0;const n=i(425),s=i(3868),r=i(194),o=i(7360);function a(t){var e,i,n,s,r;if(!("object"==typeof t&&null!==t))throw new Error("VisitJSON: expected object response");if(!(32===(null===(e=t.impressionId)||void 0===e?void 0:e.length)))throw new Error("VisitJSON: invalid impression id");if(!("object"==typeof t.serverContext&&null!==t.serverContext))throw new Error("VisitJSON: expected server context");if(!("number"==typeof(null===(n=null===(i=t.serverContext)||void 0===i?void 0:i.ce)||void 0===n?void 0:n.ddt)))throw new Error("VisitJSON: invalid DDT");if(!("number"==typeof(null===(r=null===(s=t.serverContext)||void 0===s?void 0:s.ce)||void 0===r?void 0:r.dt)))throw new Error("VisitJSON: invalid DT");return t}e.executeVisitJsonFlow=async function(t,e){const i=a(await n.p.fetchJSON(t));!function(t,e){var i;const n=r.I.It(),o=s.S.currentWindow(),a=e.impressionId,u=e.serverContext,c=null!==(i=e.serverPublicDns)&&void 0!==i?i:null;s.S.workingWindow()[t](n,o,a,c,u)}(e.callbackName,i),function(){const t=r.I.It(),e=s.S.currentWindow(),i=r.I.getImpressionId(e),n=r.I.getFrameId(e);t.pubSub.publish(o.DvEvent.impressionServed,i),t.pubSub.publish(o.DvEvent.impressionServed,n)}()},e.validateVisitJsonResponse=a},1759:function(t,e,i){!function(t,e,i){if("object"==typeof i&&"string"!=typeof i.nodeName)e(t,i);else{i={};var n=["1.5.0-iab4484"];function s(t){for(var e in t)t.hasOwnProperty(e)&&(t[e]=s(t[e]));return Object.freeze(t)}for(var r in e(t,i),i)i.hasOwnProperty(r)&&(null==Object.getOwnPropertyDescriptor(t,r)&&Object.defineProperty(t,r,{value:{}}),n.forEach((function(e){if(null==Object.getOwnPropertyDescriptor(t[r],e)){var n=s(i[r]);Object.defineProperty(t[r],e,{get:function(){return n},enumerable:!0})}})))}}(void 0===i.g?this:i.g,(function(t,e){var n=n||{};n.scope={},n.createTemplateTagFirstArg=function(t){return t.raw=t},n.createTemplateTagFirstArgWithRaw=function(t,e){return t.raw=e,t},n.arrayIteratorImpl=function(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}},n.arrayIterator=function(t){return{next:n.arrayIteratorImpl(t)}},n.makeIterator=function(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];if(e)return e.call(t);if("number"==typeof t.length)return n.arrayIterator(t);throw Error(String(t)+" is not an iterable or ArrayLike")},n.arrayFromIterator=function(t){for(var e,i=[];!(e=t.next()).done;)i.push(e.value);return i},n.arrayFromIterable=function(t){return t instanceof Array?t:n.arrayFromIterator(n.makeIterator(t))},n.ASSUME_ES5=!1,n.ASSUME_NO_NATIVE_MAP=!1,n.ASSUME_NO_NATIVE_SET=!1,n.SIMPLE_FROUND_POLYFILL=!1,n.ISOLATE_POLYFILLS=!1,n.FORCE_POLYFILL_PROMISE=!1,n.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,n.objectCreate=n.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(t){var e=function(){};return e.prototype=t,new e},n.defineProperty=n.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,i){return t==Array.prototype||t==Object.prototype||(t[e]=i.value),t},n.getGlobal=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof i.g&&i.g];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")},n.global=n.getGlobal(this),n.IS_SYMBOL_NATIVE="function"==typeof Symbol&&"symbol"==typeof Symbol("x"),n.TRUST_ES6_POLYFILLS=!n.ISOLATE_POLYFILLS||n.IS_SYMBOL_NATIVE,n.polyfills={},n.propertyToPolyfillSymbol={},n.POLYFILL_PREFIX="$jscp$";var s=function(t,e,i){if(!i||null!=t)return null==(i=n.propertyToPolyfillSymbol[e])?t[e]:void 0!==(i=t[i])?i:t[e]};n.polyfill=function(t,e,i,s){e&&(n.ISOLATE_POLYFILLS?n.polyfillIsolated(t,e,i,s):n.polyfillUnisolated(t,e,i,s))},n.polyfillUnisolated=function(t,e,i,s){for(i=n.global,t=t.split("."),s=0;s<t.length-1;s++){var r=t[s];if(!(r in i))return;i=i[r]}(e=e(s=i[t=t[t.length-1]]))!=s&&null!=e&&n.defineProperty(i,t,{configurable:!0,writable:!0,value:e})},n.polyfillIsolated=function(t,e,i,s){var r=t.split(".");t=1===r.length,s=r[0],s=!t&&s in n.polyfills?n.polyfills:n.global;for(var o=0;o<r.length-1;o++){var a=r[o];if(!(a in s))return;s=s[a]}r=r[r.length-1],null!=(e=e(i=n.IS_SYMBOL_NATIVE&&"es6"===i?s[r]:null))&&(t?n.defineProperty(n.polyfills,r,{configurable:!0,writable:!0,value:e}):e!==i&&(void 0===n.propertyToPolyfillSymbol[r]&&(i=1e9*Math.random()>>>0,n.propertyToPolyfillSymbol[r]=n.IS_SYMBOL_NATIVE?n.global.Symbol(r):n.POLYFILL_PREFIX+i+"$"+r),n.defineProperty(s,n.propertyToPolyfillSymbol[r],{configurable:!0,writable:!0,value:e})))},n.getConstructImplementation=function(){if(n.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(function(){function t(){}return new t,Reflect.construct(t,[],(function(){})),new t instanceof t}())return Reflect.construct;var t=Reflect.construct;return function(e,i,n){return e=t(e,i),n&&Reflect.setPrototypeOf(e,n.prototype),e}}return function(t,e,i){return void 0===i&&(i=t),i=n.objectCreate(i.prototype||Object.prototype),Function.prototype.apply.call(t,i,e)||i}},n.construct=n.getConstructImplementation(),n.underscoreProtoCanBeSet=function(){var t={};try{return t.__proto__={a:!0},t.a}catch(t){}return!1},n.setPrototypeOf=n.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:n.underscoreProtoCanBeSet()?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null,n.inherits=function(t,e){if(t.prototype=n.objectCreate(e.prototype),t.prototype.constructor=t,n.setPrototypeOf){var i=n.setPrototypeOf;i(t,e)}else for(i in e)if("prototype"!=i)if(Object.defineProperties){var s=Object.getOwnPropertyDescriptor(e,i);s&&Object.defineProperty(t,i,s)}else t[i]=e[i];t.superClass_=e.prototype},n.getRestArguments=function(){for(var t=Number(this),e=[],i=t;i<arguments.length;i++)e[i-t]=arguments[i];return e},n.polyfill("Reflect",(function(t){return t||{}}),"es6","es3"),n.polyfill("Reflect.construct",(function(t){return n.construct}),"es6","es3"),n.polyfill("Reflect.setPrototypeOf",(function(t){if(t)return t;if(n.setPrototypeOf){var e=n.setPrototypeOf;return function(t,i){try{return e(t,i),!0}catch(t){return!1}}}return null}),"es6","es5"),n.owns=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.polyfill("Object.values",(function(t){return t||function(t){var e,i=[];for(e in t)n.owns(t,e)&&i.push(t[e]);return i}}),"es8","es3");var r={AdEventType:{IMPRESSION:"impression",LOADED:"loaded",GEOMETRY_CHANGE:"geometryChange",SESSION_START:"sessionStart",SESSION_ERROR:"sessionError",SESSION_FINISH:"sessionFinish",MEDIA:"media",VIDEO:"video",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction",STATE_CHANGE:"stateChange"},MediaEventType:{LOADED:"loaded",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction"},ImpressionType:{DEFINED_BY_JAVASCRIPT:"definedByJavaScript",UNSPECIFIED:"unspecified",LOADED:"loaded",BEGIN_TO_RENDER:"beginToRender",ONE_PIXEL:"onePixel",VIEWABLE:"viewable",AUDIBLE:"audible",OTHER:"other"},ErrorType:{GENERIC:"generic",VIDEO:"video",MEDIA:"media"},AdSessionType:{NATIVE:"native",HTML:"html",JAVASCRIPT:"javascript"},EventOwner:{NATIVE:"native",JAVASCRIPT:"javascript",NONE:"none"},SessionOwner:{JAVASCRIPT:"javascript",NATIVE:"native"},AccessMode:{FULL:"full",DOMAIN:"domain",LIMITED:"limited"},AppState:{BACKGROUNDED:"backgrounded",FOREGROUNDED:"foregrounded"},DeviceLockState:{LOCKED:"locked",UNLOCKED:"unlocked"},Environment:{APP:"app",WEB:"web"},DeviceCategory:{CTV:"ctv",DESKTOP:"desktop",MOBILE:"mobile",OTHER:"other"},InteractionType:{CLICK:"click",INVITATION_ACCEPT:"invitationAccept"},CreativeType:{DEFINED_BY_JAVASCRIPT:"definedByJavaScript",HTML_DISPLAY:"htmlDisplay",NATIVE_DISPLAY:"nativeDisplay",VIDEO:"video",AUDIO:"audio"},MediaType:{DISPLAY:"display",VIDEO:"video"},Reason:{NOT_FOUND:"notFound",HIDDEN:"hidden",BACKGROUNDED:"backgrounded",PICTURE_IN_PICTURE:"pictureInPicture",DEVICE_LOCKED:"deviceLocked",VIEWPORT:"viewport",OBSTRUCTED:"obstructed",CLIPPED:"clipped",UNMEASURABLE:"unmeasurable",NO_WINDOW_FOCUS:"noWindowFocus",NO_OUTPUT_DEVICE:"noOutputDevice"},SupportedFeatures:{CONTAINER:"clid",VIDEO:"vlid"},VideoPosition:{PREROLL:"preroll",MIDROLL:"midroll",POSTROLL:"postroll",STANDALONE:"standalone"},VideoPlayerState:{MINIMIZED:"minimized",COLLAPSED:"collapsed",NORMAL:"normal",EXPANDED:"expanded",FULLSCREEN:"fullscreen"},NativeViewKeys:{X:"x",LEFT:"left",Y:"y",TOP:"top",WIDTH:"width",HEIGHT:"height",AD_SESSION_ID:"adSessionId",IS_FRIENDLY_OBSTRUCTION_FOR:"isFriendlyObstructionFor",CLIPS_TO_BOUNDS:"clipsToBounds",CHILD_VIEWS:"childViews",END_X:"endX",END_Y:"endY",OBSTRUCTIONS:"obstructions",OBSTRUCTION_CLASS:"obstructionClass",OBSTRUCTION_PURPOSE:"obstructionPurpose",OBSTRUCTION_REASON:"obstructionReason",PIXELS:"pixels",HAS_WINDOW_FOCUS:"hasWindowFocus"},MeasurementStateChangeSource:{CONTAINER:"container",CREATIVE:"creative"},ElementMarkup:{OMID_ELEMENT_CLASS_NAME:"omid-element"},CommunicationType:{NONE:"NONE",DIRECT:"DIRECT",POST_MESSAGE:"POST_MESSAGE"},OmidImplementer:{OMSDK:"omsdk"},MessageMethod:{IDENTIFY_SERVICE_WINDOW:"identifyServiceWindow"}},o="omid_message_guid",a="omid_message_method",u="omid_message_version",c="omid_message_args",d=function(t,e,i,n){this.guid=t,this.method=e,this.version=i,this.args=n};d.isValidSerializedMessage=function(t){return!!t&&void 0!==t[o]&&void 0!==t[a]&&void 0!==t[u]&&"string"==typeof t[o]&&"string"==typeof t[a]&&"string"==typeof t[u]&&(void 0===t[c]||void 0!==t[c])},d.deserialize=function(t){return new d(t[o],t[a],t[u],t[c])},d.prototype.serialize=function(){var t={};return t[o]=this.guid,t[a]=this.method,t[u]=this.version,void 0!==this.args&&(t[c]=this.args),t};var l=function(t){this.to=t,this.communicationType_=r.CommunicationType.NONE};l.prototype.sendMessage=function(t,e){},l.prototype.handleMessage=function(t,e){this.onMessage&&this.onMessage(t,e)},l.prototype.serialize=function(t){return JSON.stringify(t)},l.prototype.deserialize=function(t){return JSON.parse(t)},l.prototype.isDirectCommunication=function(){return this.communicationType_===r.CommunicationType.DIRECT},l.prototype.isCrossOrigin=function(){};var h={};function v(){var t=n.getRestArguments.apply(0,arguments);f((function(){throw new(Function.prototype.bind.apply(Error,[null,"Could not complete the test successfully - "].concat(n.arrayFromIterable(t))))}),(function(){return console.error.apply(console,n.arrayFromIterable(t))}))}function p(){var t=n.getRestArguments.apply(0,arguments);f((function(){}),(function(){return console.error.apply(console,n.arrayFromIterable(t))}))}function f(t,e){"undefined"!=typeof jasmine&&jasmine?t():"undefined"!=typeof console&&console&&console.error&&e()}h.error=v,h.debug=p;var g={},m={ApiVersion:"1.0",Version:"1.5.0-iab4484"},b={};function w(t,e){if(!e)throw Error("Value for "+t+" is undefined, null or blank.");if("string"!=typeof e&&!(e instanceof String))throw Error("Value for "+t+" is not a string.");if(""===e.trim())throw Error("Value for "+t+" is empty string.")}function _(t,e){if(null==e)throw Error("Value for "+t+" is undefined or null")}function S(t,e){if(null==e)throw Error(t+" must not be null or undefined.");if("number"!=typeof e||isNaN(e))throw Error("Value for "+t+" is not a number")}function y(t,e,i,n){if(S(t,e),e<i||e>n)throw Error("Value for "+t+" is outside the range ["+i+","+n+"]")}function M(t,e){if(!e)throw Error(t+" must not be truthy.")}function O(t,e){if(S(t,e),0>e)throw Error(t+" must be a positive number.")}b.assertTruthyString=w,b.assertNotNullObject=_,b.assertNumber=S,b.assertNumberBetween=y,b.assertFunction=M,b.assertPositiveNumber=O;var E={},T=3;function A(t){return/\d+\.\d+\.\d+(-.*)?/.test(t)}function I(t,e){t=t.split("-")[0].split("."),e=e.split("-")[0].split(".");for(var i=0;i<T;i++){var n=parseInt(t[i],10),s=parseInt(e[i],10);if(n>s)break;if(n<s)return!1}return!0}E.isValidVersion=A,E.versionGreaterOrEqual=I;var C={},j="1.0.3";function D(t,e){return A(t)&&I(t,j)?e:JSON.stringify(e)}function V(t,e){return A(t)&&I(t,j)?e||[]:e&&"string"==typeof e?JSON.parse(e):[]}C.serializeMessageArgs=D,C.deserializeMessageArgs=V;var x={};function R(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return t="y"===t?(3&e|8).toString(16):e.toString(16)}))}x.generateGuid=R;var P={OMID_PRESENT_FRAME_NAME:"omid_v1_present",OMID_PRESENT_FRAME_NAME_WEB:"omid_v1_present_web",OMID_PRESENT_FRAME_NAME_APP:"omid_v1_present_app",getEnvironmentIframeName:function(t){var e={};return(e[r.Environment.APP]=P.OMID_PRESENT_FRAME_NAME_APP,e[r.Environment.WEB]=P.OMID_PRESENT_FRAME_NAME_WEB,e)[t]}};function k(t,e){try{return t.frames&&!!t.frames[e]}catch(t){return!1}}function N(t,e){t.document.write('<iframe style="display:none" id="'+e+'" name="'+e+'" sandbox></iframe>')}P.isOmidPresent=function(t){return[P.OMID_PRESENT_FRAME_NAME,P.OMID_PRESENT_FRAME_NAME_WEB,P.OMID_PRESENT_FRAME_NAME_APP].some((function(e){return k(t,e)}))},P.getOmidEnvironment=function(t){for(var e=n.makeIterator(Object.values(r.Environment)),i=e.next();!i.done;i=e.next()){if(i=i.value,k(t,P.getEnvironmentIframeName(i)))return i}return null},P.declareOmidPresence=function(t,e){t.frames&&t.document&&![P.OMID_PRESENT_FRAME_NAME,P.OMID_PRESENT_FRAME_NAME_WEB,P.OMID_PRESENT_FRAME_NAME_APP].some((function(e){return!!t.frames[e]}))&&(null==t.document.body&&P.isMutationObserverAvailable_(t)?P.registerMutationObserver_(t,e):(e=P.getEnvironmentIframeName(e),t.document.body?(P.appendPresenceIframe_(t,P.OMID_PRESENT_FRAME_NAME),P.appendPresenceIframe_(t,e)):(N(t,P.OMID_PRESENT_FRAME_NAME),N(t,e))))},P.appendPresenceIframe_=function(t,e){var i=t.document.createElement("iframe");i.id=e,i.name=e,i.style.display="none",i.sandbox="",t.document.body.appendChild(i)},P.isMutationObserverAvailable_=function(t){return"MutationObserver"in t},P.registerMutationObserver_=function(t,e){var i=new MutationObserver((function(n){n.forEach((function(n){"BODY"===n.addedNodes[0].nodeName&&(n=P.getEnvironmentIframeName(e),P.appendPresenceIframe_(t,P.OMID_PRESENT_FRAME_NAME),P.appendPresenceIframe_(t,n),i.disconnect())}))}));i.observe(t.document.documentElement,{childList:!0})};var L={},U={SESSION_SERVICE:"SessionService.",VERIFICATION_SERVICE:"VerificationService."};function F(t){return $(t,U.SESSION_SERVICE)}function B(t){return G(t,U.SESSION_SERVICE)}function z(t){return null!=B(t)}function q(t){return $(t,U.VERIFICATION_SERVICE)}function W(t){return G(t,U.VERIFICATION_SERVICE)}function H(t){return null!=W(t)}function $(t,e){return e+t}function G(t,e){return(t=t.match(new RegExp("^"+e+"(.*)")))&&t[1]}L.getPrefixedSessionServiceMethod=F,L.getPrefixedVerificationServiceMethod=q,L.getUnprefixedSessionServiceMethod=B,L.getUnprefixedVerificationServiceMethod=W,L.isPrefixedSessionServiceMethod=z,L.isPrefixedVerificationServiceMethod=H;var J={};function Q(){if(void 0!==t&&t)return t;if(void 0!==i.g&&i.g)return i.g;if("undefined"!=typeof window&&window)return window;if("undefined"!=typeof globalThis&&globalThis)return globalThis;var e=Function("return this")();if(e)return e;throw Error("Could not determine global object context.")}J.omidGlobal=Q();var K={};function Y(){return void 0===e?null:e}function X(t,e){return t&&(t[e]||(t[e]={}))}function Z(t,e,i){(i=void 0===i?Y():i)&&((t=t.split(".")).slice(0,t.length-1).reduce(X,i)[t[t.length-1]]=e)}K.packageExport=Z;var tt={};function et(t){return null!=t&&void 0!==t.top&&null!=t.top}function it(t){if(t===J.omidGlobal)return!1;try{if(void 0===t.location.hostname)return!0;nt(t)}catch(t){return!0}return!1}function nt(t){return""===t.x||""!==t.x}function st(t){return void 0===t&&"undefined"!=typeof window&&window&&(t=window),et(t)?t:J.omidGlobal}function rt(t){return et(t)?t.top:J.omidGlobal}function ot(t){try{return!!t.top.location.href}catch(t){return!1}}function at(t){return t.type===r.AdEventType.SESSION_START&&(void 0!==t.data.context.videoElement&&(t.data.context.videoElement="Video Element ("+t.data.context.videoElement.id+")"),void 0!==t.data.context.slotElement&&(t.data.context.slotElement="Slot Element ("+t.data.context.slotElement.id+")")),t}function ut(t){if(!et(t))return null;try{var e=t.top;return it(e)?null:e.location.href}catch(t){return null}}tt.evaluatePageUrl=ut,tt.isCrossOrigin=it,tt.removeDomElements=at,tt.resolveGlobalContext=st,tt.resolveTopWindowContext=rt,tt.isTopWindowAccessible=ot;var ct=function(t){l.call(this,t),this.communicationType_=r.CommunicationType.DIRECT,this.handleExportedMessage=ct.prototype.handleExportedMessage.bind(this)};n.inherits(ct,l),ct.prototype.sendMessage=function(t,e){if(!(e=void 0===e?this.to:e))throw Error("Message destination must be defined at construction time or when sending the message.");e.handleExportedMessage(t.serialize(),this)},ct.prototype.handleExportedMessage=function(t,e){d.isValidSerializedMessage(t)&&this.handleMessage(d.deserialize(t),e)},ct.prototype.isCrossOrigin=function(){return!1};var dt=function(t,e){e=void 0===e?J.omidGlobal:e,l.call(this,e);var i=this;this.communicationType_=r.CommunicationType.POST_MESSAGE,t.addEventListener("message",(function(t){if("object"==typeof t.data){var e=t.data;d.isValidSerializedMessage(e)&&(e=d.deserialize(e),t.source&&i.handleMessage(e,t.source))}}))};n.inherits(dt,l),dt.isCompatibleContext=function(t){return!!(t&&t.addEventListener&&t.postMessage)},dt.prototype.sendMessage=function(t,e){if(!(e=void 0===e?this.to:e))throw Error("Message destination must be defined at construction time or when sending the message.");e.postMessage(t.serialize(),"*")},dt.prototype.isCrossOrigin=function(){return!this.to||it(this.to)};var lt={},ht=["omid","v1_SessionServiceCommunication"],vt=["omid","v1_VerificationServiceCommunication"],pt=["omidVerificationProperties","serviceWindow"];function ft(t,e){return e.reduce((function(t,e){return t&&t[e]}),t)}function gt(t,e,i,n){if(!it(e))try{var s=ft(e,i);if(s)return new ct(s)}catch(t){}return n(e)?new dt(t,e):null}function mt(t,e,i,s){for(var r=(e=n.makeIterator(e)).next();!r.done;r=e.next())if(r=gt(t,r.value,i,s))return r;return null}function bt(t,e,i){i=void 0===i?P.isOmidPresent:i;var n=[t,rt(t)];return e&&n.unshift(e),mt(t,n,ht,i)}function wt(t,e){e=void 0===e?P.isOmidPresent:e;var i=[],n=ft(t,pt);return n&&i.push(n),i.push(rt(t)),mt(t,i,vt,e)}lt.startSessionServiceCommunication=bt,lt.startVerificationServiceCommunication=wt;var _t=m.Version,St;function yt(){var t=J.omidGlobal.omid3p;return t&&"function"==typeof t.registerSessionObserver&&"function"==typeof t.addEventListener?t:null}var Mt=function(t){(this.communication=t||wt(st()))?this.communication.onMessage=this.handleMessage_.bind(this):(t=yt())&&(this.omid3p=t),this.remoteIntervals_=this.remoteTimeouts_=0,this.callbackMap_={},this.imgCache_=[],this.injectionId_=(t=J.omidGlobal.omidVerificationProperties)?t.injectionId:void 0};Mt.prototype.isSupported=function(){return!(this.getEnvironment()===r.Environment.WEB&&!this.injectionId_)&&!(!this.communication&&!this.omid3p)},Mt.prototype.getEnvironment=function(){var t=st();return this.injectionSource()||(0,P.getOmidEnvironment)(t)||(0,P.getOmidEnvironment)(rt(t))},Mt.prototype.injectionSource=function(){var t=J.omidGlobal.omidVerificationProperties;if(t&&t.injectionSource)return t.injectionSource},Mt.prototype.registerSessionObserver=function(t,e){M("functionToExecute",t),this.omid3p?this.omid3p.registerSessionObserver(t,e,this.injectionId_):this.sendMessage_("addSessionListener",t,e,this.injectionId_)},Mt.prototype.addEventListener=function(t,e){w("eventType",t),M("functionToExecute",e),this.omid3p?this.omid3p.addEventListener(t,e,this.injectionId_):this.sendMessage_("addEventListener",e,t,this.injectionId_)},Mt.prototype.sendUrl=function(t,e,i){w("url",t),J.omidGlobal.document&&J.omidGlobal.document.createElement?this.sendUrlWithImg_(t,e,i):this.sendMessage_("sendUrl",(function(t){t&&e?e():!t&&i&&i()}),t)},Mt.prototype.sendUrlWithImg_=function(t,e,i){var n=this,s=J.omidGlobal.document.createElement("img");this.imgCache_.push(s);var r=function(t){var e=n.imgCache_.indexOf(s);0<=e&&n.imgCache_.splice(e,1),t&&t()};s.addEventListener("load",r.bind(this,e)),s.addEventListener("error",r.bind(this,i)),s.src=t},Mt.prototype.injectJavaScriptResource=function(t,e,i){var n=this;w("url",t),J.omidGlobal.document?this.injectJavascriptResourceUrlInDom_(t,e,i):this.sendMessage_("injectJavaScriptResource",(function(s,r){s?(n.evaluateJavaScript_(r,t),e()):(v("Service failed to load JavaScript resource."),i())}),t)},Mt.prototype.injectJavascriptResourceUrlInDom_=function(t,e,i){var n=J.omidGlobal.document,s=n.body;(n=n.createElement("script")).onload=e,n.onerror=i,n.src=t,n.type="application/javascript",s.appendChild(n)},Mt.prototype.evaluateJavaScript_=function(t,e){try{eval(t)}catch(t){v('Error evaluating the JavaScript resource from "'+e+'".')}},Mt.prototype.setTimeout=function(t,e){if(M("functionToExecute",t),O("timeInMillis",e),this.hasTimeoutMethods_())return J.omidGlobal.setTimeout(t,e);var i=this.remoteTimeouts_++;return this.sendMessage_("setTimeout",t,i,e),i},Mt.prototype.clearTimeout=function(t){O("timeoutId",t),this.hasTimeoutMethods_()?J.omidGlobal.clearTimeout(t):this.sendOneWayMessage_("clearTimeout",t)},Mt.prototype.setInterval=function(t,e){if(M("functionToExecute",t),O("timeInMillis",e),this.hasIntervalMethods_())return J.omidGlobal.setInterval(t,e);var i=this.remoteIntervals_++;return this.sendMessage_("setInterval",t,i,e),i},Mt.prototype.clearInterval=function(t){O("intervalId",t),this.hasIntervalMethods_()?J.omidGlobal.clearInterval(t):this.sendOneWayMessage_("clearInterval",t)},Mt.prototype.hasTimeoutMethods_=function(){return"function"==typeof J.omidGlobal.setTimeout&&"function"==typeof J.omidGlobal.clearTimeout},Mt.prototype.hasIntervalMethods_=function(){return"function"==typeof J.omidGlobal.setInterval&&"function"==typeof J.omidGlobal.clearInterval},Mt.prototype.handleMessage_=function(t,e){e=t.method;var i=t.guid;if(t=t.args,"response"===e&&this.callbackMap_[i]){var n=V(m.Version,t);this.callbackMap_[i].apply(this,n)}"error"===e&&window.console&&v(t)},Mt.prototype.sendOneWayMessage_=function(t){var e=n.getRestArguments.apply(1,arguments);this.sendMessage_.apply(this,[t,null].concat(n.arrayFromIterable(e)))},Mt.prototype.sendMessage_=function(t,e){var i=n.getRestArguments.apply(2,arguments);if(this.communication){var s=R();e&&(this.callbackMap_[s]=e),i=new d(s,q(t),m.Version,D(m.Version,i)),this.communication.sendMessage(i)}},Z("OmidVerificationClient",Mt)}),e),t.exports=function(){return e.OmidVerificationClient}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var i=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(i.exports,i,i.exports,__webpack_require__),i.exports}__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}();var __webpack_exports__={};!function(){try{const t=__webpack_require__(3038).default;t.setTotalSyncTimeStartTime(__dv_global_script_start_time__),t.setIndexExecutionStartTime();__webpack_require__(8519)()}catch(t){let e,i="https://tps.doubleverify.com/visit.jpg",n=7165;try{const{T:t}=__webpack_require__(7749),{I:s}=__webpack_require__(194),{S:r}=__webpack_require__(3868);i=`${t.getServerPrefix()}${t.getErrorPath()}`,n=s.getDvtpScriptVersion(),e=r.getScenarioType()}catch(t){}let s=`${i}?ctx=818052&cmp=1619415&dvtagver=6.1.src&dvp_isLostImp=1&cerrt=4&jsver=7165&tgjsver=${n}&flvr=0`;if("function"==typeof encodeURIComponent){s+="&napr=WebPackConfig__"+encodeURIComponent(t.message);"string"==typeof t.stack&&Math.random()<=.1&&(s+="&ee_dp_errstk="+encodeURIComponent(t.stack))}e&&(s+="&tstype="+e),"object"==typeof omidNative&&"function"==typeof omidNative.sendUrl?(s+="&dvp_iomd=1",e||(s+="&tstype=4"),omidNative.sendUrl(s)):(new Image).src=s}}();